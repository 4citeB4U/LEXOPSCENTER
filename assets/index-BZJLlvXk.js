import{r as xm,g as Yu,a as rg,c as sg}from"./vendor-c5ypKtDW.js";import{G as bm,T as Ql}from"./ai-sfLgAeOs.js";(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))d(y);new MutationObserver(y=>{for(const v of y)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&d(w)}).observe(document,{childList:!0,subtree:!0});function m(y){const v={};return y.integrity&&(v.integrity=y.integrity),y.referrerPolicy&&(v.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?v.credentials="include":y.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(y){if(y.ep)return;y.ep=!0;const v=m(y);fetch(y.href,v)}})();var Eu={exports:{}},is={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function og(){if(Vh)return is;Vh=1;var c=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function m(d,y,v){var w=null;if(v!==void 0&&(w=""+v),y.key!==void 0&&(w=""+y.key),"key"in y){v={};for(var j in y)j!=="key"&&(v[j]=y[j])}else v=y;return y=v.ref,{$$typeof:c,type:d,key:w,ref:y!==void 0?y:null,props:v}}return is.Fragment=f,is.jsx=m,is.jsxs=m,is}var Xh;function cg(){return Xh||(Xh=1,Eu.exports=og()),Eu.exports}var r=cg(),J=xm();const Ji=Yu(J);var _u={exports:{}},rs={},Ou={exports:{}},Du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function ug(){return Zh||(Zh=1,(function(c){function f(V,de){var be=V.length;V.push(de);e:for(;0<be;){var Ue=be-1>>>1,De=V[Ue];if(0<y(De,de))V[Ue]=de,V[be]=De,be=Ue;else break e}}function m(V){return V.length===0?null:V[0]}function d(V){if(V.length===0)return null;var de=V[0],be=V.pop();if(be!==de){V[0]=be;e:for(var Ue=0,De=V.length,Tt=De>>>1;Ue<Tt;){var ot=2*(Ue+1)-1,Ye=V[ot],gt=ot+1,Vt=V[gt];if(0>y(Ye,be))gt<De&&0>y(Vt,Ye)?(V[Ue]=Vt,V[gt]=be,Ue=gt):(V[Ue]=Ye,V[ot]=be,Ue=ot);else if(gt<De&&0>y(Vt,be))V[Ue]=Vt,V[gt]=be,Ue=gt;else break e}}return de}function y(V,de){var be=V.sortIndex-de.sortIndex;return be!==0?be:V.id-de.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;c.unstable_now=function(){return v.now()}}else{var w=Date,j=w.now();c.unstable_now=function(){return w.now()-j}}var k=[],K=[],B=1,I=null,F=3,ae=!1,le=!1,ce=!1,pe=!1,Ne=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function ie(V){for(var de=m(K);de!==null;){if(de.callback===null)d(K);else if(de.startTime<=V)d(K),de.sortIndex=de.expirationTime,f(k,de);else break;de=m(K)}}function ke(V){if(ce=!1,ie(V),!le)if(m(k)!==null)le=!0,P||(P=!0,rt());else{var de=m(K);de!==null&&Ht(ke,de.startTime-V)}}var P=!1,xe=-1,Le=5,$e=-1;function dt(){return pe?!0:!(c.unstable_now()-$e<Le)}function cn(){if(pe=!1,P){var V=c.unstable_now();$e=V;var de=!0;try{e:{le=!1,ce&&(ce=!1,oe(xe),xe=-1),ae=!0;var be=F;try{t:{for(ie(V),I=m(k);I!==null&&!(I.expirationTime>V&&dt());){var Ue=I.callback;if(typeof Ue=="function"){I.callback=null,F=I.priorityLevel;var De=Ue(I.expirationTime<=V);if(V=c.unstable_now(),typeof De=="function"){I.callback=De,ie(V),de=!0;break t}I===m(k)&&d(k),ie(V)}else d(k);I=m(k)}if(I!==null)de=!0;else{var Tt=m(K);Tt!==null&&Ht(ke,Tt.startTime-V),de=!1}}break e}finally{I=null,F=be,ae=!1}de=void 0}}finally{de?rt():P=!1}}}var rt;if(typeof fe=="function")rt=function(){fe(cn)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,Hn=nn.port2;nn.port1.onmessage=cn,rt=function(){Hn.postMessage(null)}}else rt=function(){Ne(cn,0)};function Ht(V,de){xe=Ne(function(){V(c.unstable_now())},de)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(V){V.callback=null},c.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<V?Math.floor(1e3/V):5},c.unstable_getCurrentPriorityLevel=function(){return F},c.unstable_next=function(V){switch(F){case 1:case 2:case 3:var de=3;break;default:de=F}var be=F;F=de;try{return V()}finally{F=be}},c.unstable_requestPaint=function(){pe=!0},c.unstable_runWithPriority=function(V,de){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var be=F;F=V;try{return de()}finally{F=be}},c.unstable_scheduleCallback=function(V,de,be){var Ue=c.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ue+be:Ue):be=Ue,V){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=be+De,V={id:B++,callback:de,priorityLevel:V,startTime:be,expirationTime:De,sortIndex:-1},be>Ue?(V.sortIndex=be,f(K,V),m(k)===null&&V===m(K)&&(ce?(oe(xe),xe=-1):ce=!0,Ht(ke,be-Ue))):(V.sortIndex=De,f(k,V),le||ae||(le=!0,P||(P=!0,rt()))),V},c.unstable_shouldYield=dt,c.unstable_wrapCallback=function(V){var de=F;return function(){var be=F;F=de;try{return V.apply(this,arguments)}finally{F=be}}}})(Du)),Du}var Fh;function dg(){return Fh||(Fh=1,Ou.exports=ug()),Ou.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function fg(){if(Jh)return rs;Jh=1;var c=dg(),f=xm(),m=rg();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(v(e)!==e)throw Error(d(188))}function k(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return j(i),e;if(o===a)return j(i),t;o=o.sibling}throw Error(d(188))}if(n.return!==a.return)n=i,a=o;else{for(var p=!1,b=i.child;b;){if(b===n){p=!0,n=i,a=o;break}if(b===a){p=!0,a=i,n=o;break}b=b.sibling}if(!p){for(b=o.child;b;){if(b===n){p=!0,n=o,a=i;break}if(b===a){p=!0,a=o,n=i;break}b=b.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function K(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=K(e),t!==null)return t;e=e.sibling}return null}var B=Object.assign,I=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),ae=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),$e=Symbol.for("react.activity"),dt=Symbol.for("react.memo_cache_sentinel"),cn=Symbol.iterator;function rt(e){return e===null||typeof e!="object"?null:(e=cn&&e[cn]||e["@@iterator"],typeof e=="function"?e:null)}var nn=Symbol.for("react.client.reference");function Hn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case pe:return"Profiler";case ce:return"StrictMode";case ke:return"Suspense";case P:return"SuspenseList";case $e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ae:return"Portal";case fe:return(e.displayName||"Context")+".Provider";case oe:return(e._context.displayName||"Context")+".Consumer";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:Hn(e.type)||"Memo";case Le:t=e._payload,e=e._init;try{return Hn(e(t))}catch{}}return null}var Ht=Array.isArray,V=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ue=[],De=-1;function Tt(e){return{current:e}}function ot(e){0>De||(e.current=Ue[De],Ue[De]=null,De--)}function Ye(e,t){De++,Ue[De]=e.current,e.current=t}var gt=Tt(null),Vt=Tt(null),Xt=Tt(null),Ra=Tt(null);function Zl(e,t){switch(Ye(Xt,t),Ye(Vt,e),Ye(gt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bh(t),e=wh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(gt),Ye(gt,e)}function je(){ot(gt),ot(Vt),ot(Xt)}function Fl(e){e.memoizedState!==null&&Ye(Ra,e);var t=gt.current,n=wh(t,e.type);t!==n&&(Ye(Vt,e),Ye(gt,n))}function na(e){Vt.current===e&&(ot(gt),ot(Vt)),Ra.current===e&&(ot(Ra),es._currentValue=be)}var Ze=Object.prototype.hasOwnProperty,aa=c.unstable_scheduleCallback,Wi=c.unstable_cancelCallback,la=c.unstable_shouldYield,Go=c.unstable_requestPaint,wn=c.unstable_now,Ho=c.unstable_getCurrentPriorityLevel,hs=c.unstable_ImmediatePriority,Jl=c.unstable_UserBlockingPriority,Zt=c.unstable_NormalPriority,ms=c.unstable_LowPriority,La=c.unstable_IdlePriority,ps=c.log,wl=c.unstable_setDisableYieldValue,Mn=null,zt=null;function an(e){if(typeof ps=="function"&&wl(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Mn,e)}catch{}}var Rt=Math.clz32?Math.clz32:Wl,$l=Math.log,ia=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-($l(e)/ia|0)|0}var Ua=256,un=4194304;function ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kn(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,o=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~o,a!==0?i=ve(a):(p&=b,p!==0?i=ve(p):n||(n=b&~e,n!==0&&(i=ve(n))))):(b=a&~o,b!==0?i=ve(b):p!==0?i=ve(p):n||(n=a&~e,n!==0&&(i=ve(n)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function dn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Pl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ge(){var e=Ua;return Ua<<=1,(Ua&4194048)===0&&(Ua=256),e}function ei(){var e=un;return un<<=1,(un&62914560)===0&&(un=4194304),e}function ti(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gs(e,t,n,a,i,o){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,T=e.expirationTimes,G=e.hiddenUpdates;for(n=p&~n;0<n;){var W=31-Rt(n),te=1<<W;b[W]=0,T[W]=-1;var Y=G[W];if(Y!==null)for(G[W]=null,W=0;W<Y.length;W++){var Q=Y[W];Q!==null&&(Q.lane&=-536870913)}n&=~te}a!==0&&ni(e,a,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(p&~t))}function ni(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function ys(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Rt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Pi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function In(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sa(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:Gh(e.type))}function er(e,t){var n=de.p;try{return de.p=e,t()}finally{de.p=n}}var fn=Math.random().toString(36).slice(2),Re="__reactFiber$"+fn,Xe="__reactProps$"+fn,Ba="__reactContainer$"+fn,qa="__reactEvents$"+fn,ai="__reactListeners$"+fn,li="__reactHandles$"+fn,vs="__reactResources$"+fn,ln="__reactMarker$"+fn;function Yn(e){delete e[Re],delete e[Xe],delete e[qa],delete e[ai],delete e[li]}function Ft(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ba]||n[Re]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Th(e);e!==null;){if(n=e[Re])return n;e=Th(e)}return t}e=n,n=e.parentNode}return null}function zn(e){if(e=e[Re]||e[Ba]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function jl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Jt(e){var t=e[vs];return t||(t=e[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[ln]=!0}var Qn=new Set,tr={};function Rn(e,t){et(e,t),et(e+"Capture",t)}function et(e,t){for(tr[e]=t,e=0;e<t.length;e++)Qn.add(t[e])}var oa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jn={},nr={};function Ga(e){return Ze.call(nr,e)?!0:Ze.call(jn,e)?!1:oa.test(e)?nr[e]=!0:(jn[e]=!0,!1)}function ca(e,t,n){if(Ga(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ha(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Ln,ar;function Un(e){if(Ln===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ln=t&&t[1]||"",ar=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+e+ar}var ii=!1;function Ge(e,t){if(!e||ii)return"";ii=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var Y=Q}Reflect.construct(e,[],te)}else{try{te.call()}catch(Q){Y=Q}e.call(te.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),p=o[0],b=o[1];if(p&&b){var T=p.split(`
`),G=b.split(`
`);for(i=a=0;a<T.length&&!T[a].includes("DetermineComponentFrameRoot");)a++;for(;i<G.length&&!G[i].includes("DetermineComponentFrameRoot");)i++;if(a===T.length||i===G.length)for(a=T.length-1,i=G.length-1;1<=a&&0<=i&&T[a]!==G[i];)i--;for(;1<=a&&0<=i;a--,i--)if(T[a]!==G[i]){if(a!==1||i!==1)do if(a--,i--,0>i||T[a]!==G[i]){var W=`
`+T[a].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=a&&0<=i);break}}}finally{ii=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Un(n):""}function xs(e){switch(e.tag){case 26:case 27:case 5:return Un(e.type);case 16:return Un("Lazy");case 13:return Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Ge(e.type,!1);case 11:return Ge(e.type.render,!1);case 1:return Ge(e.type,!0);case 31:return Un("Activity");default:return""}}function lr(e){try{var t="";do t+=xs(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sl(e){var t=tt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){a=""+p,o.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vn(e){e._valueTracker||(e._valueTracker=Sl(e))}function ua(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=tt(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ir=/[\n"\\]/g;function Lt(e){return e.replace(ir,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ri(e,t,n,a,i,o,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?si(e,p,$t(t)):n!=null?si(e,p,$t(n)):a!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+$t(b):e.removeAttribute("name")}function Nl(e,t,n,a,i,o,p,b){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+$t(n):"",t=t!=null?""+$t(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function si(e,t,n){t==="number"&&Ka(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Kt(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+$t(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ia(e,t,n){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$t(n):""}function rr(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Ht(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=$t(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oi(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Qe.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function bs(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&oi(e,i,a)}else for(var o in t)t.hasOwnProperty(o)&&oi(e,o,t[o])}function sr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return Qa.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Sn=null;function ci(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,ct=null;function mn(e){var t=zn(e);if(t&&(e=t.stateNode)){var n=e[Xe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ri(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Xe]||null;if(!i)throw Error(d(90));ri(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&ua(a)}break e;case"textarea":Ia(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Kt(e,!!n.multiple,t,!1)}}}var ha=!1;function Va(e,t,n){if(ha)return e(t,n);ha=!0;try{var a=e(t);return a}finally{if(ha=!1,(fa!==null||ct!==null)&&(oo(),fa&&(t=fa,e=ct,ct=fa=null,mn(t),e)))for(t=0;t<e.length;t++)mn(e[t])}}function ma(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Xe]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(_t)try{var It={};Object.defineProperty(It,"passive",{get:function(){or=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{or=!1}var Nn=null,ui=null,Xa=null;function Za(){if(Xa)return Xa;var e,t=ui,n=t.length,a,i="value"in Nn?Nn.value:Nn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[o-a];a++);return Xa=i.slice(e,1<a?1-a:void 0)}function Fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function ws(){return!1}function wt(e){function t(n,a,i,o,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(o):o[b]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tl:ws,this.isPropagationStopped=ws,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=wt(pa),Xn=B({},pa,{view:0,detail:0}),fi=wt(Xn),kl,cr,Al,hi=B({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Al&&(Al&&e.type==="mousemove"?(kl=e.screenX-Al.screenX,cr=e.screenY-Al.screenY):cr=kl=0,Al=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:cr}}),mi=wt(hi),ur=B({},hi,{dataTransfer:0}),js=wt(ur),pi=B({},Xn,{relatedTarget:0}),Ja=wt(pi),gi=B({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ss=wt(gi),Ko=B({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yi=wt(Ko),dr=B({},pa,{data:0}),vi=wt(dr),fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ut[e])?!!t[e]:!1}function ga(){return El}var Ns=B({},Xn,{key:function(e){if(e.key){var t=fr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(e){return e.type==="keypress"?Fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xi=wt(Ns),Ts=B({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mr=wt(Ts),bi=B({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),pr=wt(bi),ya=B({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gr=wt(ya),yr=B({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wi=wt(yr),vr=B({},pa,{newState:0,oldState:0}),ks=wt(vr),Io=[9,13,27,32],_l=_t&&"CompositionEvent"in window,Zn=null;_t&&"documentMode"in document&&(Zn=document.documentMode);var Yo=_t&&"TextEvent"in window&&!Zn,ji=_t&&(!_l||Zn&&8<Zn&&11>=Zn),Si=" ",As=!1;function xr(e,t){switch(e){case"keyup":return Io.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Es(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function _s(e,t){switch(e){case"compositionend":return Es(t);case"keypress":return t.which!==32?null:(As=!0,Si);case"textInput":return e=t.data,e===Si&&As?null:e;default:return null}}function Qo(e,t){if(va)return e==="compositionend"||!_l&&xr(e,t)?(e=Za(),Xa=ui=Nn=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ji&&t.locale!=="ko"?null:t.data;default:return null}}var Os={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ni(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Os[e.type]:t==="textarea"}function br(e,t,n,a){fa?ct?ct.push(a):ct=[a]:fa=a,t=po(t,"onChange"),0<t.length&&(n=new di("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $a=null,Ol=null;function Vo(e){ph(e,0)}function Ti(e){var t=jl(e);if(ua(t))return e}function Dl(e,t){if(e==="change")return t}var Tn=!1;if(_t){var ut;if(_t){var Wa="oninput"in document;if(!Wa){var Pt=document.createElement("div");Pt.setAttribute("oninput","return;"),Wa=typeof Pt.oninput=="function"}ut=Wa}else ut=!1;Tn=ut&&(!document.documentMode||9<document.documentMode)}function Ds(){$a&&($a.detachEvent("onpropertychange",ki),Ol=$a=null)}function ki(e){if(e.propertyName==="value"&&Ti(Ol)){var t=[];br(t,Ol,e,ci(e)),Va(Vo,t)}}function Cs(e,t,n){e==="focusin"?(Ds(),$a=t,Ol=n,$a.attachEvent("onpropertychange",ki)):e==="focusout"&&Ds()}function xa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(Ol)}function wr(e,t){if(e==="click")return Ti(t)}function Pa(e,t){if(e==="input"||e==="change")return Ti(t)}function Fn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:Fn;function l(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ze.call(t,i)||!Yt(e[i],t[i]))return!1}return!0}function s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u(e,t){var n=s(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ka(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ka(e.document)}return t}function x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var S=_t&&"documentMode"in document&&11>=document.documentMode,N=null,D=null,E=null,R=!1;function A(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;R||N==null||N!==Ka(a)||(a=N,"selectionStart"in a&&x(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),E&&l(E,a)||(E=a,a=po(D,"onSelect"),0<a.length&&(t=new di("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=N)))}function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionrun:z("Transition","TransitionRun"),transitionstart:z("Transition","TransitionStart"),transitioncancel:z("Transition","TransitionCancel"),transitionend:z("Transition","TransitionEnd")},M={},U={};_t&&(U=document.createElement("div").style,"AnimationEvent"in window||(delete _.animationend.animation,delete _.animationiteration.animation,delete _.animationstart.animation),"TransitionEvent"in window||delete _.transitionend.transition);function C(e){if(M[e])return M[e];if(!_[e])return e;var t=_[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U)return M[e]=t[n];return e}var H=C("animationend"),X=C("animationiteration"),Z=C("animationstart"),$=C("transitionrun"),se=C("transitionstart"),me=C("transitioncancel"),re=C("transitionend"),ue=new Map,he="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");he.push("scrollEnd");function ne(e,t){ue.set(e,t),Rn(t,[e])}var Ce=new WeakMap;function Te(e,t){if(typeof e=="object"&&e!==null){var n=Ce.get(e);return n!==void 0?n:(t={value:e,source:t,stack:lr(t)},Ce.set(e,t),t)}return{value:e,source:t,stack:lr(t)}}var Ae=[],Me=0,en=0;function ze(){for(var e=Me,t=en=Me=0;t<e;){var n=Ae[t];Ae[t++]=null;var a=Ae[t];Ae[t++]=null;var i=Ae[t];Ae[t++]=null;var o=Ae[t];if(Ae[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}o!==0&&Ot(n,i,o)}}function vt(e,t,n,a){Ae[Me++]=e,Ae[Me++]=t,Ae[Me++]=n,Ae[Me++]=a,en|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function jt(e,t,n,a){return vt(e,t,n,a),kn(e)}function Bn(e,t){return vt(e,null,null,t),kn(e)}function Ot(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,a=o.alternate,a!==null&&(a.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-Rt(n),e=o.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),o):null}function kn(e){if(50<Vr)throw Vr=0,Wc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Jn={};function Qm(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,n,a){return new Qm(e,t,n,a)}function Xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var n=e.alternate;return n===null?(n=pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Pu(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ms(e,t,n,a,i,o){var p=0;if(a=e,typeof e=="function")Xo(e)&&(p=1);else if(typeof e=="string")p=Xp(e,n,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $e:return e=pn(31,n,t,i),e.elementType=$e,e.lanes=o,e;case le:return Cl(n.children,i,o,t);case ce:p=8,i|=24;break;case pe:return e=pn(12,n,t,i|2),e.elementType=pe,e.lanes=o,e;case ke:return e=pn(13,n,t,i),e.elementType=ke,e.lanes=o,e;case P:return e=pn(19,n,t,i),e.elementType=P,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:case fe:p=10;break e;case oe:p=9;break e;case ie:p=11;break e;case xe:p=14;break e;case Le:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=pn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=o,t}function Cl(e,t,n,a){return e=pn(7,e,a,t),e.lanes=n,e}function Zo(e,t,n){return e=pn(6,e,null,t),e.lanes=n,e}function Fo(e,t,n){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ai=[],Ei=0,zs=null,Rs=0,An=[],En=0,Ml=null,wa=1,ja="";function zl(e,t){Ai[Ei++]=Rs,Ai[Ei++]=zs,zs=e,Rs=t}function ed(e,t,n){An[En++]=wa,An[En++]=ja,An[En++]=Ml,Ml=e;var a=wa;e=ja;var i=32-Rt(a)-1;a&=~(1<<i),n+=1;var o=32-Rt(t)+i;if(30<o){var p=i-i%5;o=(a&(1<<p)-1).toString(32),a>>=p,i-=p,wa=1<<32-Rt(t)+i|n<<i|a,ja=o+e}else wa=1<<o|n<<i|a,ja=e}function Jo(e){e.return!==null&&(zl(e,1),ed(e,1,0))}function $o(e){for(;e===zs;)zs=Ai[--Ei],Ai[Ei]=null,Rs=Ai[--Ei],Ai[Ei]=null;for(;e===Ml;)Ml=An[--En],An[En]=null,ja=An[--En],An[En]=null,wa=An[--En],An[En]=null}var tn=null,mt=null,Je=!1,Rl=null,$n=!1,Wo=Error(d(519));function Ll(e){var t=Error(d(418,""));throw Nr(Te(t,e)),Wo}function td(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Re]=e,t[Xe]=a,n){case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":case"embed":Ke("load",t);break;case"video":case"audio":for(n=0;n<Zr.length;n++)Ke(Zr[n],t);break;case"source":Ke("error",t);break;case"img":case"image":case"link":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"input":Ke("invalid",t),Nl(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Vn(t);break;case"select":Ke("invalid",t);break;case"textarea":Ke("invalid",t),rr(t,a.value,a.defaultValue,a.children),Vn(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||xh(t.textContent,n)?(a.popover!=null&&(Ke("beforetoggle",t),Ke("toggle",t)),a.onScroll!=null&&Ke("scroll",t),a.onScrollEnd!=null&&Ke("scrollend",t),a.onClick!=null&&(t.onclick=go),t=!0):t=!1,t||Ll(e)}function nd(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:tn=tn.return}}function jr(e){if(e!==tn)return!1;if(!Je)return nd(e),Je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||mu(e.type,e.memoizedProps)),n=!n),n&&mt&&Ll(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){mt=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}mt=null}}else t===27?(t=mt,pl(e.type)?(e=vu,vu=null,mt=e):mt=t):mt=tn?Gn(e.stateNode.nextSibling):null;return!0}function Sr(){mt=tn=null,Je=!1}function ad(){var e=Rl;return e!==null&&(on===null?on=e:on.push.apply(on,e),Rl=null),e}function Nr(e){Rl===null?Rl=[e]:Rl.push(e)}var Po=Tt(null),Ul=null,Sa=null;function el(e,t,n){Ye(Po,t._currentValue),t._currentValue=n}function Na(e){e._currentValue=Po.current,ot(Po)}function ec(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function tc(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var p=i.child;o=o.firstContext;e:for(;o!==null;){var b=o;o=i;for(var T=0;T<t.length;T++)if(b.context===t[T]){o.lanes|=n,b=o.alternate,b!==null&&(b.lanes|=n),ec(o.return,n,e),a||(p=null);break e}o=b.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(d(341));p.lanes|=n,o=p.alternate,o!==null&&(o.lanes|=n),ec(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function Tr(e,t,n,a){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var b=i.type;Yt(i.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(i===Ra.current){if(p=i.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(es):e=[es])}i=i.return}e!==null&&tc(t,e,n,a),t.flags|=262144}function Ls(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bl(e){Ul=e,Sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return ld(Ul,e)}function Us(e,t){return Ul===null&&Bl(e),ld(e,t)}function ld(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Sa===null){if(e===null)throw Error(d(308));Sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sa=Sa.next=t;return n}var Vm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Xm=c.unstable_scheduleCallback,Zm=c.unstable_NormalPriority,kt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new Vm,data:new Map,refCount:0}}function kr(e){e.refCount--,e.refCount===0&&Xm(Zm,function(){e.controller.abort()})}var Ar=null,ac=0,_i=0,Oi=null;function Fm(e,t){if(Ar===null){var n=Ar=[];ac=0,_i=iu(),Oi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return ac++,t.then(id,id),t}function id(){if(--ac===0&&Ar!==null){Oi!==null&&(Oi.status="fulfilled");var e=Ar;Ar=null,_i=0,Oi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jm(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var rd=V.S;V.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fm(e,t),rd!==null&&rd(e,t)};var ql=Tt(null);function lc(){var e=ql.current;return e!==null?e:st.pooledCache}function Bs(e,t){t===null?Ye(ql,ql.current):Ye(ql,t.pool)}function sd(){var e=lc();return e===null?null:{parent:kt._currentValue,pool:e}}var Er=Error(d(460)),od=Error(d(474)),qs=Error(d(542)),ic={then:function(){}};function cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gs(){}function ud(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Gs,Gs),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fd(e),e;default:if(typeof t.status=="string")t.then(Gs,Gs);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fd(e),e}throw _r=t,Er}}var _r=null;function dd(){if(_r===null)throw Error(d(459));var e=_r;return _r=null,e}function fd(e){if(e===Er||e===qs)throw Error(d(483))}var tl=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function nl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function al(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(We&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=kn(e),Ot(e,null,n),t}return vt(e,a,t,n),kn(e)}function Or(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ys(e,n)}}function oc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=p:o=o.next=p,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cc=!1;function Dr(){if(cc){var e=Oi;if(e!==null)throw e}}function Cr(e,t,n,a){cc=!1;var i=e.updateQueue;tl=!1;var o=i.firstBaseUpdate,p=i.lastBaseUpdate,b=i.shared.pending;if(b!==null){i.shared.pending=null;var T=b,G=T.next;T.next=null,p===null?o=G:p.next=G,p=T;var W=e.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==p&&(b===null?W.firstBaseUpdate=G:b.next=G,W.lastBaseUpdate=T))}if(o!==null){var te=i.baseState;p=0,W=G=T=null,b=o;do{var Y=b.lane&-536870913,Q=Y!==b.lane;if(Q?(Ve&Y)===Y:(a&Y)===Y){Y!==0&&Y===_i&&(cc=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Oe=e,Ee=b;Y=t;var lt=n;switch(Ee.tag){case 1:if(Oe=Ee.payload,typeof Oe=="function"){te=Oe.call(lt,te,Y);break e}te=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ee.payload,Y=typeof Oe=="function"?Oe.call(lt,te,Y):Oe,Y==null)break e;te=B({},te,Y);break e;case 2:tl=!0}}Y=b.callback,Y!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=i.callbacks,Q===null?i.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(G=W=Q,T=te):W=W.next=Q,p|=Y;if(b=b.next,b===null){if(b=i.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,i.lastBaseUpdate=Q,i.shared.pending=null}}while(!0);W===null&&(T=te),i.baseState=T,i.firstBaseUpdate=G,i.lastBaseUpdate=W,o===null&&(i.shared.lanes=0),dl|=p,e.lanes=p,e.memoizedState=te}}function hd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function md(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hd(n[e],t)}var Di=Tt(null),Hs=Tt(0);function pd(e,t){e=Da,Ye(Hs,e),Ye(Di,t),Da=e|t.baseLanes}function uc(){Ye(Hs,Da),Ye(Di,Di.current)}function dc(){Da=Hs.current,ot(Di),ot(Hs)}var ll=0,Be=null,nt=null,St=null,Ks=!1,Ci=!1,Gl=!1,Is=0,Mr=0,Mi=null,$m=0;function xt(){throw Error(d(321))}function fc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function hc(e,t,n,a,i,o){return ll=o,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?Wd:Pd,Gl=!1,o=n(a,i),Gl=!1,Ci&&(o=yd(t,n,a,i)),gd(e),o}function gd(e){V.H=Fs;var t=nt!==null&&nt.next!==null;if(ll=0,St=nt=Be=null,Ks=!1,Mr=0,Mi=null,t)throw Error(d(300));e===null||Dt||(e=e.dependencies,e!==null&&Ls(e)&&(Dt=!0))}function yd(e,t,n,a){Be=e;var i=0;do{if(Ci&&(Mi=null),Mr=0,Ci=!1,25<=i)throw Error(d(301));if(i+=1,St=nt=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}V.H=lp,o=t(n,a)}while(Ci);return o}function Wm(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?zr(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Be.flags|=1024),t}function mc(){var e=Is!==0;return Is=0,e}function pc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function gc(e){if(Ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ks=!1}ll=0,St=nt=Be=null,Ci=!1,Mr=Is=0,Mi=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Be.memoizedState=St=e:St=St.next=e,St}function Nt(){if(nt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=St===null?Be.memoizedState:St.next;if(t!==null)St=t,nt=e;else{if(e===null)throw Be.alternate===null?Error(d(467)):Error(d(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},St===null?Be.memoizedState=St=e:St=St.next=e}return St}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zr(e){var t=Mr;return Mr+=1,Mi===null&&(Mi=[]),e=ud(Mi,e,t),t=Be,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?Wd:Pd),e}function Ys(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zr(e);if(e.$$typeof===fe)return Qt(e)}throw Error(d(438,String(e)))}function vc(e){var t=null,n=Be.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Be.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yc(),Be.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=dt;return t.index++,n}function Ta(e,t){return typeof t=="function"?t(e):t}function Qs(e){var t=Nt();return xc(t,nt,e)}function xc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var i=e.baseQueue,o=a.pending;if(o!==null){if(i!==null){var p=i.next;i.next=o.next,o.next=p}t.baseQueue=i=o,a.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var b=p=null,T=null,G=t,W=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Ve&te)===te:(ll&te)===te){var Y=G.revertLane;if(Y===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===_i&&(W=!0);else if((ll&Y)===Y){G=G.next,Y===_i&&(W=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},T===null?(b=T=te,p=o):T=T.next=te,Be.lanes|=Y,dl|=Y;te=G.action,Gl&&n(o,te),o=G.hasEagerState?G.eagerState:n(o,te)}else Y={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},T===null?(b=T=Y,p=o):T=T.next=Y,Be.lanes|=te,dl|=te;G=G.next}while(G!==null&&G!==t);if(T===null?p=o:T.next=b,!Yt(o,e.memoizedState)&&(Dt=!0,W&&(n=Oi,n!==null)))throw n;e.memoizedState=o,e.baseState=p,e.baseQueue=T,a.lastRenderedState=o}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function bc(e){var t=Nt(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do o=e(o,p.action),p=p.next;while(p!==i);Yt(o,t.memoizedState)||(Dt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function vd(e,t,n){var a=Be,i=Nt(),o=Je;if(o){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!Yt((nt||i).memoizedState,n);p&&(i.memoizedState=n,Dt=!0),i=i.queue;var b=wd.bind(null,a,i,e);if(Rr(2048,8,b,[e]),i.getSnapshot!==t||p||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,zi(9,Vs(),bd.bind(null,a,i,n,t),null),st===null)throw Error(d(349));o||(ll&124)!==0||xd(a,t,n)}return n}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t=yc(),Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bd(e,t,n,a){t.value=n,t.getSnapshot=a,jd(t)&&Sd(e)}function wd(e,t,n){return n(function(){jd(t)&&Sd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yt(e,n)}catch{return!0}}function Sd(e){var t=Bn(e,2);t!==null&&bn(t,e,2)}function wc(e){var t=rn();if(typeof e=="function"){var n=e;if(e=n(),Gl){an(!0);try{n()}finally{an(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t}function Nd(e,t,n,a){return e.baseState=n,xc(e,nt,typeof a=="function"?a:Ta)}function Pm(e,t,n,a,i){if(Zs(e))throw Error(d(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){o.listeners.push(p)}};V.T!==null?n(!0):o.isTransition=!1,a(o),n=t.pending,n===null?(o.next=t.pending=o,Td(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Td(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var o=V.T,p={};V.T=p;try{var b=n(i,a),T=V.S;T!==null&&T(p,b),kd(e,t,b)}catch(G){jc(e,t,G)}finally{V.T=o}}else try{o=n(i,a),kd(e,t,o)}catch(G){jc(e,t,G)}}function kd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Ad(e,t,a)},function(a){return jc(e,t,a)}):Ad(e,t,n)}function Ad(e,t,n){t.status="fulfilled",t.value=n,Ed(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Td(e,n)))}function jc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ed(t),t=t.next;while(t!==a)}e.action=null}function Ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _d(e,t){return t}function Od(e,t){if(Je){var n=st.formState;if(n!==null){e:{var a=Be;if(Je){if(mt){t:{for(var i=mt,o=$n;i.nodeType!==8;){if(!o){i=null;break t}if(i=Gn(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){mt=Gn(i.nextSibling),a=i.data==="F!";break e}}Ll(a)}a=!1}a&&(t=n[0])}}return n=rn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_d,lastRenderedState:t},n.queue=a,n=Fd.bind(null,Be,a),a.dispatch=n,a=wc(!1),o=Ac.bind(null,Be,!1,a.queue),a=rn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Pm.bind(null,Be,i,o,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Dd(e){var t=Nt();return Cd(t,nt,e)}function Cd(e,t,n){if(t=xc(e,t,_d)[0],e=Qs(Ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=zr(t)}catch(p){throw p===Er?qs:p}else a=t;t=Nt();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(Be.flags|=2048,zi(9,Vs(),ep.bind(null,i,n),null)),[a,o,e]}function ep(e,t){e.action=t}function Md(e){var t=Nt(),n=nt;if(n!==null)return Cd(t,n,e);Nt(),t=t.memoizedState,n=Nt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function zi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Be.updateQueue,t===null&&(t=yc(),Be.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Vs(){return{destroy:void 0,resource:void 0}}function zd(){return Nt().memoizedState}function Xs(e,t,n,a){var i=rn();a=a===void 0?null:a,Be.flags|=e,i.memoizedState=zi(1|t,Vs(),n,a)}function Rr(e,t,n,a){var i=Nt();a=a===void 0?null:a;var o=i.memoizedState.inst;nt!==null&&a!==null&&fc(a,nt.memoizedState.deps)?i.memoizedState=zi(t,o,n,a):(Be.flags|=e,i.memoizedState=zi(1|t,o,n,a))}function Rd(e,t){Xs(8390656,8,e,t)}function Ld(e,t){Rr(2048,8,e,t)}function Ud(e,t){return Rr(4,2,e,t)}function Bd(e,t){return Rr(4,4,e,t)}function qd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,n){n=n!=null?n.concat([e]):null,Rr(4,4,qd.bind(null,t,e),n)}function Sc(){}function Hd(e,t){var n=Nt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&fc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Kd(e,t){var n=Nt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&fc(t,a[1]))return a[0];if(a=e(),Gl){an(!0);try{e()}finally{an(!1)}}return n.memoizedState=[a,t],a}function Nc(e,t,n){return n===void 0||(ll&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Vf(),Be.lanes|=e,dl|=e,n)}function Id(e,t,n,a){return Yt(n,t)?n:Di.current!==null?(e=Nc(e,n,a),Yt(e,t)||(Dt=!0),e):(ll&42)===0?(Dt=!0,e.memoizedState=n):(e=Vf(),Be.lanes|=e,dl|=e,t)}function Yd(e,t,n,a,i){var o=de.p;de.p=o!==0&&8>o?o:8;var p=V.T,b={};V.T=b,Ac(e,!1,t,n);try{var T=i(),G=V.S;if(G!==null&&G(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var W=Jm(T,a);Lr(e,t,W,xn(e))}else Lr(e,t,a,xn(e))}catch(te){Lr(e,t,{then:function(){},status:"rejected",reason:te},xn())}finally{de.p=o,V.T=p}}function tp(){}function Tc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var i=Qd(e).queue;Yd(e,i,t,be,n===null?tp:function(){return Vd(e),n(a)})}function Qd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:be},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Qd(e).next.queue;Lr(e,t,{},xn())}function kc(){return Qt(es)}function Xd(){return Nt().memoizedState}function Zd(){return Nt().memoizedState}function np(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xn();e=nl(n);var a=al(t,e,n);a!==null&&(bn(a,t,n),Or(a,t,n)),t={cache:nc()},e.payload=t;return}t=t.return}}function ap(e,t,n){var a=xn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Zs(e)?Jd(t,n):(n=jt(e,t,n,a),n!==null&&(bn(n,e,a),$d(n,t,a)))}function Fd(e,t,n){var a=xn();Lr(e,t,n,a)}function Lr(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zs(e))Jd(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var p=t.lastRenderedState,b=o(p,n);if(i.hasEagerState=!0,i.eagerState=b,Yt(b,p))return vt(e,t,i,0),st===null&&ze(),!1}catch{}finally{}if(n=jt(e,t,i,a),n!==null)return bn(n,e,a),$d(n,t,a),!0}return!1}function Ac(e,t,n,a){if(a={lane:2,revertLane:iu(),action:a,hasEagerState:!1,eagerState:null,next:null},Zs(e)){if(t)throw Error(d(479))}else t=jt(e,n,a,2),t!==null&&bn(t,e,2)}function Zs(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Jd(e,t){Ci=Ks=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $d(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ys(e,n)}}var Fs={readContext:Qt,use:Ys,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},Wd={readContext:Qt,use:Ys,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Rd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Xs(4194308,4,qd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){Xs(4,2,e,t)},useMemo:function(e,t){var n=rn();t=t===void 0?null:t;var a=e();if(Gl){an(!0);try{e()}finally{an(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=rn();if(n!==void 0){var i=n(t);if(Gl){an(!0);try{n(t)}finally{an(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=ap.bind(null,Be,e),[a.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:function(e){e=wc(e);var t=e.queue,n=Fd.bind(null,Be,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sc,useDeferredValue:function(e,t){var n=rn();return Nc(n,e,t)},useTransition:function(){var e=wc(!1);return e=Yd.bind(null,Be,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Be,i=rn();if(Je){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),st===null)throw Error(d(349));(Ve&124)!==0||xd(a,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Rd(wd.bind(null,a,o,e),[e]),a.flags|=2048,zi(9,Vs(),bd.bind(null,a,o,n,t),null),n},useId:function(){var e=rn(),t=st.identifierPrefix;if(Je){var n=ja,a=wa;n=(a&~(1<<32-Rt(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=$m++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:kc,useFormState:Od,useActionState:Od,useOptimistic:function(e){var t=rn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ac.bind(null,Be,!0,n),n.dispatch=t,[e,t]},useMemoCache:vc,useCacheRefresh:function(){return rn().memoizedState=np.bind(null,Be)}},Pd={readContext:Qt,use:Ys,useCallback:Hd,useContext:Qt,useEffect:Ld,useImperativeHandle:Gd,useInsertionEffect:Ud,useLayoutEffect:Bd,useMemo:Kd,useReducer:Qs,useRef:zd,useState:function(){return Qs(Ta)},useDebugValue:Sc,useDeferredValue:function(e,t){var n=Nt();return Id(n,nt.memoizedState,e,t)},useTransition:function(){var e=Qs(Ta)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:zr(e),t]},useSyncExternalStore:vd,useId:Xd,useHostTransitionStatus:kc,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,t){var n=Nt();return Nd(n,nt,e,t)},useMemoCache:vc,useCacheRefresh:Zd},lp={readContext:Qt,use:Ys,useCallback:Hd,useContext:Qt,useEffect:Ld,useImperativeHandle:Gd,useInsertionEffect:Ud,useLayoutEffect:Bd,useMemo:Kd,useReducer:bc,useRef:zd,useState:function(){return bc(Ta)},useDebugValue:Sc,useDeferredValue:function(e,t){var n=Nt();return nt===null?Nc(n,e,t):Id(n,nt.memoizedState,e,t)},useTransition:function(){var e=bc(Ta)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:zr(e),t]},useSyncExternalStore:vd,useId:Xd,useHostTransitionStatus:kc,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=Nt();return nt!==null?Nd(n,nt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:vc,useCacheRefresh:Zd},Ri=null,Ur=0;function Js(e){var t=Ur;return Ur+=1,Ri===null&&(Ri=[]),ud(Ri,e,t)}function Br(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $s(e,t){throw t.$$typeof===I?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ef(e){var t=e._init;return t(e._payload)}function tf(e){function t(L,O){if(e){var q=L.deletions;q===null?(L.deletions=[O],L.flags|=16):q.push(O)}}function n(L,O){if(!e)return null;for(;O!==null;)t(L,O),O=O.sibling;return null}function a(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function i(L,O){return L=ba(L,O),L.index=0,L.sibling=null,L}function o(L,O,q){return L.index=q,e?(q=L.alternate,q!==null?(q=q.index,q<O?(L.flags|=67108866,O):q):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function b(L,O,q,ee){return O===null||O.tag!==6?(O=Zo(q,L.mode,ee),O.return=L,O):(O=i(O,q),O.return=L,O)}function T(L,O,q,ee){var we=q.type;return we===le?W(L,O,q.props.children,ee,q.key):O!==null&&(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Le&&ef(we)===O.type)?(O=i(O,q.props),Br(O,q),O.return=L,O):(O=Ms(q.type,q.key,q.props,null,L.mode,ee),Br(O,q),O.return=L,O)}function G(L,O,q,ee){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Fo(q,L.mode,ee),O.return=L,O):(O=i(O,q.children||[]),O.return=L,O)}function W(L,O,q,ee,we){return O===null||O.tag!==7?(O=Cl(q,L.mode,ee,we),O.return=L,O):(O=i(O,q),O.return=L,O)}function te(L,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zo(""+O,L.mode,q),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return q=Ms(O.type,O.key,O.props,null,L.mode,q),Br(q,O),q.return=L,q;case ae:return O=Fo(O,L.mode,q),O.return=L,O;case Le:var ee=O._init;return O=ee(O._payload),te(L,O,q)}if(Ht(O)||rt(O))return O=Cl(O,L.mode,q,null),O.return=L,O;if(typeof O.then=="function")return te(L,Js(O),q);if(O.$$typeof===fe)return te(L,Us(L,O),q);$s(L,O)}return null}function Y(L,O,q,ee){var we=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return we!==null?null:b(L,O,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return q.key===we?T(L,O,q,ee):null;case ae:return q.key===we?G(L,O,q,ee):null;case Le:return we=q._init,q=we(q._payload),Y(L,O,q,ee)}if(Ht(q)||rt(q))return we!==null?null:W(L,O,q,ee,null);if(typeof q.then=="function")return Y(L,O,Js(q),ee);if(q.$$typeof===fe)return Y(L,O,Us(L,q),ee);$s(L,q)}return null}function Q(L,O,q,ee,we){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(q)||null,b(O,L,""+ee,we);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:return L=L.get(ee.key===null?q:ee.key)||null,T(O,L,ee,we);case ae:return L=L.get(ee.key===null?q:ee.key)||null,G(O,L,ee,we);case Le:var qe=ee._init;return ee=qe(ee._payload),Q(L,O,q,ee,we)}if(Ht(ee)||rt(ee))return L=L.get(q)||null,W(O,L,ee,we,null);if(typeof ee.then=="function")return Q(L,O,q,Js(ee),we);if(ee.$$typeof===fe)return Q(L,O,q,Us(O,ee),we);$s(O,ee)}return null}function Oe(L,O,q,ee){for(var we=null,qe=null,Se=O,_e=O=0,Mt=null;Se!==null&&_e<q.length;_e++){Se.index>_e?(Mt=Se,Se=null):Mt=Se.sibling;var Fe=Y(L,Se,q[_e],ee);if(Fe===null){Se===null&&(Se=Mt);break}e&&Se&&Fe.alternate===null&&t(L,Se),O=o(Fe,O,_e),qe===null?we=Fe:qe.sibling=Fe,qe=Fe,Se=Mt}if(_e===q.length)return n(L,Se),Je&&zl(L,_e),we;if(Se===null){for(;_e<q.length;_e++)Se=te(L,q[_e],ee),Se!==null&&(O=o(Se,O,_e),qe===null?we=Se:qe.sibling=Se,qe=Se);return Je&&zl(L,_e),we}for(Se=a(Se);_e<q.length;_e++)Mt=Q(Se,L,_e,q[_e],ee),Mt!==null&&(e&&Mt.alternate!==null&&Se.delete(Mt.key===null?_e:Mt.key),O=o(Mt,O,_e),qe===null?we=Mt:qe.sibling=Mt,qe=Mt);return e&&Se.forEach(function(bl){return t(L,bl)}),Je&&zl(L,_e),we}function Ee(L,O,q,ee){if(q==null)throw Error(d(151));for(var we=null,qe=null,Se=O,_e=O=0,Mt=null,Fe=q.next();Se!==null&&!Fe.done;_e++,Fe=q.next()){Se.index>_e?(Mt=Se,Se=null):Mt=Se.sibling;var bl=Y(L,Se,Fe.value,ee);if(bl===null){Se===null&&(Se=Mt);break}e&&Se&&bl.alternate===null&&t(L,Se),O=o(bl,O,_e),qe===null?we=bl:qe.sibling=bl,qe=bl,Se=Mt}if(Fe.done)return n(L,Se),Je&&zl(L,_e),we;if(Se===null){for(;!Fe.done;_e++,Fe=q.next())Fe=te(L,Fe.value,ee),Fe!==null&&(O=o(Fe,O,_e),qe===null?we=Fe:qe.sibling=Fe,qe=Fe);return Je&&zl(L,_e),we}for(Se=a(Se);!Fe.done;_e++,Fe=q.next())Fe=Q(Se,L,_e,Fe.value,ee),Fe!==null&&(e&&Fe.alternate!==null&&Se.delete(Fe.key===null?_e:Fe.key),O=o(Fe,O,_e),qe===null?we=Fe:qe.sibling=Fe,qe=Fe);return e&&Se.forEach(function(ig){return t(L,ig)}),Je&&zl(L,_e),we}function lt(L,O,q,ee){if(typeof q=="object"&&q!==null&&q.type===le&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case F:e:{for(var we=q.key;O!==null;){if(O.key===we){if(we=q.type,we===le){if(O.tag===7){n(L,O.sibling),ee=i(O,q.props.children),ee.return=L,L=ee;break e}}else if(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Le&&ef(we)===O.type){n(L,O.sibling),ee=i(O,q.props),Br(ee,q),ee.return=L,L=ee;break e}n(L,O);break}else t(L,O);O=O.sibling}q.type===le?(ee=Cl(q.props.children,L.mode,ee,q.key),ee.return=L,L=ee):(ee=Ms(q.type,q.key,q.props,null,L.mode,ee),Br(ee,q),ee.return=L,L=ee)}return p(L);case ae:e:{for(we=q.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){n(L,O.sibling),ee=i(O,q.children||[]),ee.return=L,L=ee;break e}else{n(L,O);break}else t(L,O);O=O.sibling}ee=Fo(q,L.mode,ee),ee.return=L,L=ee}return p(L);case Le:return we=q._init,q=we(q._payload),lt(L,O,q,ee)}if(Ht(q))return Oe(L,O,q,ee);if(rt(q)){if(we=rt(q),typeof we!="function")throw Error(d(150));return q=we.call(q),Ee(L,O,q,ee)}if(typeof q.then=="function")return lt(L,O,Js(q),ee);if(q.$$typeof===fe)return lt(L,O,Us(L,q),ee);$s(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(n(L,O.sibling),ee=i(O,q),ee.return=L,L=ee):(n(L,O),ee=Zo(q,L.mode,ee),ee.return=L,L=ee),p(L)):n(L,O)}return function(L,O,q,ee){try{Ur=0;var we=lt(L,O,q,ee);return Ri=null,we}catch(Se){if(Se===Er||Se===qs)throw Se;var qe=pn(29,Se,null,L.mode);return qe.lanes=ee,qe.return=L,qe}finally{}}}var Li=tf(!0),nf=tf(!1),_n=Tt(null),Wn=null;function il(e){var t=e.alternate;Ye(At,At.current&1),Ye(_n,e),Wn===null&&(t===null||Di.current!==null||t.memoizedState!==null)&&(Wn=e)}function af(e){if(e.tag===22){if(Ye(At,At.current),Ye(_n,e),Wn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Wn=e)}}else rl()}function rl(){Ye(At,At.current),Ye(_n,_n.current)}function ka(e){ot(_n),Wn===e&&(Wn=null),ot(At)}var At=Tt(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||yu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ec(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:B({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _c={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=xn(),i=nl(a);i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(bn(t,e,a),Or(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=xn(),i=nl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(bn(t,e,a),Or(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),a=nl(n);a.tag=2,t!=null&&(a.callback=t),t=al(e,a,n),t!==null&&(bn(t,e,n),Or(t,e,n))}};function lf(e,t,n,a,i,o,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,o):!0}function rf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&_c.enqueueReplaceState(t,t.state,null)}function Hl(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=B({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var Ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sf(e){Ps(e)}function of(e){console.error(e)}function cf(e){Ps(e)}function eo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function uf(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Oc(e,t,n){return n=nl(n),n.tag=3,n.payload={element:null},n.callback=function(){eo(e,t)},n}function df(e){return e=nl(e),e.tag=3,e}function ff(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=a.value;e.payload=function(){return i(o)},e.callback=function(){uf(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){uf(t,n,a),typeof i!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function ip(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Tr(t,n,i,!0),n=_n.current,n!==null){switch(n.tag){case 13:return Wn===null?eu():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===ic?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),nu(e,a,i)),!1;case 22:return n.flags|=65536,a===ic?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),nu(e,a,i)),!1}throw Error(d(435,n.tag))}return nu(e,a,i),eu(),!1}if(Je)return t=_n.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Wo&&(e=Error(d(422),{cause:a}),Nr(Te(e,n)))):(a!==Wo&&(t=Error(d(423),{cause:a}),Nr(Te(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Te(a,n),i=Oc(e.stateNode,a,i),oc(e,i),pt!==4&&(pt=2)),!1;var o=Error(d(520),{cause:a});if(o=Te(o,n),Qr===null?Qr=[o]:Qr.push(o),pt!==4&&(pt=2),t===null)return!0;a=Te(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Oc(n.stateNode,a,e),oc(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(fl===null||!fl.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=df(i),ff(i,e,n,a),oc(n,i),!1}n=n.return}while(n!==null);return!1}var hf=Error(d(461)),Dt=!1;function Bt(e,t,n,a){t.child=e===null?nf(t,null,n,a):Li(t,e.child,n,a)}function mf(e,t,n,a,i){n=n.render;var o=t.ref;if("ref"in a){var p={};for(var b in a)b!=="ref"&&(p[b]=a[b])}else p=a;return Bl(t),a=hc(e,t,n,p,o,i),b=mc(),e!==null&&!Dt?(pc(e,t,i),Aa(e,t,i)):(Je&&b&&Jo(t),t.flags|=1,Bt(e,t,a,i),t.child)}function pf(e,t,n,a,i){if(e===null){var o=n.type;return typeof o=="function"&&!Xo(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,gf(e,t,o,a,i)):(e=Ms(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Bc(e,i)){var p=o.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return Aa(e,t,i)}return t.flags|=1,e=ba(o,a),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,n,a,i){if(e!==null){var o=e.memoizedProps;if(l(o,a)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=a=o,Bc(e,i))(e.flags&131072)!==0&&(Dt=!0);else return t.lanes=e.lanes,Aa(e,t,i)}return Dc(e,t,n,a,i)}function yf(e,t,n){var a=t.pendingProps,i=a.children,o=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~a}else t.childLanes=0,t.child=null;return vf(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bs(t,o!==null?o.cachePool:null),o!==null?pd(t,o):uc(),af(t);else return t.lanes=t.childLanes=536870912,vf(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Bs(t,o.cachePool),pd(t,o),rl(),t.memoizedState=null):(e!==null&&Bs(t,null),uc(),rl());return Bt(e,t,i,n),t.child}function vf(e,t,n,a){var i=lc();return i=i===null?null:{parent:kt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Bs(t,null),uc(),af(t),e!==null&&Tr(e,t,a,!0),null}function to(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Dc(e,t,n,a,i){return Bl(t),n=hc(e,t,n,a,void 0,i),a=mc(),e!==null&&!Dt?(pc(e,t,i),Aa(e,t,i)):(Je&&a&&Jo(t),t.flags|=1,Bt(e,t,n,i),t.child)}function xf(e,t,n,a,i,o){return Bl(t),t.updateQueue=null,n=yd(t,a,n,i),gd(e),a=mc(),e!==null&&!Dt?(pc(e,t,o),Aa(e,t,o)):(Je&&a&&Jo(t),t.flags|=1,Bt(e,t,n,o),t.child)}function bf(e,t,n,a,i){if(Bl(t),t.stateNode===null){var o=Jn,p=n.contextType;typeof p=="object"&&p!==null&&(o=Qt(p)),o=new n(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_c,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},rc(t),p=n.contextType,o.context=typeof p=="object"&&p!==null?Qt(p):Jn,o.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Ec(t,n,p,a),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(p=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),p!==o.state&&_c.enqueueReplaceState(o,o.state,null),Cr(t,a,o,i),Dr(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var b=t.memoizedProps,T=Hl(n,b);o.props=T;var G=o.context,W=n.contextType;p=Jn,typeof W=="object"&&W!==null&&(p=Qt(W));var te=n.getDerivedStateFromProps;W=typeof te=="function"||typeof o.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,W||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(b||G!==p)&&rf(t,o,a,p),tl=!1;var Y=t.memoizedState;o.state=Y,Cr(t,a,o,i),Dr(),G=t.memoizedState,b||Y!==G||tl?(typeof te=="function"&&(Ec(t,n,te,a),G=t.memoizedState),(T=tl||lf(t,n,T,a,Y,G,p))?(W||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=G),o.props=a,o.state=G,o.context=p,a=T):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,sc(e,t),p=t.memoizedProps,W=Hl(n,p),o.props=W,te=t.pendingProps,Y=o.context,G=n.contextType,T=Jn,typeof G=="object"&&G!==null&&(T=Qt(G)),b=n.getDerivedStateFromProps,(G=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p!==te||Y!==T)&&rf(t,o,a,T),tl=!1,Y=t.memoizedState,o.state=Y,Cr(t,a,o,i),Dr();var Q=t.memoizedState;p!==te||Y!==Q||tl||e!==null&&e.dependencies!==null&&Ls(e.dependencies)?(typeof b=="function"&&(Ec(t,n,b,a),Q=t.memoizedState),(W=tl||lf(t,n,W,a,Y,Q,T)||e!==null&&e.dependencies!==null&&Ls(e.dependencies))?(G||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,Q,T),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,Q,T)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),o.props=a,o.state=Q,o.context=T,a=W):(typeof o.componentDidUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,to(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=Li(t,e.child,null,i),t.child=Li(t,null,n,i)):Bt(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Aa(e,t,i),e}function wf(e,t,n,a){return Sr(),t.flags|=256,Bt(e,t,n,a),t.child}var Cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:sd()}}function zc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=On),e}function jf(e,t,n){var a=t.pendingProps,i=!1,o=(t.flags&128)!==0,p;if((p=o)||(p=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Je){if(i?il(t):rl(),Je){var b=mt,T;if(T=b){e:{for(T=b,b=$n;T.nodeType!==8;){if(!b){b=null;break e}if(T=Gn(T.nextSibling),T===null){b=null;break e}}b=T}b!==null?(t.memoizedState={dehydrated:b,treeContext:Ml!==null?{id:wa,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},T=pn(18,null,null,0),T.stateNode=b,T.return=t,t.child=T,tn=t,mt=null,T=!0):T=!1}T||Ll(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return yu(b)?t.lanes=32:t.lanes=536870912,null;ka(t)}return b=a.children,a=a.fallback,i?(rl(),i=t.mode,b=no({mode:"hidden",children:b},i),a=Cl(a,i,n,null),b.return=t,a.return=t,b.sibling=a,t.child=b,i=t.child,i.memoizedState=Mc(n),i.childLanes=zc(e,p,n),t.memoizedState=Cc,a):(il(t),Rc(t,b))}if(T=e.memoizedState,T!==null&&(b=T.dehydrated,b!==null)){if(o)t.flags&256?(il(t),t.flags&=-257,t=Lc(e,t,n)):t.memoizedState!==null?(rl(),t.child=e.child,t.flags|=128,t=null):(rl(),i=a.fallback,b=t.mode,a=no({mode:"visible",children:a.children},b),i=Cl(i,b,n,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,Li(t,e.child,null,n),a=t.child,a.memoizedState=Mc(n),a.childLanes=zc(e,p,n),t.memoizedState=Cc,t=i);else if(il(t),yu(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var G=p.dgst;p=G,a=Error(d(419)),a.stack="",a.digest=p,Nr({value:a,source:null,stack:null}),t=Lc(e,t,n)}else if(Dt||Tr(e,t,n,!1),p=(n&e.childLanes)!==0,Dt||p){if(p=st,p!==null&&(a=n&-n,a=(a&42)!==0?1:Pi(a),a=(a&(p.suspendedLanes|n))!==0?0:a,a!==0&&a!==T.retryLane))throw T.retryLane=a,Bn(e,a),bn(p,e,a),hf;b.data==="$?"||eu(),t=Lc(e,t,n)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,mt=Gn(b.nextSibling),tn=t,Je=!0,Rl=null,$n=!1,e!==null&&(An[En++]=wa,An[En++]=ja,An[En++]=Ml,wa=e.id,ja=e.overflow,Ml=t),t=Rc(t,a.children),t.flags|=4096);return t}return i?(rl(),i=a.fallback,b=t.mode,T=e.child,G=T.sibling,a=ba(T,{mode:"hidden",children:a.children}),a.subtreeFlags=T.subtreeFlags&65011712,G!==null?i=ba(G,i):(i=Cl(i,b,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,b=e.child.memoizedState,b===null?b=Mc(n):(T=b.cachePool,T!==null?(G=kt._currentValue,T=T.parent!==G?{parent:G,pool:G}:T):T=sd(),b={baseLanes:b.baseLanes|n,cachePool:T}),i.memoizedState=b,i.childLanes=zc(e,p,n),t.memoizedState=Cc,a):(il(t),n=e.child,e=n.sibling,n=ba(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Rc(e,t){return t=no({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function no(e,t){return e=pn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Lc(e,t,n){return Li(t,e.child,null,n),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sf(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ec(e.return,t,n)}function Uc(e,t,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=i)}function Nf(e,t,n){var a=t.pendingProps,i=a.revealOrder,o=a.tail;if(Bt(e,t,a.children,n),a=At.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sf(e,n,t);else if(e.tag===19)Sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(Ye(At,a),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uc(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ws(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uc(t,!0,n,null,o);break;case"together":Uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Tr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=ba(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ba(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ls(e)))}function rp(e,t,n){switch(t.tag){case 3:Zl(t,t.stateNode.containerInfo),el(t,kt,e.memoizedState.cache),Sr();break;case 27:case 5:Fl(t);break;case 4:Zl(t,t.stateNode.containerInfo);break;case 10:el(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(il(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jf(e,t,n):(il(t),e=Aa(e,t,n),e!==null?e.sibling:null);il(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Tr(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Nf(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(At,At.current),a)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,n);case 24:el(t,kt,e.memoizedState.cache)}return Aa(e,t,n)}function Tf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Dt=!0;else{if(!Bc(e,n)&&(t.flags&128)===0)return Dt=!1,rp(e,t,n);Dt=(e.flags&131072)!==0}else Dt=!1,Je&&(t.flags&1048576)!==0&&ed(t,Rs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")Xo(a)?(e=Hl(a,e),t.tag=1,t=bf(null,t,a,e,n)):(t.tag=0,t=Dc(null,t,a,e,n));else{if(a!=null){if(i=a.$$typeof,i===ie){t.tag=11,t=mf(null,t,a,e,n);break e}else if(i===xe){t.tag=14,t=pf(null,t,a,e,n);break e}}throw t=Hn(a)||a,Error(d(306,t,""))}}return t;case 0:return Dc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Hl(a,t.pendingProps),bf(e,t,a,i,n);case 3:e:{if(Zl(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var o=t.memoizedState;i=o.element,sc(e,t),Cr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,el(t,kt,a),a!==o.cache&&tc(t,[kt],n,!0),Dr(),a=p.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=wf(e,t,a,n);break e}else if(a!==i){i=Te(Error(d(424)),t),Nr(i),t=wf(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=Gn(e.firstChild),tn=t,Je=!0,Rl=null,$n=!0,n=nf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Sr(),a===i){t=Aa(e,t,n);break e}Bt(e,t,a,n)}t=t.child}return t;case 26:return to(e,t),e===null?(n=_h(t.type,null,t.pendingProps,null))?t.memoizedState=n:Je||(n=t.type,e=t.pendingProps,a=yo(Xt.current).createElement(n),a[Re]=t,a[Xe]=e,Gt(a,n,e),yt(a),t.stateNode=a):t.memoizedState=_h(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fl(t),e===null&&Je&&(a=t.stateNode=kh(t.type,t.pendingProps,Xt.current),tn=t,$n=!0,i=mt,pl(t.type)?(vu=i,mt=Gn(a.firstChild)):mt=i),Bt(e,t,t.pendingProps.children,n),to(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Je&&((i=a=mt)&&(a=zp(a,t.type,t.pendingProps,$n),a!==null?(t.stateNode=a,tn=t,mt=Gn(a.firstChild),$n=!1,i=!0):i=!1),i||Ll(t)),Fl(t),i=t.type,o=t.pendingProps,p=e!==null?e.memoizedProps:null,a=o.children,mu(i,o)?a=null:p!==null&&mu(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=hc(e,t,Wm,null,null,n),es._currentValue=i),to(e,t),Bt(e,t,a,n),t.child;case 6:return e===null&&Je&&((e=n=mt)&&(n=Rp(n,t.pendingProps,$n),n!==null?(t.stateNode=n,tn=t,mt=null,e=!0):e=!1),e||Ll(t)),null;case 13:return jf(e,t,n);case 4:return Zl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Li(t,null,a,n):Bt(e,t,a,n),t.child;case 11:return mf(e,t,t.type,t.pendingProps,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,el(t,t.type,a.value),Bt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Bl(t),i=Qt(i),a=a(i),t.flags|=1,Bt(e,t,a,n),t.child;case 14:return pf(e,t,t.type,t.pendingProps,n);case 15:return gf(e,t,t.type,t.pendingProps,n);case 19:return Nf(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=no(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ba(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return yf(e,t,n);case 24:return Bl(t),a=Qt(kt),e===null?(i=lc(),i===null&&(i=st,o=nc(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:a,cache:i},rc(t),el(t,kt,i)):((e.lanes&n)!==0&&(sc(e,t),Cr(t,null,null,n),Dr()),i=e.memoizedState,o=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),el(t,kt,a)):(a=o.cache,el(t,kt,a),a!==i.cache&&tc(t,[kt],n,!0))),Bt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Ea(e){e.flags|=4}function kf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zh(t)){if(t=_n.current,t!==null&&((Ve&4194048)===Ve?Wn!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||t!==Wn))throw _r=ic,od;e.flags|=8192}}function ao(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ei():536870912,e.lanes|=t,Gi|=t)}function qr(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function sp(e,t,n){var a=t.pendingProps;switch($o(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return ht(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Na(kt),je(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jr(t)?Ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ad())),ht(t),null;case 26:return n=t.memoizedState,e===null?(Ea(t),n!==null?(ht(t),kf(t,n)):(ht(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ea(t),ht(t),kf(t,n)):(ht(t),t.flags&=-16777217):(e.memoizedProps!==a&&Ea(t),ht(t),t.flags&=-16777217),null;case 27:na(t),n=Xt.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ea(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return ht(t),null}e=gt.current,jr(t)?td(t):(e=kh(i,a,n),t.stateNode=e,Ea(t))}return ht(t),null;case 5:if(na(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ea(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return ht(t),null}if(e=gt.current,jr(t))td(t);else{switch(i=yo(Xt.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}e[Re]=t,e[Xe]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Gt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ea(t)}}return ht(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ea(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=Xt.current,jr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=tn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Re]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||xh(e.nodeValue,n)),e||Ll(t)}else e=yo(e).createTextNode(a),e[Re]=t,t.stateNode=e}return ht(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=jr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Re]=t}else Sr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),i=!1}else i=ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ka(t),t):(ka(t),null)}if(ka(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var o=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ao(t,t.updateQueue),ht(t),null;case 4:return je(),e===null&&cu(t.stateNode.containerInfo),ht(t),null;case 10:return Na(t.type),ht(t),null;case 19:if(ot(At),i=t.memoizedState,i===null)return ht(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)qr(i,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ws(e),o!==null){for(t.flags|=128,qr(i,!1),e=o.updateQueue,t.updateQueue=e,ao(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Pu(n,e),n=n.sibling;return Ye(At,At.current&1|2),t.child}e=e.sibling}i.tail!==null&&wn()>ro&&(t.flags|=128,a=!0,qr(i,!1),t.lanes=4194304)}else{if(!a)if(e=Ws(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ao(t,e),qr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Je)return ht(t),null}else 2*wn()-i.renderingStartTime>ro&&n!==536870912&&(t.flags|=128,a=!0,qr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wn(),t.sibling=null,e=At.current,Ye(At,a?e&1|2:e&1),t):(ht(t),null);case 22:case 23:return ka(t),dc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),n=t.updateQueue,n!==null&&ao(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&ot(ql),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Na(kt),ht(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function op(e,t){switch($o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Na(kt),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return na(t),null;case 13:if(ka(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(At),null;case 4:return je(),null;case 10:return Na(t.type),null;case 22:case 23:return ka(t),dc(),e!==null&&ot(ql),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Na(kt),null;case 25:return null;default:return null}}function Af(e,t){switch($o(t),t.tag){case 3:Na(kt),je();break;case 26:case 27:case 5:na(t);break;case 4:je();break;case 13:ka(t);break;case 19:ot(At);break;case 10:Na(t.type);break;case 22:case 23:ka(t),dc(),e!==null&&ot(ql);break;case 24:Na(kt)}}function Gr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var o=n.create,p=n.inst;a=o(),p.destroy=a}n=n.next}while(n!==i)}}catch(b){it(t,t.return,b)}}function sl(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){var p=a.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,i=t;var T=n,G=b;try{G()}catch(W){it(i,T,W)}}}a=a.next}while(a!==o)}}catch(W){it(t,t.return,W)}}function Ef(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{md(t,n)}catch(a){it(e,e.return,a)}}}function _f(e,t,n){n.props=Hl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){it(e,t,a)}}function Hr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){it(e,t,i)}}function Pn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){it(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){it(e,t,i)}else n.current=null}function Of(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){it(e,e.return,i)}}function qc(e,t,n){try{var a=e.stateNode;_p(a,e.type,n,t),a[Xe]=t}catch(i){it(e,e.return,i)}}function Df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pl(e.type)||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=go));else if(a!==4&&(a===27&&pl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function lo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&pl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(lo(e,t,n),e=e.sibling;e!==null;)lo(e,t,n),e=e.sibling}function Cf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Gt(t,a,n),t[Re]=e,t[Xe]=n}catch(o){it(e,e.return,o)}}var _a=!1,bt=!1,Kc=!1,Mf=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function cp(e,t){if(e=e.containerInfo,fu=So,e=g(e),x(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var p=0,b=-1,T=-1,G=0,W=0,te=e,Y=null;t:for(;;){for(var Q;te!==n||i!==0&&te.nodeType!==3||(b=p+i),te!==o||a!==0&&te.nodeType!==3||(T=p+a),te.nodeType===3&&(p+=te.nodeValue.length),(Q=te.firstChild)!==null;)Y=te,te=Q;for(;;){if(te===e)break t;if(Y===n&&++G===i&&(b=p),Y===o&&++W===a&&(T=p),(Q=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=Q}n=b===-1||T===-1?null:{start:b,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:e,selectionRange:n},So=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){switch(t=Ct,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,a=n.stateNode;try{var Oe=Hl(n.type,i,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(Oe,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){it(n,n.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)gu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}}function zf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ol(e,n),a&4&&Gr(5,n);break;case 1:if(ol(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){it(n,n.return,p)}else{var i=Hl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){it(n,n.return,p)}}a&64&&Ef(n),a&512&&Hr(n,n.return);break;case 3:if(ol(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{md(e,t)}catch(p){it(n,n.return,p)}}break;case 27:t===null&&a&4&&Cf(n);case 26:case 5:ol(e,n),t===null&&a&4&&Of(n),a&512&&Hr(n,n.return);break;case 12:ol(e,n);break;case 13:ol(e,n),a&4&&Uf(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=vp.bind(null,n),Lp(e,n))));break;case 22:if(a=n.memoizedState!==null||_a,!a){t=t!==null&&t.memoizedState!==null||bt,i=_a;var o=bt;_a=a,(bt=t)&&!o?cl(e,n,(n.subtreeFlags&8772)!==0):ol(e,n),_a=i,bt=o}break;case 30:break;default:ol(e,n)}}function Rf(e){var t=e.alternate;t!==null&&(e.alternate=null,Rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,sn=!1;function Oa(e,t,n){for(n=n.child;n!==null;)Lf(e,t,n),n=n.sibling}function Lf(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Mn,n)}catch{}switch(n.tag){case 26:bt||Pn(n,t),Oa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:bt||Pn(n,t);var a=ft,i=sn;pl(n.type)&&(ft=n.stateNode,sn=!1),Oa(e,t,n),Jr(n.stateNode),ft=a,sn=i;break;case 5:bt||Pn(n,t);case 6:if(a=ft,i=sn,ft=null,Oa(e,t,n),ft=a,sn=i,ft!==null)if(sn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(o){it(n,t,o)}else try{ft.removeChild(n.stateNode)}catch(o){it(n,t,o)}break;case 18:ft!==null&&(sn?(e=ft,Nh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ls(e)):Nh(ft,n.stateNode));break;case 4:a=ft,i=sn,ft=n.stateNode.containerInfo,sn=!0,Oa(e,t,n),ft=a,sn=i;break;case 0:case 11:case 14:case 15:bt||sl(2,n,t),bt||sl(4,n,t),Oa(e,t,n);break;case 1:bt||(Pn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&_f(n,t,a)),Oa(e,t,n);break;case 21:Oa(e,t,n);break;case 22:bt=(a=bt)||n.memoizedState!==null,Oa(e,t,n),bt=a;break;default:Oa(e,t,n)}}function Uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(n){it(t,t.return,n)}}function up(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mf),t;default:throw Error(d(435,e.tag))}}function Ic(e,t){var n=up(e);t.forEach(function(a){var i=xp.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}function gn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],o=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(pl(b.type)){ft=b.stateNode,sn=!1;break e}break;case 5:ft=b.stateNode,sn=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,sn=!0;break e}b=b.return}if(ft===null)throw Error(d(160));Lf(o,p,i),ft=null,sn=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Bf(t,e),t=t.sibling}var qn=null;function Bf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(t,e),yn(e),a&4&&(sl(3,e,e.return),Gr(3,e),sl(5,e,e.return));break;case 1:gn(t,e),yn(e),a&512&&(bt||n===null||Pn(n,n.return)),a&64&&_a&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=qn;if(gn(t,e),yn(e),a&512&&(bt||n===null||Pn(n,n.return)),a&4){var o=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":o=i.getElementsByTagName("title")[0],(!o||o[ln]||o[Re]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(a),i.head.insertBefore(o,i.querySelector("head > title"))),Gt(o,a,n),o[Re]=e,yt(o),a=o;break e;case"link":var p=Ch("link","href",i).get(a+(n.href||""));if(p){for(var b=0;b<p.length;b++)if(o=p[b],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(b,1);break t}}o=i.createElement(a),Gt(o,a,n),i.head.appendChild(o);break;case"meta":if(p=Ch("meta","content",i).get(a+(n.content||""))){for(b=0;b<p.length;b++)if(o=p[b],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(b,1);break t}}o=i.createElement(a),Gt(o,a,n),i.head.appendChild(o);break;default:throw Error(d(468,a))}o[Re]=e,yt(o),a=o}e.stateNode=a}else Mh(i,e.type,e.stateNode);else e.stateNode=Dh(i,a,e.memoizedProps);else o!==a?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,a===null?Mh(i,e.type,e.stateNode):Dh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qc(e,e.memoizedProps,n.memoizedProps)}break;case 27:gn(t,e),yn(e),a&512&&(bt||n===null||Pn(n,n.return)),n!==null&&a&4&&qc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(gn(t,e),yn(e),a&512&&(bt||n===null||Pn(n,n.return)),e.flags&32){i=e.stateNode;try{Ya(i,"")}catch(Q){it(e,e.return,Q)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,qc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Kc=!0);break;case 6:if(gn(t,e),yn(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Q){it(e,e.return,Q)}}break;case 3:if(bo=null,i=qn,qn=vo(t.containerInfo),gn(t,e),qn=i,yn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(Q){it(e,e.return,Q)}Kc&&(Kc=!1,qf(e));break;case 4:a=qn,qn=vo(e.stateNode.containerInfo),gn(t,e),yn(e),qn=a;break;case 12:gn(t,e),yn(e);break;case 13:gn(t,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Fc=wn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ic(e,a)));break;case 22:i=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,G=_a,W=bt;if(_a=G||i,bt=W||T,gn(t,e),bt=W,_a=G,yn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||T||_a||bt||Kl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(o=T.stateNode,i)p=o.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=T.stateNode;var te=T.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){it(T,T.return,Q)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=i?"":T.memoizedProps}catch(Q){it(T,T.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ic(e,n))));break;case 19:gn(t,e),yn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ic(e,a)));break;case 30:break;case 21:break;default:gn(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Df(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var i=n.stateNode,o=Gc(e);lo(e,o,i);break;case 5:var p=n.stateNode;n.flags&32&&(Ya(p,""),n.flags&=-33);var b=Gc(e);lo(e,b,p);break;case 3:case 4:var T=n.stateNode.containerInfo,G=Gc(e);Hc(e,G,T);break;default:throw Error(d(161))}}catch(W){it(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ol(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zf(e,t.alternate,t),t=t.sibling}function Kl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Kl(t);break;case 1:Pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&_f(t,t.return,n),Kl(t);break;case 27:Jr(t.stateNode);case 26:case 5:Pn(t,t.return),Kl(t);break;case 22:t.memoizedState===null&&Kl(t);break;case 30:Kl(t);break;default:Kl(t)}e=e.sibling}}function cl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,o=t,p=o.flags;switch(o.tag){case 0:case 11:case 15:cl(i,o,n),Gr(4,o);break;case 1:if(cl(i,o,n),a=o,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(G){it(a,a.return,G)}if(a=o,i=a.updateQueue,i!==null){var b=a.stateNode;try{var T=i.shared.hiddenCallbacks;if(T!==null)for(i.shared.hiddenCallbacks=null,i=0;i<T.length;i++)hd(T[i],b)}catch(G){it(a,a.return,G)}}n&&p&64&&Ef(o),Hr(o,o.return);break;case 27:Cf(o);case 26:case 5:cl(i,o,n),n&&a===null&&p&4&&Of(o),Hr(o,o.return);break;case 12:cl(i,o,n);break;case 13:cl(i,o,n),n&&p&4&&Uf(i,o);break;case 22:o.memoizedState===null&&cl(i,o,n),Hr(o,o.return);break;case 30:break;default:cl(i,o,n)}t=t.sibling}}function Yc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&kr(n))}function Qc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kr(e))}function ea(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gf(e,t,n,a),t=t.sibling}function Gf(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,n,a),i&2048&&Gr(9,t);break;case 1:ea(e,t,n,a);break;case 3:ea(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kr(e)));break;case 12:if(i&2048){ea(e,t,n,a),e=t.stateNode;try{var o=t.memoizedProps,p=o.id,b=o.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){it(t,t.return,T)}}else ea(e,t,n,a);break;case 13:ea(e,t,n,a);break;case 23:break;case 22:o=t.stateNode,p=t.alternate,t.memoizedState!==null?o._visibility&2?ea(e,t,n,a):Kr(e,t):o._visibility&2?ea(e,t,n,a):(o._visibility|=2,Ui(e,t,n,a,(t.subtreeFlags&10256)!==0)),i&2048&&Yc(p,t);break;case 24:ea(e,t,n,a),i&2048&&Qc(t.alternate,t);break;default:ea(e,t,n,a)}}function Ui(e,t,n,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,p=t,b=n,T=a,G=p.flags;switch(p.tag){case 0:case 11:case 15:Ui(o,p,b,T,i),Gr(8,p);break;case 23:break;case 22:var W=p.stateNode;p.memoizedState!==null?W._visibility&2?Ui(o,p,b,T,i):Kr(o,p):(W._visibility|=2,Ui(o,p,b,T,i)),i&&G&2048&&Yc(p.alternate,p);break;case 24:Ui(o,p,b,T,i),i&&G&2048&&Qc(p.alternate,p);break;default:Ui(o,p,b,T,i)}t=t.sibling}}function Kr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Kr(n,a),i&2048&&Yc(a.alternate,a);break;case 24:Kr(n,a),i&2048&&Qc(a.alternate,a);break;default:Kr(n,a)}t=t.sibling}}var Ir=8192;function Bi(e){if(e.subtreeFlags&Ir)for(e=e.child;e!==null;)Hf(e),e=e.sibling}function Hf(e){switch(e.tag){case 26:Bi(e),e.flags&Ir&&e.memoizedState!==null&&Fp(qn,e.memoizedState,e.memoizedProps);break;case 5:Bi(e);break;case 3:case 4:var t=qn;qn=vo(e.stateNode.containerInfo),Bi(e),qn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ir,Ir=16777216,Bi(e),Ir=t):Bi(e));break;default:Bi(e)}}function Kf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ct=a,Yf(a,e)}Kf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)If(e),e=e.sibling}function If(e){switch(e.tag){case 0:case 11:case 15:Yr(e),e.flags&2048&&sl(9,e,e.return);break;case 3:Yr(e);break;case 12:Yr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,io(e)):Yr(e);break;default:Yr(e)}}function io(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ct=a,Yf(a,e)}Kf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sl(8,t,t.return),io(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,io(t));break;default:io(t)}e=e.sibling}}function Yf(e,t){for(;Ct!==null;){var n=Ct;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:kr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ct=a;else e:for(n=e;Ct!==null;){a=Ct;var i=a.sibling,o=a.return;if(Rf(a),a===n){Ct=null;break e}if(i!==null){i.return=o,Ct=i;break e}Ct=o}}}var dp={getCacheForType:function(e){var t=Qt(kt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},fp=typeof WeakMap=="function"?WeakMap:Map,We=0,st=null,He=null,Ve=0,Pe=0,vn=null,ul=!1,qi=!1,Vc=!1,Da=0,pt=0,dl=0,Il=0,Xc=0,On=0,Gi=0,Qr=null,on=null,Zc=!1,Fc=0,ro=1/0,so=null,fl=null,qt=0,hl=null,Hi=null,Ki=0,Jc=0,$c=null,Qf=null,Vr=0,Wc=null;function xn(){if((We&2)!==0&&Ve!==0)return Ve&-Ve;if(V.T!==null){var e=_i;return e!==0?e:iu()}return sa()}function Vf(){On===0&&(On=(Ve&536870912)===0||Je?ge():536870912);var e=_n.current;return e!==null&&(e.flags|=32),On}function bn(e,t,n){(e===st&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(Ii(e,0),ml(e,Ve,On,!1)),ra(e,n),((We&2)===0||e!==st)&&(e===st&&((We&2)===0&&(Il|=n),pt===4&&ml(e,Ve,On,!1)),ta(e))}function Xf(e,t,n){if((We&6)!==0)throw Error(d(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||dn(e,t),i=a?pp(e,t):tu(e,t,!0),o=a;do{if(i===0){qi&&!a&&ml(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!hp(n)){i=tu(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;i=Qr;var T=b.current.memoizedState.isDehydrated;if(T&&(Ii(b,p).flags|=256),p=tu(b,p,!1),p!==2){if(Vc&&!T){b.errorRecoveryDisabledLanes|=o,Il|=o,i=4;break e}o=on,on=i,o!==null&&(on===null?on=o:on.push.apply(on,o))}i=p}if(o=!1,i!==2)continue}}if(i===1){Ii(e,0),ml(e,t,0,!0);break}e:{switch(a=e,o=i,o){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:ml(a,t,On,!ul);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=Fc+300-wn(),10<i)){if(ml(a,t,On,!ul),Kn(a,0,!0)!==0)break e;a.timeoutHandle=jh(Zf.bind(null,a,n,on,so,Zc,t,On,Il,Gi,ul,o,2,-0,0),i);break e}Zf(a,n,on,so,Zc,t,On,Il,Gi,ul,o,0,-0,0)}}break}while(!0);ta(e)}function Zf(e,t,n,a,i,o,p,b,T,G,W,te,Y,Q){if(e.timeoutHandle=-1,te=t.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Pr={stylesheets:null,count:0,unsuspend:Zp},Hf(t),te=Jp(),te!==null)){e.cancelPendingCommit=te(th.bind(null,e,t,o,n,a,i,p,b,T,W,1,Y,Q)),ml(e,o,p,!G);return}th(e,t,o,n,a,i,p,b,T)}function hp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],o=i.getSnapshot;i=i.value;try{if(!Yt(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t,n,a){t&=~Xc,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var o=31-Rt(i),p=1<<o;a[o]=-1,i&=~p}n!==0&&ni(e,n,t)}function oo(){return(We&6)===0?(Xr(0),!1):!0}function Pc(){if(He!==null){if(Pe===0)var e=He.return;else e=He,Sa=Ul=null,gc(e),Ri=null,Ur=0,e=He;for(;e!==null;)Af(e.alternate,e),e=e.return;He=null}}function Ii(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Dp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Pc(),st=e,He=n=ba(e.current,null),Ve=t,Pe=0,vn=null,ul=!1,qi=dn(e,t),Vc=!1,Gi=On=Xc=Il=dl=pt=0,on=Qr=null,Zc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Rt(a),o=1<<i;t|=e[i],a&=~o}return Da=t,ze(),n}function Ff(e,t){Be=null,V.H=Fs,t===Er||t===qs?(t=dd(),Pe=3):t===od?(t=dd(),Pe=4):Pe=t===hf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vn=t,He===null&&(pt=1,eo(e,Te(t,e.current)))}function Jf(){var e=V.H;return V.H=Fs,e===null?Fs:e}function $f(){var e=V.A;return V.A=dp,e}function eu(){pt=4,ul||(Ve&4194048)!==Ve&&_n.current!==null||(qi=!0),(dl&134217727)===0&&(Il&134217727)===0||st===null||ml(st,Ve,On,!1)}function tu(e,t,n){var a=We;We|=2;var i=Jf(),o=$f();(st!==e||Ve!==t)&&(so=null,Ii(e,t)),t=!1;var p=pt;e:do try{if(Pe!==0&&He!==null){var b=He,T=vn;switch(Pe){case 8:Pc(),p=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(t=!0);var G=Pe;if(Pe=0,vn=null,Yi(e,b,T,G),n&&qi){p=0;break e}break;default:G=Pe,Pe=0,vn=null,Yi(e,b,T,G)}}mp(),p=pt;break}catch(W){Ff(e,W)}while(!0);return t&&e.shellSuspendCounter++,Sa=Ul=null,We=a,V.H=i,V.A=o,He===null&&(st=null,Ve=0,ze()),p}function mp(){for(;He!==null;)Wf(He)}function pp(e,t){var n=We;We|=2;var a=Jf(),i=$f();st!==e||Ve!==t?(so=null,ro=wn()+500,Ii(e,t)):qi=dn(e,t);e:do try{if(Pe!==0&&He!==null){t=He;var o=vn;t:switch(Pe){case 1:Pe=0,vn=null,Yi(e,t,o,1);break;case 2:case 9:if(cd(o)){Pe=0,vn=null,Pf(t);break}t=function(){Pe!==2&&Pe!==9||st!==e||(Pe=7),ta(e)},o.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:cd(o)?(Pe=0,vn=null,Pf(t)):(Pe=0,vn=null,Yi(e,t,o,7));break;case 5:var p=null;switch(He.tag){case 26:p=He.memoizedState;case 5:case 27:var b=He;if(!p||zh(p)){Pe=0,vn=null;var T=b.sibling;if(T!==null)He=T;else{var G=b.return;G!==null?(He=G,co(G)):He=null}break t}}Pe=0,vn=null,Yi(e,t,o,5);break;case 6:Pe=0,vn=null,Yi(e,t,o,6);break;case 8:Pc(),pt=6;break e;default:throw Error(d(462))}}gp();break}catch(W){Ff(e,W)}while(!0);return Sa=Ul=null,V.H=a,V.A=i,We=n,He!==null?0:(st=null,Ve=0,ze(),pt)}function gp(){for(;He!==null&&!la();)Wf(He)}function Wf(e){var t=Tf(e.alternate,e,Da);e.memoizedProps=e.pendingProps,t===null?co(e):He=t}function Pf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xf(n,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=xf(n,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:gc(t);default:Af(n,t),t=He=Pu(t,Da),t=Tf(n,t,Da)}e.memoizedProps=e.pendingProps,t===null?co(e):He=t}function Yi(e,t,n,a){Sa=Ul=null,gc(t),Ri=null,Ur=0;var i=t.return;try{if(ip(e,i,t,n,Ve)){pt=1,eo(e,Te(n,e.current)),He=null;return}}catch(o){if(i!==null)throw He=i,o;pt=1,eo(e,Te(n,e.current)),He=null;return}t.flags&32768?(Je||a===1?e=!0:qi||(Ve&536870912)!==0?e=!1:(ul=e=!0,(a===2||a===9||a===3||a===6)&&(a=_n.current,a!==null&&a.tag===13&&(a.flags|=16384))),eh(t,e)):co(t)}function co(e){var t=e;do{if((t.flags&32768)!==0){eh(t,ul);return}e=t.return;var n=sp(t.alternate,t,Da);if(n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);pt===0&&(pt=5)}function eh(e,t){do{var n=op(e.alternate,e);if(n!==null){n.flags&=32767,He=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){He=e;return}He=e=n}while(e!==null);pt=6,He=null}function th(e,t,n,a,i,o,p,b,T){e.cancelPendingCommit=null;do uo();while(qt!==0);if((We&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(o=t.lanes|t.childLanes,o|=en,gs(e,n,o,p,b,T),e===st&&(He=st=null,Ve=0),Hi=t,hl=e,Ki=n,Jc=o,$c=i,Qf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bp(Zt,function(){return rh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=V.T,V.T=null,i=de.p,de.p=2,p=We,We|=4;try{cp(e,t,n)}finally{We=p,de.p=i,V.T=a}}qt=1,nh(),ah(),lh()}}function nh(){if(qt===1){qt=0;var e=hl,t=Hi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=V.T,V.T=null;var a=de.p;de.p=2;var i=We;We|=4;try{Bf(t,e);var o=hu,p=g(e.containerInfo),b=o.focusedElem,T=o.selectionRange;if(p!==b&&b&&b.ownerDocument&&h(b.ownerDocument.documentElement,b)){if(T!==null&&x(b)){var G=T.start,W=T.end;if(W===void 0&&(W=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(W,b.value.length);else{var te=b.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Oe=b.textContent.length,Ee=Math.min(T.start,Oe),lt=T.end===void 0?Ee:Math.min(T.end,Oe);!Q.extend&&Ee>lt&&(p=lt,lt=Ee,Ee=p);var L=u(b,Ee),O=u(b,lt);if(L&&O&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var q=te.createRange();q.setStart(L.node,L.offset),Q.removeAllRanges(),Ee>lt?(Q.addRange(q),Q.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),Q.addRange(q))}}}}for(te=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}So=!!fu,hu=fu=null}finally{We=i,de.p=a,V.T=n}}e.current=t,qt=2}}function ah(){if(qt===2){qt=0;var e=hl,t=Hi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=V.T,V.T=null;var a=de.p;de.p=2;var i=We;We|=4;try{zf(e,t.alternate,t)}finally{We=i,de.p=a,V.T=n}}qt=3}}function lh(){if(qt===4||qt===3){qt=0,Go();var e=hl,t=Hi,n=Ki,a=Qf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?qt=5:(qt=0,Hi=hl=null,ih(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(fl=null),In(n),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Mn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=V.T,i=de.p,de.p=2,V.T=null;try{for(var o=e.onRecoverableError,p=0;p<a.length;p++){var b=a[p];o(b.value,{componentStack:b.stack})}}finally{V.T=t,de.p=i}}(Ki&3)!==0&&uo(),ta(e),i=e.pendingLanes,(n&4194090)!==0&&(i&42)!==0?e===Wc?Vr++:(Vr=0,Wc=e):Vr=0,Xr(0)}}function ih(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,kr(t)))}function uo(e){return nh(),ah(),lh(),rh()}function rh(){if(qt!==5)return!1;var e=hl,t=Jc;Jc=0;var n=In(Ki),a=V.T,i=de.p;try{de.p=32>n?32:n,V.T=null,n=$c,$c=null;var o=hl,p=Ki;if(qt=0,Hi=hl=null,Ki=0,(We&6)!==0)throw Error(d(331));var b=We;if(We|=4,If(o.current),Gf(o,o.current,p,n),We=b,Xr(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Mn,o)}catch{}return!0}finally{de.p=i,V.T=a,ih(e,t)}}function sh(e,t,n){t=Te(n,t),t=Oc(e.stateNode,t,2),e=al(e,t,2),e!==null&&(ra(e,2),ta(e))}function it(e,t,n){if(e.tag===3)sh(e,e,n);else for(;t!==null;){if(t.tag===3){sh(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(fl===null||!fl.has(a))){e=Te(n,e),n=df(2),a=al(t,n,2),a!==null&&(ff(n,a,t,e),ra(a,2),ta(a));break}}t=t.return}}function nu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new fp;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Vc=!0,i.add(n),e=yp.bind(null,e,t,n),t.then(e,e))}function yp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(Ve&n)===n&&(pt===4||pt===3&&(Ve&62914560)===Ve&&300>wn()-Fc?(We&2)===0&&Ii(e,0):Xc|=n,Gi===Ve&&(Gi=0)),ta(e)}function oh(e,t){t===0&&(t=ei()),e=Bn(e,t),e!==null&&(ra(e,t),ta(e))}function vp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oh(e,n)}function xp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),oh(e,n)}function bp(e,t){return aa(e,t)}var fo=null,Qi=null,au=!1,ho=!1,lu=!1,Yl=0;function ta(e){e!==Qi&&e.next===null&&(Qi===null?fo=Qi=e:Qi=Qi.next=e),ho=!0,au||(au=!0,jp())}function Xr(e,t){if(!lu&&ho){lu=!0;do for(var n=!1,a=fo;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var o=0;else{var p=a.suspendedLanes,b=a.pingedLanes;o=(1<<31-Rt(42|e)+1)-1,o&=i&~(p&~b),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,fh(a,o))}else o=Ve,o=Kn(a,a===st?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||dn(a,o)||(n=!0,fh(a,o));a=a.next}while(n);lu=!1}}function wp(){ch()}function ch(){ho=au=!1;var e=0;Yl!==0&&(Op()&&(e=Yl),Yl=0);for(var t=wn(),n=null,a=fo;a!==null;){var i=a.next,o=uh(a,t);o===0?(a.next=null,n===null?fo=i:n.next=i,i===null&&(Qi=n)):(n=a,(e!==0||(o&3)!==0)&&(ho=!0)),a=i}Xr(e)}function uh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var p=31-Rt(o),b=1<<p,T=i[p];T===-1?((b&n)===0||(b&a)!==0)&&(i[p]=Pl(b,t)):T<=t&&(e.expiredLanes|=b),o&=~b}if(t=st,n=Ve,n=Kn(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Wi(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||dn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Wi(a),In(n)){case 2:case 8:n=Jl;break;case 32:n=Zt;break;case 268435456:n=La;break;default:n=Zt}return a=dh.bind(null,e),n=aa(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Wi(a),e.callbackPriority=2,e.callbackNode=null,2}function dh(e,t){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(uo()&&e.callbackNode!==n)return null;var a=Ve;return a=Kn(e,e===st?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xf(e,a,t),uh(e,wn()),e.callbackNode!=null&&e.callbackNode===n?dh.bind(null,e):null)}function fh(e,t){if(uo())return null;Xf(e,t,!0)}function jp(){Cp(function(){(We&6)!==0?aa(hs,wp):ch()})}function iu(){return Yl===0&&(Yl=ge()),Yl}function hh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function mh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Sp(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var o=hh((i[Xe]||null).action),p=a.submitter;p&&(t=(t=p[Xe]||null)?hh(t.formAction):p.getAttribute("formAction"),t!==null&&(o=t,p=null));var b=new di("action","action",null,a,i);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Yl!==0){var T=p?mh(i,p):new FormData(i);Tc(n,{pending:!0,data:T,method:i.method,action:o},null,T)}}else typeof o=="function"&&(b.preventDefault(),T=p?mh(i,p):new FormData(i),Tc(n,{pending:!0,data:T,method:i.method,action:o},o,T))},currentTarget:i}]})}}for(var ru=0;ru<he.length;ru++){var su=he[ru],Np=su.toLowerCase(),Tp=su[0].toUpperCase()+su.slice(1);ne(Np,"on"+Tp)}ne(H,"onAnimationEnd"),ne(X,"onAnimationIteration"),ne(Z,"onAnimationStart"),ne("dblclick","onDoubleClick"),ne("focusin","onFocus"),ne("focusout","onBlur"),ne($,"onTransitionRun"),ne(se,"onTransitionStart"),ne(me,"onTransitionCancel"),ne(re,"onTransitionEnd"),et("onMouseEnter",["mouseout","mouseover"]),et("onMouseLeave",["mouseout","mouseover"]),et("onPointerEnter",["pointerout","pointerover"]),et("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function ph(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var p=a.length-1;0<=p;p--){var b=a[p],T=b.instance,G=b.currentTarget;if(b=b.listener,T!==o&&i.isPropagationStopped())break e;o=b,i.currentTarget=G;try{o(i)}catch(W){Ps(W)}i.currentTarget=null,o=T}else for(p=0;p<a.length;p++){if(b=a[p],T=b.instance,G=b.currentTarget,b=b.listener,T!==o&&i.isPropagationStopped())break e;o=b,i.currentTarget=G;try{o(i)}catch(W){Ps(W)}i.currentTarget=null,o=T}}}}function Ke(e,t){var n=t[qa];n===void 0&&(n=t[qa]=new Set);var a=e+"__bubble";n.has(a)||(gh(t,e,2,!1),n.add(a))}function ou(e,t,n){var a=0;t&&(a|=4),gh(n,e,a,t)}var mo="_reactListening"+Math.random().toString(36).slice(2);function cu(e){if(!e[mo]){e[mo]=!0,Qn.forEach(function(n){n!=="selectionchange"&&(kp.has(n)||ou(n,!1,e),ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mo]||(t[mo]=!0,ou("selectionchange",!1,t))}}function gh(e,t,n,a){switch(Gh(t)){case 2:var i=Pp;break;case 8:i=eg;break;default:i=Su}n=i.bind(null,t,n,e),i=void 0,!or||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function uu(e,t,n,a,i){var o=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var b=a.stateNode.containerInfo;if(b===i)break;if(p===4)for(p=a.return;p!==null;){var T=p.tag;if((T===3||T===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;b!==null;){if(p=Ft(b),p===null)return;if(T=p.tag,T===5||T===6||T===26||T===27){a=o=p;continue e}b=b.parentNode}}a=a.return}Va(function(){var G=o,W=ci(n),te=[];e:{var Y=ue.get(e);if(Y!==void 0){var Q=di,Oe=e;switch(e){case"keypress":if(Fa(n)===0)break e;case"keydown":case"keyup":Q=xi;break;case"focusin":Oe="focus",Q=Ja;break;case"focusout":Oe="blur",Q=Ja;break;case"beforeblur":case"afterblur":Q=Ja;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=js;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=pr;break;case H:case X:case Z:Q=Ss;break;case re:Q=gr;break;case"scroll":case"scrollend":Q=fi;break;case"wheel":Q=wi;break;case"copy":case"cut":case"paste":Q=yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=mr;break;case"toggle":case"beforetoggle":Q=ks}var Ee=(t&4)!==0,lt=!Ee&&(e==="scroll"||e==="scrollend"),L=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var O=G,q;O!==null;){var ee=O;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||L===null||(ee=ma(O,L),ee!=null&&Ee.push(Fr(O,ee,q))),lt)break;O=O.return}0<Ee.length&&(Y=new Q(Y,Oe,null,n,W),te.push({event:Y,listeners:Ee}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",Y&&n!==Sn&&(Oe=n.relatedTarget||n.fromElement)&&(Ft(Oe)||Oe[Ba]))break e;if((Q||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Oe=n.relatedTarget||n.toElement,Q=G,Oe=Oe?Ft(Oe):null,Oe!==null&&(lt=v(Oe),Ee=Oe.tag,Oe!==lt||Ee!==5&&Ee!==27&&Ee!==6)&&(Oe=null)):(Q=null,Oe=G),Q!==Oe)){if(Ee=mi,ee="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=mr,ee="onPointerLeave",L="onPointerEnter",O="pointer"),lt=Q==null?Y:jl(Q),q=Oe==null?Y:jl(Oe),Y=new Ee(ee,O+"leave",Q,n,W),Y.target=lt,Y.relatedTarget=q,ee=null,Ft(W)===G&&(Ee=new Ee(L,O+"enter",Oe,n,W),Ee.target=q,Ee.relatedTarget=lt,ee=Ee),lt=ee,Q&&Oe)t:{for(Ee=Q,L=Oe,O=0,q=Ee;q;q=Vi(q))O++;for(q=0,ee=L;ee;ee=Vi(ee))q++;for(;0<O-q;)Ee=Vi(Ee),O--;for(;0<q-O;)L=Vi(L),q--;for(;O--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Vi(Ee),L=Vi(L)}Ee=null}else Ee=null;Q!==null&&yh(te,Y,Q,Ee,!1),Oe!==null&&lt!==null&&yh(te,lt,Oe,Ee,!0)}}e:{if(Y=G?jl(G):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var we=Dl;else if(Ni(Y))if(Tn)we=Pa;else{we=xa;var qe=Cs}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&sr(G.elementType)&&(we=Dl):we=wr;if(we&&(we=we(e,G))){br(te,we,n,W);break e}qe&&qe(e,Y,G),e==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&si(Y,"number",Y.value)}switch(qe=G?jl(G):window,e){case"focusin":(Ni(qe)||qe.contentEditable==="true")&&(N=qe,D=G,E=null);break;case"focusout":E=D=N=null;break;case"mousedown":R=!0;break;case"contextmenu":case"mouseup":case"dragend":R=!1,A(te,n,W);break;case"selectionchange":if(S)break;case"keydown":case"keyup":A(te,n,W)}var Se;if(_l)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else va?xr(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(ji&&n.locale!=="ko"&&(va||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&va&&(Se=Za()):(Nn=W,ui="value"in Nn?Nn.value:Nn.textContent,va=!0)),qe=po(G,_e),0<qe.length&&(_e=new vi(_e,e,null,n,W),te.push({event:_e,listeners:qe}),Se?_e.data=Se:(Se=Es(n),Se!==null&&(_e.data=Se)))),(Se=Yo?_s(e,n):Qo(e,n))&&(_e=po(G,"onBeforeInput"),0<_e.length&&(qe=new vi("onBeforeInput","beforeinput",null,n,W),te.push({event:qe,listeners:_e}),qe.data=Se)),Sp(te,e,G,n,W)}ph(te,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function po(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=ma(e,n),i!=null&&a.unshift(Fr(e,i,o)),i=ma(e,t),i!=null&&a.push(Fr(e,i,o))),e.tag===3)return a;e=e.return}return[]}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yh(e,t,n,a,i){for(var o=t._reactName,p=[];n!==null&&n!==a;){var b=n,T=b.alternate,G=b.stateNode;if(b=b.tag,T!==null&&T===a)break;b!==5&&b!==26&&b!==27||G===null||(T=G,i?(G=ma(n,o),G!=null&&p.unshift(Fr(n,G,T))):i||(G=ma(n,o),G!=null&&p.push(Fr(n,G,T)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Ap=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function vh(e){return(typeof e=="string"?e:""+e).replace(Ap,`
`).replace(Ep,"")}function xh(e,t){return t=vh(t),vh(e)===t}function go(){}function at(e,t,n,a,i,o){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ya(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ya(e,""+a);break;case"className":Ha(e,"class",a);break;case"tabIndex":Ha(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(e,n,a);break;case"style":bs(e,a,o);break;case"data":if(t!=="object"){Ha(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=da(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&at(e,t,"name",i.name,i,null),at(e,t,"formEncType",i.formEncType,i,null),at(e,t,"formMethod",i.formMethod,i,null),at(e,t,"formTarget",i.formTarget,i,null)):(at(e,t,"encType",i.encType,i,null),at(e,t,"method",i.method,i,null),at(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=da(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=go);break;case"onScroll":a!=null&&Ke("scroll",e);break;case"onScrollEnd":a!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=da(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),ca(e,"popover",a);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ca(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wt.get(n)||n,ca(e,n,a))}}function du(e,t,n,a,i,o){switch(n){case"style":bs(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ya(e,a):(typeof a=="number"||typeof a=="bigint")&&Ya(e,""+a);break;case"onScroll":a!=null&&Ke("scroll",e);break;case"onScrollEnd":a!=null&&Ke("scrollend",e);break;case"onClick":a!=null&&(e.onclick=go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[Xe]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof a=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ca(e,n,a)}}}function Gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var a=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var p=n[o];if(p!=null)switch(o){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:at(e,t,o,p,n,null)}}i&&at(e,t,"srcSet",n.srcSet,n,null),a&&at(e,t,"src",n.src,n,null);return;case"input":Ke("invalid",e);var b=o=p=i=null,T=null,G=null;for(a in n)if(n.hasOwnProperty(a)){var W=n[a];if(W!=null)switch(a){case"name":i=W;break;case"type":p=W;break;case"checked":T=W;break;case"defaultChecked":G=W;break;case"value":o=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(d(137,t));break;default:at(e,t,a,W,n,null)}}Nl(e,o,b,T,G,p,i,!1),Vn(e);return;case"select":Ke("invalid",e),a=p=o=null;for(i in n)if(n.hasOwnProperty(i)&&(b=n[i],b!=null))switch(i){case"value":o=b;break;case"defaultValue":p=b;break;case"multiple":a=b;default:at(e,t,i,b,n,null)}t=o,n=p,e.multiple=!!a,t!=null?Kt(e,!!a,t,!1):n!=null&&Kt(e,!!a,n,!0);return;case"textarea":Ke("invalid",e),o=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(b=n[p],b!=null))switch(p){case"value":a=b;break;case"defaultValue":i=b;break;case"children":o=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(d(91));break;default:at(e,t,p,b,n,null)}rr(e,a,i,o),Vn(e);return;case"option":for(T in n)if(n.hasOwnProperty(T)&&(a=n[T],a!=null))switch(T){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:at(e,t,T,a,n,null)}return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(a=0;a<Zr.length;a++)Ke(Zr[a],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(a=n[G],a!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:at(e,t,G,a,n,null)}return;default:if(sr(t)){for(W in n)n.hasOwnProperty(W)&&(a=n[W],a!==void 0&&du(e,t,W,a,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(a=n[b],a!=null&&at(e,t,b,a,n,null))}function _p(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,p=null,b=null,T=null,G=null,W=null;for(Q in n){var te=n[Q];if(n.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":T=te;default:a.hasOwnProperty(Q)||at(e,t,Q,null,a,te)}}for(var Y in a){var Q=a[Y];if(te=n[Y],a.hasOwnProperty(Y)&&(Q!=null||te!=null))switch(Y){case"type":o=Q;break;case"name":i=Q;break;case"checked":G=Q;break;case"defaultChecked":W=Q;break;case"value":p=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(d(137,t));break;default:Q!==te&&at(e,t,Y,Q,a,te)}}ri(e,p,b,T,G,W,o,i);return;case"select":Q=p=b=Y=null;for(o in n)if(T=n[o],n.hasOwnProperty(o)&&T!=null)switch(o){case"value":break;case"multiple":Q=T;default:a.hasOwnProperty(o)||at(e,t,o,null,a,T)}for(i in a)if(o=a[i],T=n[i],a.hasOwnProperty(i)&&(o!=null||T!=null))switch(i){case"value":Y=o;break;case"defaultValue":b=o;break;case"multiple":p=o;default:o!==T&&at(e,t,i,o,a,T)}t=b,n=p,a=Q,Y!=null?Kt(e,!!n,Y,!1):!!a!=!!n&&(t!=null?Kt(e,!!n,t,!0):Kt(e,!!n,n?[]:"",!1));return;case"textarea":Q=Y=null;for(b in n)if(i=n[b],n.hasOwnProperty(b)&&i!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:at(e,t,b,null,a,i)}for(p in a)if(i=a[p],o=n[p],a.hasOwnProperty(p)&&(i!=null||o!=null))switch(p){case"value":Y=i;break;case"defaultValue":Q=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==o&&at(e,t,p,i,a,o)}Ia(e,Y,Q);return;case"option":for(var Oe in n)if(Y=n[Oe],n.hasOwnProperty(Oe)&&Y!=null&&!a.hasOwnProperty(Oe))switch(Oe){case"selected":e.selected=!1;break;default:at(e,t,Oe,null,a,Y)}for(T in a)if(Y=a[T],Q=n[T],a.hasOwnProperty(T)&&Y!==Q&&(Y!=null||Q!=null))switch(T){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:at(e,t,T,Y,a,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in n)Y=n[Ee],n.hasOwnProperty(Ee)&&Y!=null&&!a.hasOwnProperty(Ee)&&at(e,t,Ee,null,a,Y);for(G in a)if(Y=a[G],Q=n[G],a.hasOwnProperty(G)&&Y!==Q&&(Y!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(d(137,t));break;default:at(e,t,G,Y,a,Q)}return;default:if(sr(t)){for(var lt in n)Y=n[lt],n.hasOwnProperty(lt)&&Y!==void 0&&!a.hasOwnProperty(lt)&&du(e,t,lt,void 0,a,Y);for(W in a)Y=a[W],Q=n[W],!a.hasOwnProperty(W)||Y===Q||Y===void 0&&Q===void 0||du(e,t,W,Y,a,Q);return}}for(var L in n)Y=n[L],n.hasOwnProperty(L)&&Y!=null&&!a.hasOwnProperty(L)&&at(e,t,L,null,a,Y);for(te in a)Y=a[te],Q=n[te],!a.hasOwnProperty(te)||Y===Q||Y==null&&Q==null||at(e,t,te,Y,a,Q)}var fu=null,hu=null;function yo(e){return e.nodeType===9?e:e.ownerDocument}function bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=null;function Op(){var e=window.event;return e&&e.type==="popstate"?e===pu?!1:(pu=e,!0):(pu=null,!1)}var jh=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,Cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(e){return Sh.resolve(null).then(e).catch(Mp)}:jh;function Mp(e){setTimeout(function(){throw e})}function pl(e){return e==="head"}function Nh(e,t){var n=t,a=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<a&&8>a){n=a;var p=e.ownerDocument;if(n&1&&Jr(p.documentElement),n&2&&Jr(p.body),n&4)for(n=p.head,Jr(n),p=n.firstChild;p;){var b=p.nextSibling,T=p.nodeName;p[ln]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||n.removeChild(p),p=b}}if(i===0){e.removeChild(o),ls(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:a=n.charCodeAt(0)-48;else a=0;n=o}while(n);ls(t)}function gu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gu(n),Yn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function zp(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ln])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function Rp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Lp(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var vu=null;function Th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function kh(e,t,n){switch(t=yo(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Jr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yn(e)}var Dn=new Map,Ah=new Set;function vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=de.d;de.d={f:Up,r:Bp,D:qp,C:Gp,L:Hp,m:Kp,X:Yp,S:Ip,M:Qp};function Up(){var e=Ca.f(),t=oo();return e||t}function Bp(e){var t=zn(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):Ca.r(e)}var Xi=typeof document>"u"?null:document;function Eh(e,t,n){var a=Xi;if(a&&typeof t=="string"&&t){var i=Lt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Ah.has(i)||(Ah.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Gt(t,"link",e),yt(t),a.head.appendChild(t)))}}function qp(e){Ca.D(e),Eh("dns-prefetch",e,null)}function Gp(e,t){Ca.C(e,t),Eh("preconnect",e,t)}function Hp(e,t,n){Ca.L(e,t,n);var a=Xi;if(a&&e&&t){var i='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Lt(n.imageSizes)+'"]')):i+='[href="'+Lt(e)+'"]';var o=i;switch(t){case"style":o=Zi(e);break;case"script":o=Fi(e)}Dn.has(o)||(e=B({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Dn.set(o,e),a.querySelector(i)!==null||t==="style"&&a.querySelector($r(o))||t==="script"&&a.querySelector(Wr(o))||(t=a.createElement("link"),Gt(t,"link",e),yt(t),a.head.appendChild(t)))}}function Kp(e,t){Ca.m(e,t);var n=Xi;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Lt(a)+'"][href="'+Lt(e)+'"]',o=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Fi(e)}if(!Dn.has(o)&&(e=B({rel:"modulepreload",href:e},t),Dn.set(o,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wr(o)))return}a=n.createElement("link"),Gt(a,"link",e),yt(a),n.head.appendChild(a)}}}function Ip(e,t,n){Ca.S(e,t,n);var a=Xi;if(a&&e){var i=Jt(a).hoistableStyles,o=Zi(e);t=t||"default";var p=i.get(o);if(!p){var b={loading:0,preload:null};if(p=a.querySelector($r(o)))b.loading=5;else{e=B({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Dn.get(o))&&xu(e,n);var T=p=a.createElement("link");yt(T),Gt(T,"link",e),T._p=new Promise(function(G,W){T.onload=G,T.onerror=W}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xo(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:b},i.set(o,p)}}}function Yp(e,t){Ca.X(e,t);var n=Xi;if(n&&e){var a=Jt(n).hoistableScripts,i=Fi(e),o=a.get(i);o||(o=n.querySelector(Wr(i)),o||(e=B({src:e,async:!0},t),(t=Dn.get(i))&&bu(e,t),o=n.createElement("script"),yt(o),Gt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function Qp(e,t){Ca.M(e,t);var n=Xi;if(n&&e){var a=Jt(n).hoistableScripts,i=Fi(e),o=a.get(i);o||(o=n.querySelector(Wr(i)),o||(e=B({src:e,async:!0,type:"module"},t),(t=Dn.get(i))&&bu(e,t),o=n.createElement("script"),yt(o),Gt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(i,o))}}function _h(e,t,n,a){var i=(i=Xt.current)?vo(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Zi(n.href),n=Jt(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Zi(n.href);var o=Jt(i).hoistableStyles,p=o.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,p),(o=i.querySelector($r(e)))&&!o._p&&(p.instance=o,p.state.loading=5),Dn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Dn.set(e,n),o||Vp(i,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fi(n),n=Jt(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Zi(e){return'href="'+Lt(e)+'"'}function $r(e){return'link[rel="stylesheet"]['+e+"]"}function Oh(e){return B({},e,{"data-precedence":e.precedence,precedence:null})}function Vp(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Gt(t,"link",n),yt(t),e.head.appendChild(t))}function Fi(e){return'[src="'+Lt(e)+'"]'}function Wr(e){return"script[async]"+e}function Dh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(a)return t.instance=a,yt(a),a;var i=B({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),yt(a),Gt(a,"style",i),xo(a,n.precedence,e),t.instance=a;case"stylesheet":i=Zi(n.href);var o=e.querySelector($r(i));if(o)return t.state.loading|=4,t.instance=o,yt(o),o;a=Oh(n),(i=Dn.get(i))&&xu(a,i),o=(e.ownerDocument||e).createElement("link"),yt(o);var p=o;return p._p=new Promise(function(b,T){p.onload=b,p.onerror=T}),Gt(o,"link",a),t.state.loading|=4,xo(o,n.precedence,e),t.instance=o;case"script":return o=Fi(n.src),(i=e.querySelector(Wr(o)))?(t.instance=i,yt(i),i):(a=n,(i=Dn.get(o))&&(a=B({},n),bu(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),yt(i),Gt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,xo(a,n.precedence,e));return t.instance}function xo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,o=i,p=0;p<a.length;p++){var b=a[p];if(b.dataset.precedence===t)o=b;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bo=null;function Ch(e,t,n){if(bo===null){var a=new Map,i=bo=new Map;i.set(n,a)}else i=bo,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[ln]||o[Re]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var p=o.getAttribute(t)||"";p=e+p;var b=a.get(p);b?b.push(o):a.set(p,[o])}}return a}function Mh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Pr=null;function Zp(){}function Fp(e,t,n){if(Pr===null)throw Error(d(475));var a=Pr;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=Zi(n.href),o=e.querySelector($r(i));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=wo.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=o,yt(o);return}o=e.ownerDocument||e,n=Oh(n),(i=Dn.get(i))&&xu(n,i),o=o.createElement("link"),yt(o);var p=o;p._p=new Promise(function(b,T){p.onload=b,p.onerror=T}),Gt(o,"link",n),t.instance=o}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=wo.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Jp(){if(Pr===null)throw Error(d(475));var e=Pr;return e.stylesheets&&e.count===0&&wu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&wu(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function wo(){if(this.count--,this.count===0){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jo=null;function wu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jo=new Map,t.forEach($p,e),jo=null,wo.call(e))}function $p(e,t){if(!(t.state.loading&4)){var n=jo.get(e);if(n)var a=n.get(null);else{n=new Map,jo.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var p=i[o];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),o=n.get(p)||a,o===a&&n.set(null,i),n.set(p,i),this.count++,a=wo.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var es={$$typeof:fe,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function Wp(e,t,n,a,i,o,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Rh(e,t,n,a,i,o,p,b,T,G,W,te){return e=new Wp(e,t,n,p,b,T,G,te),t=1,o===!0&&(t|=24),o=pn(3,null,null,t),e.current=o,o.stateNode=e,t=nc(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:n,cache:t},rc(o),e}function Lh(e){return e?(e=Jn,e):Jn}function Uh(e,t,n,a,i,o){i=Lh(i),a.context===null?a.context=i:a.pendingContext=i,a=nl(t),a.payload={element:n},o=o===void 0?null:o,o!==null&&(a.callback=o),n=al(e,a,t),n!==null&&(bn(n,e,t),Or(n,e,t))}function Bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ju(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function qh(e){if(e.tag===13){var t=Bn(e,67108864);t!==null&&bn(t,e,67108864),ju(e,67108864)}}var So=!0;function Pp(e,t,n,a){var i=V.T;V.T=null;var o=de.p;try{de.p=2,Su(e,t,n,a)}finally{de.p=o,V.T=i}}function eg(e,t,n,a){var i=V.T;V.T=null;var o=de.p;try{de.p=8,Su(e,t,n,a)}finally{de.p=o,V.T=i}}function Su(e,t,n,a){if(So){var i=Nu(a);if(i===null)uu(e,t,a,No,n),Hh(e,a);else if(ng(i,e,t,n,a))a.stopPropagation();else if(Hh(e,a),t&4&&-1<tg.indexOf(e)){for(;i!==null;){var o=zn(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var p=ve(o.pendingLanes);if(p!==0){var b=o;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var T=1<<31-Rt(p);b.entanglements[1]|=T,p&=~T}ta(o),(We&6)===0&&(ro=wn()+500,Xr(0))}}break;case 13:b=Bn(o,2),b!==null&&bn(b,o,2),oo(),ju(o,2)}if(o=Nu(a),o===null&&uu(e,t,a,No,n),o===i)break;i=o}i!==null&&a.stopPropagation()}else uu(e,t,a,null,n)}}function Nu(e){return e=ci(e),Tu(e)}var No=null;function Tu(e){if(No=null,e=Ft(e),e!==null){var t=v(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=w(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return No=e,null}function Gh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ho()){case hs:return 2;case Jl:return 8;case Zt:case ms:return 32;case La:return 268435456;default:return 32}default:return 32}}var ku=!1,gl=null,yl=null,vl=null,ts=new Map,ns=new Map,xl=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hh(e,t){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function as(e,t,n,a,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},t!==null&&(t=zn(t),t!==null&&qh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ng(e,t,n,a,i){switch(t){case"focusin":return gl=as(gl,e,t,n,a,i),!0;case"dragenter":return yl=as(yl,e,t,n,a,i),!0;case"mouseover":return vl=as(vl,e,t,n,a,i),!0;case"pointerover":var o=i.pointerId;return ts.set(o,as(ts.get(o)||null,e,t,n,a,i)),!0;case"gotpointercapture":return o=i.pointerId,ns.set(o,as(ns.get(o)||null,e,t,n,a,i)),!0}return!1}function Kh(e){var t=Ft(e.target);if(t!==null){var n=v(t);if(n!==null){if(t=n.tag,t===13){if(t=w(n),t!==null){e.blockedOn=t,er(e.priority,function(){if(n.tag===13){var a=xn();a=Pi(a);var i=Bn(n,a);i!==null&&bn(i,n,a),ju(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function To(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Sn=a,n.target.dispatchEvent(a),Sn=null}else return t=zn(n),t!==null&&qh(t),e.blockedOn=n,!1;t.shift()}return!0}function Ih(e,t,n){To(e)&&n.delete(t)}function ag(){ku=!1,gl!==null&&To(gl)&&(gl=null),yl!==null&&To(yl)&&(yl=null),vl!==null&&To(vl)&&(vl=null),ts.forEach(Ih),ns.forEach(Ih)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,ag)))}var Ao=null;function Yh(e){Ao!==e&&(Ao=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Ao===e&&(Ao=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Tu(a||n)===null)continue;break}var o=zn(n);o!==null&&(e.splice(t,3),t-=3,Tc(o,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function ls(e){function t(T){return ko(T,e)}gl!==null&&ko(gl,e),yl!==null&&ko(yl,e),vl!==null&&ko(vl,e),ts.forEach(t),ns.forEach(t);for(var n=0;n<xl.length;n++){var a=xl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<xl.length&&(n=xl[0],n.blockedOn===null);)Kh(n),n.blockedOn===null&&xl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],o=n[a+1],p=i[Xe]||null;if(typeof o=="function")p||Yh(n);else if(p){var b=null;if(o&&o.hasAttribute("formAction")){if(i=o,p=o[Xe]||null)b=p.formAction;else if(Tu(i)!==null)continue}else b=p.action;typeof b=="function"?n[a+1]=b:(n.splice(a,3),a-=3),Yh(n)}}}function Au(e){this._internalRoot=e}Eo.prototype.render=Au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=xn();Uh(n,a,e,t,null,null)},Eo.prototype.unmount=Au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uh(e.current,2,null,e,null,null),oo(),t[Ba]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=sa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xl.length&&t!==0&&t<xl[n].priority;n++);xl.splice(n,0,e),n===0&&Kh(e)}};var Qh=f.version;if(Qh!=="19.1.1")throw Error(d(527,Qh,"19.1.1"));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=k(t),e=e!==null?K(e):null,e=e===null?null:e.stateNode,e};var lg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Mn=_o.inject(lg),zt=_o}catch{}}return rs.createRoot=function(e,t){if(!y(e))throw Error(d(299));var n=!1,a="",i=sf,o=of,p=cf,b=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=Rh(e,1,!1,null,null,n,a,i,o,p,b,null),e[Ba]=t.current,cu(e),new Au(t)},rs.hydrateRoot=function(e,t,n){if(!y(e))throw Error(d(299));var a=!1,i="",o=sf,p=of,b=cf,T=null,G=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks),n.formState!==void 0&&(G=n.formState)),t=Rh(e,1,!0,t,n??null,a,i,o,p,b,T,G),t.context=Lh(null),n=t.current,a=xn(),a=Pi(a),i=nl(a),i.callback=null,al(n,i,a),n=a,t.current.lanes=n,ra(t,n),ta(t),e[Ba]=t.current,cu(e),new Eo(t)},rs.version="19.1.1",rs}var $h;function hg(){if($h)return _u.exports;$h=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(f){console.error(f)}}return c(),_u.exports=fg(),_u.exports}var mg=hg();const pg=Yu(mg),wm=Object.freeze({left:0,top:0,width:16,height:16}),Uo=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Qu=Object.freeze({...wm,...Uo}),qu=Object.freeze({...Qu,body:"",hidden:!1});function gg(c,f){const m={};!c.hFlip!=!f.hFlip&&(m.hFlip=!0),!c.vFlip!=!f.vFlip&&(m.vFlip=!0);const d=((c.rotate||0)+(f.rotate||0))%4;return d&&(m.rotate=d),m}function Wh(c,f){const m=gg(c,f);for(const d in qu)d in Uo?d in c&&!(d in m)&&(m[d]=Uo[d]):d in f?m[d]=f[d]:d in c&&(m[d]=c[d]);return m}function yg(c,f){const m=c.icons,d=c.aliases||Object.create(null),y=Object.create(null);function v(w){if(m[w])return y[w]=[];if(!(w in y)){y[w]=null;const j=d[w]&&d[w].parent,k=j&&v(j);k&&(y[w]=[j].concat(k))}return y[w]}return Object.keys(m).concat(Object.keys(d)).forEach(v),y}function vg(c,f,m){const d=c.icons,y=c.aliases||Object.create(null);let v={};function w(j){v=Wh(d[j]||y[j],v)}return w(f),m.forEach(w),Wh(c,v)}function jm(c,f){const m=[];if(typeof c!="object"||typeof c.icons!="object")return m;c.not_found instanceof Array&&c.not_found.forEach(y=>{f(y,null),m.push(y)});const d=yg(c);for(const y in d){const v=d[y];v&&(f(y,vg(c,y,v)),m.push(y))}return m}const xg={provider:"",aliases:{},not_found:{},...wm};function Cu(c,f){for(const m in f)if(m in c&&typeof c[m]!=typeof f[m])return!1;return!0}function Sm(c){if(typeof c!="object"||c===null)return null;const f=c;if(typeof f.prefix!="string"||!c.icons||typeof c.icons!="object"||!Cu(c,xg))return null;const m=f.icons;for(const y in m){const v=m[y];if(!y||typeof v.body!="string"||!Cu(v,qu))return null}const d=f.aliases||Object.create(null);for(const y in d){const v=d[y],w=v.parent;if(!y||typeof w!="string"||!m[w]&&!d[w]||!Cu(v,qu))return null}return f}const Nm=/^[a-z0-9]+(-[a-z0-9]+)*$/,qo=(c,f,m,d="")=>{const y=c.split(":");if(c.slice(0,1)==="@"){if(y.length<2||y.length>3)return null;d=y.shift().slice(1)}if(y.length>3||!y.length)return null;if(y.length>1){const j=y.pop(),k=y.pop(),K={provider:y.length>0?y[0]:d,prefix:k,name:j};return f&&!zo(K)?null:K}const v=y[0],w=v.split("-");if(w.length>1){const j={provider:d,prefix:w.shift(),name:w.join("-")};return f&&!zo(j)?null:j}if(m&&d===""){const j={provider:d,prefix:"",name:v};return f&&!zo(j,m)?null:j}return null},zo=(c,f)=>c?!!((f&&c.prefix===""||c.prefix)&&c.name):!1,Ph=Object.create(null);function bg(c,f){return{provider:c,prefix:f,icons:Object.create(null),missing:new Set}}function $i(c,f){const m=Ph[c]||(Ph[c]=Object.create(null));return m[f]||(m[f]=bg(c,f))}function Tm(c,f){return Sm(f)?jm(f,(m,d)=>{d?c.icons[m]=d:c.missing.add(m)}):[]}function wg(c,f,m){try{if(typeof m.body=="string")return c.icons[f]={...m},!0}catch{}return!1}let ds=!1;function km(c){return typeof c=="boolean"&&(ds=c),ds}function em(c){const f=typeof c=="string"?qo(c,!0,ds):c;if(f){const m=$i(f.provider,f.prefix),d=f.name;return m.icons[d]||(m.missing.has(d)?null:void 0)}}function jg(c,f){const m=qo(c,!0,ds);if(!m)return!1;const d=$i(m.provider,m.prefix);return f?wg(d,m.name,f):(d.missing.add(m.name),!0)}function Sg(c,f){if(typeof c!="object")return!1;if(typeof f!="string"&&(f=c.provider||""),ds&&!f&&!c.prefix){let y=!1;return Sm(c)&&(c.prefix="",jm(c,(v,w)=>{jg(v,w)&&(y=!0)})),y}const m=c.prefix;if(!zo({prefix:m,name:"a"}))return!1;const d=$i(f,m);return!!Tm(d,c)}const Am=Object.freeze({width:null,height:null}),Em=Object.freeze({...Am,...Uo}),Ng=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Tg=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function tm(c,f,m){if(f===1)return c;if(m=m||100,typeof c=="number")return Math.ceil(c*f*m)/m;if(typeof c!="string")return c;const d=c.split(Ng);if(d===null||!d.length)return c;const y=[];let v=d.shift(),w=Tg.test(v);for(;;){if(w){const j=parseFloat(v);isNaN(j)?y.push(v):y.push(Math.ceil(j*f*m)/m)}else y.push(v);if(v=d.shift(),v===void 0)return y.join("");w=!w}}function kg(c,f="defs"){let m="";const d=c.indexOf("<"+f);for(;d>=0;){const y=c.indexOf(">",d),v=c.indexOf("</"+f);if(y===-1||v===-1)break;const w=c.indexOf(">",v);if(w===-1)break;m+=c.slice(y+1,v).trim(),c=c.slice(0,d).trim()+c.slice(w+1)}return{defs:m,content:c}}function Ag(c,f){return c?"<defs>"+c+"</defs>"+f:f}function Eg(c,f,m){const d=kg(c);return Ag(d.defs,f+d.content+m)}const _g=c=>c==="unset"||c==="undefined"||c==="none";function Og(c,f){const m={...Qu,...c},d={...Em,...f},y={left:m.left,top:m.top,width:m.width,height:m.height};let v=m.body;[m,d].forEach(ce=>{const pe=[],Ne=ce.hFlip,oe=ce.vFlip;let fe=ce.rotate;Ne?oe?fe+=2:(pe.push("translate("+(y.width+y.left).toString()+" "+(0-y.top).toString()+")"),pe.push("scale(-1 1)"),y.top=y.left=0):oe&&(pe.push("translate("+(0-y.left).toString()+" "+(y.height+y.top).toString()+")"),pe.push("scale(1 -1)"),y.top=y.left=0);let ie;switch(fe<0&&(fe-=Math.floor(fe/4)*4),fe=fe%4,fe){case 1:ie=y.height/2+y.top,pe.unshift("rotate(90 "+ie.toString()+" "+ie.toString()+")");break;case 2:pe.unshift("rotate(180 "+(y.width/2+y.left).toString()+" "+(y.height/2+y.top).toString()+")");break;case 3:ie=y.width/2+y.left,pe.unshift("rotate(-90 "+ie.toString()+" "+ie.toString()+")");break}fe%2===1&&(y.left!==y.top&&(ie=y.left,y.left=y.top,y.top=ie),y.width!==y.height&&(ie=y.width,y.width=y.height,y.height=ie)),pe.length&&(v=Eg(v,'<g transform="'+pe.join(" ")+'">',"</g>"))});const w=d.width,j=d.height,k=y.width,K=y.height;let B,I;w===null?(I=j===null?"1em":j==="auto"?K:j,B=tm(I,k/K)):(B=w==="auto"?k:w,I=j===null?tm(B,K/k):j==="auto"?K:j);const F={},ae=(ce,pe)=>{_g(pe)||(F[ce]=pe.toString())};ae("width",B),ae("height",I);const le=[y.left,y.top,k,K];return F.viewBox=le.join(" "),{attributes:F,viewBox:le,body:v}}const Dg=/\sid="(\S+)"/g,Cg="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Mg=0;function zg(c,f=Cg){const m=[];let d;for(;d=Dg.exec(c);)m.push(d[1]);if(!m.length)return c;const y="suffix"+(Math.random()*16777216|Date.now()).toString(16);return m.forEach(v=>{const w=typeof f=="function"?f(v):f+(Mg++).toString(),j=v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");c=c.replace(new RegExp('([#;"])('+j+')([")]|\\.[a-z])',"g"),"$1"+w+y+"$3")}),c=c.replace(new RegExp(y,"g"),""),c}const Gu=Object.create(null);function Rg(c,f){Gu[c]=f}function Hu(c){return Gu[c]||Gu[""]}function Vu(c){let f;if(typeof c.resources=="string")f=[c.resources];else if(f=c.resources,!(f instanceof Array)||!f.length)return null;return{resources:f,path:c.path||"/",maxURL:c.maxURL||500,rotate:c.rotate||750,timeout:c.timeout||5e3,random:c.random===!0,index:c.index||0,dataAfterTimeout:c.dataAfterTimeout!==!1}}const Xu=Object.create(null),ss=["https://api.simplesvg.com","https://api.unisvg.com"],Ro=[];for(;ss.length>0;)ss.length===1||Math.random()>.5?Ro.push(ss.shift()):Ro.push(ss.pop());Xu[""]=Vu({resources:["https://api.iconify.design"].concat(Ro)});function Lg(c,f){const m=Vu(f);return m===null?!1:(Xu[c]=m,!0)}function Zu(c){return Xu[c]}const Ug=()=>{let c;try{if(c=fetch,typeof c=="function")return c}catch{}};let nm=Ug();function Bg(c,f){const m=Zu(c);if(!m)return 0;let d;if(!m.maxURL)d=0;else{let y=0;m.resources.forEach(w=>{y=Math.max(y,w.length)});const v=f+".json?icons=";d=m.maxURL-y-m.path.length-v.length}return d}function qg(c){return c===404}const Gg=(c,f,m)=>{const d=[],y=Bg(c,f),v="icons";let w={type:v,provider:c,prefix:f,icons:[]},j=0;return m.forEach((k,K)=>{j+=k.length+1,j>=y&&K>0&&(d.push(w),w={type:v,provider:c,prefix:f,icons:[]},j=k.length),w.icons.push(k)}),d.push(w),d};function Hg(c){if(typeof c=="string"){const f=Zu(c);if(f)return f.path}return"/"}const Kg=(c,f,m)=>{if(!nm){m("abort",424);return}let d=Hg(f.provider);switch(f.type){case"icons":{const v=f.prefix,j=f.icons.join(","),k=new URLSearchParams({icons:j});d+=v+".json?"+k.toString();break}case"custom":{const v=f.uri;d+=v.slice(0,1)==="/"?v.slice(1):v;break}default:m("abort",400);return}let y=503;nm(c+d).then(v=>{const w=v.status;if(w!==200){setTimeout(()=>{m(qg(w)?"abort":"next",w)});return}return y=501,v.json()}).then(v=>{if(typeof v!="object"||v===null){setTimeout(()=>{v===404?m("abort",v):m("next",y)});return}setTimeout(()=>{m("success",v)})}).catch(()=>{m("next",y)})},Ig={prepare:Gg,send:Kg};function Yg(c){const f={loaded:[],missing:[],pending:[]},m=Object.create(null);c.sort((y,v)=>y.provider!==v.provider?y.provider.localeCompare(v.provider):y.prefix!==v.prefix?y.prefix.localeCompare(v.prefix):y.name.localeCompare(v.name));let d={provider:"",prefix:"",name:""};return c.forEach(y=>{if(d.name===y.name&&d.prefix===y.prefix&&d.provider===y.provider)return;d=y;const v=y.provider,w=y.prefix,j=y.name,k=m[v]||(m[v]=Object.create(null)),K=k[w]||(k[w]=$i(v,w));let B;j in K.icons?B=f.loaded:w===""||K.missing.has(j)?B=f.missing:B=f.pending;const I={provider:v,prefix:w,name:j};B.push(I)}),f}function _m(c,f){c.forEach(m=>{const d=m.loaderCallbacks;d&&(m.loaderCallbacks=d.filter(y=>y.id!==f))})}function Qg(c){c.pendingCallbacksFlag||(c.pendingCallbacksFlag=!0,setTimeout(()=>{c.pendingCallbacksFlag=!1;const f=c.loaderCallbacks?c.loaderCallbacks.slice(0):[];if(!f.length)return;let m=!1;const d=c.provider,y=c.prefix;f.forEach(v=>{const w=v.icons,j=w.pending.length;w.pending=w.pending.filter(k=>{if(k.prefix!==y)return!0;const K=k.name;if(c.icons[K])w.loaded.push({provider:d,prefix:y,name:K});else if(c.missing.has(K))w.missing.push({provider:d,prefix:y,name:K});else return m=!0,!0;return!1}),w.pending.length!==j&&(m||_m([c],v.id),v.callback(w.loaded.slice(0),w.missing.slice(0),w.pending.slice(0),v.abort))})}))}let Vg=0;function Xg(c,f,m){const d=Vg++,y=_m.bind(null,m,d);if(!f.pending.length)return y;const v={id:d,icons:f,callback:c,abort:y};return m.forEach(w=>{(w.loaderCallbacks||(w.loaderCallbacks=[])).push(v)}),y}function Zg(c,f=!0,m=!1){const d=[];return c.forEach(y=>{const v=typeof y=="string"?qo(y,f,m):y;v&&d.push(v)}),d}var Fg={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Jg(c,f,m,d){const y=c.resources.length,v=c.random?Math.floor(Math.random()*y):c.index;let w;if(c.random){let P=c.resources.slice(0);for(w=[];P.length>1;){const xe=Math.floor(Math.random()*P.length);w.push(P[xe]),P=P.slice(0,xe).concat(P.slice(xe+1))}w=w.concat(P)}else w=c.resources.slice(v).concat(c.resources.slice(0,v));const j=Date.now();let k="pending",K=0,B,I=null,F=[],ae=[];typeof d=="function"&&ae.push(d);function le(){I&&(clearTimeout(I),I=null)}function ce(){k==="pending"&&(k="aborted"),le(),F.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),F=[]}function pe(P,xe){xe&&(ae=[]),typeof P=="function"&&ae.push(P)}function Ne(){return{startTime:j,payload:f,status:k,queriesSent:K,queriesPending:F.length,subscribe:pe,abort:ce}}function oe(){k="failed",ae.forEach(P=>{P(void 0,B)})}function fe(){F.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),F=[]}function ie(P,xe,Le){const $e=xe!=="success";switch(F=F.filter(dt=>dt!==P),k){case"pending":break;case"failed":if($e||!c.dataAfterTimeout)return;break;default:return}if(xe==="abort"){B=Le,oe();return}if($e){B=Le,F.length||(w.length?ke():oe());return}if(le(),fe(),!c.random){const dt=c.resources.indexOf(P.resource);dt!==-1&&dt!==c.index&&(c.index=dt)}k="completed",ae.forEach(dt=>{dt(Le)})}function ke(){if(k!=="pending")return;le();const P=w.shift();if(P===void 0){if(F.length){I=setTimeout(()=>{le(),k==="pending"&&(fe(),oe())},c.timeout);return}oe();return}const xe={status:"pending",resource:P,callback:(Le,$e)=>{ie(xe,Le,$e)}};F.push(xe),K++,I=setTimeout(ke,c.rotate),m(P,f,xe.callback)}return setTimeout(ke),Ne}function Om(c){const f={...Fg,...c};let m=[];function d(){m=m.filter(j=>j().status==="pending")}function y(j,k,K){const B=Jg(f,j,k,(I,F)=>{d(),K&&K(I,F)});return m.push(B),B}function v(j){return m.find(k=>j(k))||null}return{query:y,find:v,setIndex:j=>{f.index=j},getIndex:()=>f.index,cleanup:d}}function am(){}const Mu=Object.create(null);function $g(c){if(!Mu[c]){const f=Zu(c);if(!f)return;const m=Om(f),d={config:f,redundancy:m};Mu[c]=d}return Mu[c]}function Wg(c,f,m){let d,y;if(typeof c=="string"){const v=Hu(c);if(!v)return m(void 0,424),am;y=v.send;const w=$g(c);w&&(d=w.redundancy)}else{const v=Vu(c);if(v){d=Om(v);const w=c.resources?c.resources[0]:"",j=Hu(w);j&&(y=j.send)}}return!d||!y?(m(void 0,424),am):d.query(f,y,m)().abort}function lm(){}function Pg(c){c.iconsLoaderFlag||(c.iconsLoaderFlag=!0,setTimeout(()=>{c.iconsLoaderFlag=!1,Qg(c)}))}function e0(c){const f=[],m=[];return c.forEach(d=>{(d.match(Nm)?f:m).push(d)}),{valid:f,invalid:m}}function os(c,f,m){function d(){const y=c.pendingIcons;f.forEach(v=>{y&&y.delete(v),c.icons[v]||c.missing.add(v)})}if(m&&typeof m=="object")try{if(!Tm(c,m).length){d();return}}catch(y){console.error(y)}d(),Pg(c)}function im(c,f){c instanceof Promise?c.then(m=>{f(m)}).catch(()=>{f(null)}):f(c)}function t0(c,f){c.iconsToLoad?c.iconsToLoad=c.iconsToLoad.concat(f).sort():c.iconsToLoad=f,c.iconsQueueFlag||(c.iconsQueueFlag=!0,setTimeout(()=>{c.iconsQueueFlag=!1;const{provider:m,prefix:d}=c,y=c.iconsToLoad;if(delete c.iconsToLoad,!y||!y.length)return;const v=c.loadIcon;if(c.loadIcons&&(y.length>1||!v)){im(c.loadIcons(y,d,m),B=>{os(c,y,B)});return}if(v){y.forEach(B=>{const I=v(B,d,m);im(I,F=>{const ae=F?{prefix:d,icons:{[B]:F}}:null;os(c,[B],ae)})});return}const{valid:w,invalid:j}=e0(y);if(j.length&&os(c,j,null),!w.length)return;const k=d.match(Nm)?Hu(m):null;if(!k){os(c,w,null);return}k.prepare(m,d,w).forEach(B=>{Wg(m,B,I=>{os(c,B.icons,I)})})}))}const n0=(c,f)=>{const m=Zg(c,!0,km()),d=Yg(m);if(!d.pending.length){let k=!0;return f&&setTimeout(()=>{k&&f(d.loaded,d.missing,d.pending,lm)}),()=>{k=!1}}const y=Object.create(null),v=[];let w,j;return d.pending.forEach(k=>{const{provider:K,prefix:B}=k;if(B===j&&K===w)return;w=K,j=B,v.push($i(K,B));const I=y[K]||(y[K]=Object.create(null));I[B]||(I[B]=[])}),d.pending.forEach(k=>{const{provider:K,prefix:B,name:I}=k,F=$i(K,B),ae=F.pendingIcons||(F.pendingIcons=new Set);ae.has(I)||(ae.add(I),y[K][B].push(I))}),v.forEach(k=>{const K=y[k.provider][k.prefix];K.length&&t0(k,K)}),f?Xg(f,d,v):lm};function a0(c,f){const m={...c};for(const d in f){const y=f[d],v=typeof y;d in Am?(y===null||y&&(v==="string"||v==="number"))&&(m[d]=y):v===typeof m[d]&&(m[d]=d==="rotate"?y%4:y)}return m}const l0=/[\s,]+/;function i0(c,f){f.split(l0).forEach(m=>{switch(m.trim()){case"horizontal":c.hFlip=!0;break;case"vertical":c.vFlip=!0;break}})}function r0(c,f=0){const m=c.replace(/^-?[0-9.]*/,"");function d(y){for(;y<0;)y+=4;return y%4}if(m===""){const y=parseInt(c);return isNaN(y)?0:d(y)}else if(m!==c){let y=0;switch(m){case"%":y=25;break;case"deg":y=90}if(y){let v=parseFloat(c.slice(0,c.length-m.length));return isNaN(v)?0:(v=v/y,v%1===0?d(v):0)}}return f}function s0(c,f){let m=c.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const d in f)m+=" "+d+'="'+f[d]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+m+">"+c+"</svg>"}function o0(c){return c.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function c0(c){return"data:image/svg+xml,"+o0(c)}function u0(c){return'url("'+c0(c)+'")'}let us;function d0(){try{us=window.trustedTypes.createPolicy("iconify",{createHTML:c=>c})}catch{us=null}}function f0(c){return us===void 0&&d0(),us?us.createHTML(c):c}const Dm={...Em,inline:!1},h0={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},m0={display:"inline-block"},Ku={backgroundColor:"currentColor"},Cm={backgroundColor:"transparent"},rm={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},sm={WebkitMask:Ku,mask:Ku,background:Cm};for(const c in sm){const f=sm[c];for(const m in rm)f[c+m]=rm[m]}const p0={...Dm,inline:!0};function om(c){return c+(c.match(/^[-0-9.]+$/)?"px":"")}const g0=(c,f,m)=>{const d=f.inline?p0:Dm,y=a0(d,f),v=f.mode||"svg",w={},j=f.style||{},k={...v==="svg"?h0:{}};if(m){const pe=qo(m,!1,!0);if(pe){const Ne=["iconify"],oe=["provider","prefix"];for(const fe of oe)pe[fe]&&Ne.push("iconify--"+pe[fe]);k.className=Ne.join(" ")}}for(let pe in f){const Ne=f[pe];if(Ne!==void 0)switch(pe){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":k.ref=Ne;break;case"className":k[pe]=(k[pe]?k[pe]+" ":"")+Ne;break;case"inline":case"hFlip":case"vFlip":y[pe]=Ne===!0||Ne==="true"||Ne===1;break;case"flip":typeof Ne=="string"&&i0(y,Ne);break;case"color":w.color=Ne;break;case"rotate":typeof Ne=="string"?y[pe]=r0(Ne):typeof Ne=="number"&&(y[pe]=Ne);break;case"ariaHidden":case"aria-hidden":Ne!==!0&&Ne!=="true"&&delete k["aria-hidden"];break;default:d[pe]===void 0&&(k[pe]=Ne)}}const K=Og(c,y),B=K.attributes;if(y.inline&&(w.verticalAlign="-0.125em"),v==="svg"){k.style={...w,...j},Object.assign(k,B);let pe=0,Ne=f.id;return typeof Ne=="string"&&(Ne=Ne.replace(/-/g,"_")),k.dangerouslySetInnerHTML={__html:f0(zg(K.body,Ne?()=>Ne+"ID"+pe++:"iconifyReact"))},J.createElement("svg",k)}const{body:I,width:F,height:ae}=c,le=v==="mask"||(v==="bg"?!1:I.indexOf("currentColor")!==-1),ce=s0(I,{...B,width:F+"",height:ae+""});return k.style={...w,"--svg":u0(ce),width:om(B.width),height:om(B.height),...m0,...le?Ku:Cm,...j},J.createElement("span",k)};km(!0);Rg("",Ig);if(typeof document<"u"&&typeof window<"u"){const c=window;if(c.IconifyPreload!==void 0){const f=c.IconifyPreload,m="Invalid IconifyPreload syntax.";typeof f=="object"&&f!==null&&(f instanceof Array?f:[f]).forEach(d=>{try{(typeof d!="object"||d===null||d instanceof Array||typeof d.icons!="object"||typeof d.prefix!="string"||!Sg(d))&&console.error(m)}catch{console.error(m)}})}if(c.IconifyProviders!==void 0){const f=c.IconifyProviders;if(typeof f=="object"&&f!==null)for(let m in f){const d="IconifyProviders["+m+"] is invalid.";try{const y=f[m];if(typeof y!="object"||!y||y.resources===void 0)continue;Lg(m,y)||console.error(d)}catch{console.error(d)}}}}function Mm(c){const[f,m]=J.useState(!!c.ssr),[d,y]=J.useState({});function v(ae){if(ae){const le=c.icon;if(typeof le=="object")return{name:"",data:le};const ce=em(le);if(ce)return{name:le,data:ce}}return{name:""}}const[w,j]=J.useState(v(!!c.ssr));function k(){const ae=d.callback;ae&&(ae(),y({}))}function K(ae){if(JSON.stringify(w)!==JSON.stringify(ae))return k(),j(ae),!0}function B(){var ae;const le=c.icon;if(typeof le=="object"){K({name:"",data:le});return}const ce=em(le);if(K({name:le,data:ce}))if(ce===void 0){const pe=n0([le],B);y({callback:pe})}else ce&&((ae=c.onLoad)===null||ae===void 0||ae.call(c,le))}J.useEffect(()=>(m(!0),k),[]),J.useEffect(()=>{f&&B()},[c.icon,f]);const{name:I,data:F}=w;return F?g0({...Qu,...F},c,I):c.children?c.children:c.fallback?c.fallback:J.createElement("span",{})}const Et=J.forwardRef((c,f)=>Mm({...c,_ref:f}));J.forwardRef((c,f)=>Mm({inline:!0,...c,_ref:f}));var Lo={exports:{}},y0=Lo.exports,cm;function v0(){return cm||(cm=1,(function(c,f){(function(m,d){c.exports=d()})(y0,function(){var m=function(l,s){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u[g]=h[g])})(l,s)},d=function(){return(d=Object.assign||function(l){for(var s,u=1,h=arguments.length;u<h;u++)for(var g in s=arguments[u])Object.prototype.hasOwnProperty.call(s,g)&&(l[g]=s[g]);return l}).apply(this,arguments)};function y(l,s,u){for(var h,g=0,x=s.length;g<x;g++)!h&&g in s||((h=h||Array.prototype.slice.call(s,0,g))[g]=s[g]);return l.concat(h||Array.prototype.slice.call(s))}var v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:sg,w=Object.keys,j=Array.isArray;function k(l,s){return typeof s!="object"||w(s).forEach(function(u){l[u]=s[u]}),l}typeof Promise>"u"||v.Promise||(v.Promise=Promise);var K=Object.getPrototypeOf,B={}.hasOwnProperty;function I(l,s){return B.call(l,s)}function F(l,s){typeof s=="function"&&(s=s(K(l))),(typeof Reflect>"u"?w:Reflect.ownKeys)(s).forEach(function(u){le(l,u,s[u])})}var ae=Object.defineProperty;function le(l,s,u,h){ae(l,s,k(u&&I(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},h))}function ce(l){return{from:function(s){return l.prototype=Object.create(s.prototype),le(l.prototype,"constructor",l),{extend:F.bind(null,l.prototype)}}}}var pe=Object.getOwnPropertyDescriptor,Ne=[].slice;function oe(l,s,u){return Ne.call(l,s,u)}function fe(l,s){return s(l)}function ie(l){if(!l)throw new Error("Assertion Failed")}function ke(l){v.setImmediate?setImmediate(l):setTimeout(l,0)}function P(l,s){if(typeof s=="string"&&I(l,s))return l[s];if(!s)return l;if(typeof s!="string"){for(var u=[],h=0,g=s.length;h<g;++h){var x=P(l,s[h]);u.push(x)}return u}var S=s.indexOf(".");if(S!==-1){var N=l[s.substr(0,S)];return N==null?void 0:P(N,s.substr(S+1))}}function xe(l,s,u){if(l&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof s!="string"&&"length"in s){ie(typeof u!="string"&&"length"in u);for(var h=0,g=s.length;h<g;++h)xe(l,s[h],u[h])}else{var x,S,N=s.indexOf(".");N!==-1?(x=s.substr(0,N),(S=s.substr(N+1))===""?u===void 0?j(l)&&!isNaN(parseInt(x))?l.splice(x,1):delete l[x]:l[x]=u:xe(N=!(N=l[x])||!I(l,x)?l[x]={}:N,S,u)):u===void 0?j(l)&&!isNaN(parseInt(s))?l.splice(s,1):delete l[s]:l[s]=u}}function Le(l){var s,u={};for(s in l)I(l,s)&&(u[s]=l[s]);return u}var $e=[].concat;function dt(l){return $e.apply([],l)}var Kt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(dt([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(s){return s+l+"Array"})}))).filter(function(l){return v[l]}),cn=new Set(Kt.map(function(l){return v[l]})),rt=null;function nn(l){return rt=new WeakMap,l=(function s(u){if(!u||typeof u!="object")return u;var h=rt.get(u);if(h)return h;if(j(u)){h=[],rt.set(u,h);for(var g=0,x=u.length;g<x;++g)h.push(s(u[g]))}else if(cn.has(u.constructor))h=u;else{var S,N=K(u);for(S in h=N===Object.prototype?{}:Object.create(N),rt.set(u,h),u)I(u,S)&&(h[S]=s(u[S]))}return h})(l),rt=null,l}var Hn={}.toString;function Ht(l){return Hn.call(l).slice(8,-1)}var V=typeof Symbol<"u"?Symbol.iterator:"@@iterator",de=typeof V=="symbol"?function(l){var s;return l!=null&&(s=l[V])&&s.apply(l)}:function(){return null};function be(l,s){return s=l.indexOf(s),0<=s&&l.splice(s,1),0<=s}var Ue={};function De(l){var s,u,h,g;if(arguments.length===1){if(j(l))return l.slice();if(this===Ue&&typeof l=="string")return[l];if(g=de(l)){for(u=[];!(h=g.next()).done;)u.push(h.value);return u}if(l==null)return[l];if(typeof(s=l.length)!="number")return[l];for(u=new Array(s);s--;)u[s]=l[s];return u}for(s=arguments.length,u=new Array(s);s--;)u[s]=arguments[s];return u}var Tt=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},wl=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Pt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(wl),ot={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ye(l,s){this.name=l,this.message=s}function gt(l,s){return l+". Errors: "+Object.keys(s).map(function(u){return s[u].toString()}).filter(function(u,h,g){return g.indexOf(u)===h}).join(`
`)}function Vt(l,s,u,h){this.failures=s,this.failedKeys=h,this.successCount=u,this.message=gt(l,s)}function Xt(l,s){this.name="BulkError",this.failures=Object.keys(s).map(function(u){return s[u]}),this.failuresByPos=s,this.message=gt(l,this.failures)}ce(Ye).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ce(Vt).from(Ye),ce(Xt).from(Ye);var Ra=Pt.reduce(function(l,s){return l[s]=s+"Error",l},{}),Zl=Ye,je=Pt.reduce(function(l,s){var u=s+"Error";function h(g,x){this.name=u,g?typeof g=="string"?(this.message="".concat(g).concat(x?`
 `+x:""),this.inner=x||null):typeof g=="object"&&(this.message="".concat(g.name," ").concat(g.message),this.inner=g):(this.message=ot[s]||u,this.inner=null)}return ce(h).from(Zl),l[s]=h,l},{});je.Syntax=SyntaxError,je.Type=TypeError,je.Range=RangeError;var Fl=wl.reduce(function(l,s){return l[s+"Error"]=je[s],l},{}),na=Pt.reduce(function(l,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(l[s+"Error"]=je[s]),l},{});function Ze(){}function aa(l){return l}function Wi(l,s){return l==null||l===aa?s:function(u){return s(l(u))}}function la(l,s){return function(){l.apply(this,arguments),s.apply(this,arguments)}}function Go(l,s){return l===Ze?s:function(){var u=l.apply(this,arguments);u!==void 0&&(arguments[0]=u);var h=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var x=s.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?la(h,this.onsuccess):h),g&&(this.onerror=this.onerror?la(g,this.onerror):g),x!==void 0?x:u}}function wn(l,s){return l===Ze?s:function(){l.apply(this,arguments);var u=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?la(u,this.onsuccess):u),h&&(this.onerror=this.onerror?la(h,this.onerror):h)}}function Ho(l,s){return l===Ze?s:function(u){var h=l.apply(this,arguments);k(u,h);var g=this.onsuccess,x=this.onerror;return this.onsuccess=null,this.onerror=null,u=s.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?la(g,this.onsuccess):g),x&&(this.onerror=this.onerror?la(x,this.onerror):x),h===void 0?u===void 0?void 0:u:k(h,u)}}function hs(l,s){return l===Ze?s:function(){return s.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function Jl(l,s){return l===Ze?s:function(){var u=l.apply(this,arguments);if(u&&typeof u.then=="function"){for(var h=this,g=arguments.length,x=new Array(g);g--;)x[g]=arguments[g];return u.then(function(){return s.apply(h,x)})}return s.apply(this,arguments)}}na.ModifyError=Vt,na.DexieError=Ye,na.BulkError=Xt;var Zt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ms(l){Zt=l}var La={},ps=100,Kt=typeof Promise>"u"?[]:(function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,K(l),l];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,K(s),l]})(),wl=Kt[0],Pt=Kt[1],Kt=Kt[2],Pt=Pt&&Pt.then,Mn=wl&&wl.constructor,zt=!!Kt,an=function(l,s){Kn.push([l,s]),$l&&(queueMicrotask(Pi),$l=!1)},Rt=!0,$l=!0,ia=[],Wl=[],Ua=aa,un={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ze,pgp:!1,env:{},finalize:Ze},ve=un,Kn=[],dn=0,Pl=[];function ge(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=ve;if(typeof l!="function"){if(l!==La)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ra(this,this._value))}this._state=null,this._value=null,++s.ref,(function u(h,g){try{g(function(x){if(h._state===null){if(x===h)throw new TypeError("A promise cannot be resolved with itself.");var S=h._lib&&In();x&&typeof x.then=="function"?u(h,function(N,D){x instanceof ge?x._then(N,D):x.then(N,D)}):(h._state=!0,h._value=x,gs(h)),S&&sa()}},ra.bind(null,h))}catch(x){ra(h,x)}})(this,l)}var ei={get:function(){var l=ve,s=li;function u(h,g){var x=this,S=!l.global&&(l!==ve||s!==li),N=S&&!Ft(),D=new ge(function(E,R){ni(x,new ti(tr(h,l,S,N),tr(g,l,S,N),E,R,l))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return u.prototype=La,u},set:function(l){le(this,"then",l&&l.prototype===La?ei:{get:function(){return l},set:ei.set})}};function ti(l,s,u,h,g){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof s=="function"?s:null,this.resolve=u,this.reject=h,this.psd=g}function ra(l,s){var u,h;Wl.push(s),l._state===null&&(u=l._lib&&In(),s=Ua(s),l._state=!1,l._value=s,h=l,ia.some(function(g){return g._value===h._value})||ia.push(h),gs(l),u&&sa())}function gs(l){var s=l._listeners;l._listeners=[];for(var u=0,h=s.length;u<h;++u)ni(l,s[u]);var g=l._PSD;--g.ref||g.finalize(),dn===0&&(++dn,an(function(){--dn==0&&er()},[]))}function ni(l,s){if(l._state!==null){var u=l._state?s.onFulfilled:s.onRejected;if(u===null)return(l._state?s.resolve:s.reject)(l._value);++s.psd.ref,++dn,an(ys,[u,l,s])}else l._listeners.push(s)}function ys(l,s,u){try{var h,g=s._value;!s._state&&Wl.length&&(Wl=[]),h=Zt&&s._consoleTask?s._consoleTask.run(function(){return l(g)}):l(g),s._state||Wl.indexOf(g)!==-1||(function(x){for(var S=ia.length;S;)if(ia[--S]._value===x._value)return ia.splice(S,1)})(s),u.resolve(h)}catch(x){u.reject(x)}finally{--dn==0&&er(),--u.psd.ref||u.psd.finalize()}}function Pi(){Qn(un,function(){In()&&sa()})}function In(){var l=Rt;return $l=Rt=!1,l}function sa(){var l,s,u;do for(;0<Kn.length;)for(l=Kn,Kn=[],u=l.length,s=0;s<u;++s){var h=l[s];h[0].apply(null,h[1])}while(0<Kn.length);$l=Rt=!0}function er(){var l=ia;ia=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var s=Pl.slice(0),u=s.length;u;)s[--u]()}function fn(l){return new ge(La,!1,l)}function Re(l,s){var u=ve;return function(){var h=In(),g=ve;try{return Jt(u,!0),l.apply(this,arguments)}catch(x){s&&s(x)}finally{Jt(g,!1),h&&sa()}}}F(ge.prototype,{then:ei,_then:function(l,s){ni(this,new ti(null,null,l,s,ve))},catch:function(l){if(arguments.length===1)return this.then(null,l);var s=l,u=arguments[1];return typeof s=="function"?this.then(null,function(h){return(h instanceof s?u:fn)(h)}):this.then(null,function(h){return(h&&h.name===s?u:fn)(h)})},finally:function(l){return this.then(function(s){return ge.resolve(l()).then(function(){return s})},function(s){return ge.resolve(l()).then(function(){return fn(s)})})},timeout:function(l,s){var u=this;return l<1/0?new ge(function(h,g){var x=setTimeout(function(){return g(new je.Timeout(s))},l);u.then(h,g).finally(clearTimeout.bind(null,x))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&le(ge.prototype,Symbol.toStringTag,"Dexie.Promise"),un.env=yt(),F(ge,{all:function(){var l=De.apply(null,arguments).map(zn);return new ge(function(s,u){l.length===0&&s([]);var h=l.length;l.forEach(function(g,x){return ge.resolve(g).then(function(S){l[x]=S,--h||s(l)},u)})})},resolve:function(l){return l instanceof ge?l:l&&typeof l.then=="function"?new ge(function(s,u){l.then(s,u)}):new ge(La,!0,l)},reject:fn,race:function(){var l=De.apply(null,arguments).map(zn);return new ge(function(s,u){l.map(function(h){return ge.resolve(h).then(s,u)})})},PSD:{get:function(){return ve},set:function(l){return ve=l}},totalEchoes:{get:function(){return li}},newPSD:ln,usePSD:Qn,scheduler:{get:function(){return an},set:function(l){an=l}},rejectionMapper:{get:function(){return Ua},set:function(l){Ua=l}},follow:function(l,s){return new ge(function(u,h){return ln(function(g,x){var S=ve;S.unhandleds=[],S.onunhandled=x,S.finalize=la(function(){var N,D=this;N=function(){D.unhandleds.length===0?g():x(D.unhandleds[0])},Pl.push(function E(){N(),Pl.splice(Pl.indexOf(E),1)}),++dn,an(function(){--dn==0&&er()},[])},S.finalize),l()},s,u,h)})}}),Mn&&(Mn.allSettled&&le(ge,"allSettled",function(){var l=De.apply(null,arguments).map(zn);return new ge(function(s){l.length===0&&s([]);var u=l.length,h=new Array(u);l.forEach(function(g,x){return ge.resolve(g).then(function(S){return h[x]={status:"fulfilled",value:S}},function(S){return h[x]={status:"rejected",reason:S}}).then(function(){return--u||s(h)})})})}),Mn.any&&typeof AggregateError<"u"&&le(ge,"any",function(){var l=De.apply(null,arguments).map(zn);return new ge(function(s,u){l.length===0&&u(new AggregateError([]));var h=l.length,g=new Array(h);l.forEach(function(x,S){return ge.resolve(x).then(function(N){return s(N)},function(N){g[S]=N,--h||u(new AggregateError(g))})})})}));var Xe={awaits:0,echoes:0,id:0},Ba=0,qa=[],ai=0,li=0,vs=0;function ln(l,s,u,h){var g=ve,x=Object.create(g);return x.parent=g,x.ref=0,x.global=!1,x.id=++vs,un.env,x.env=zt?{Promise:ge,PromiseProp:{value:ge,configurable:!0,writable:!0},all:ge.all,race:ge.race,allSettled:ge.allSettled,any:ge.any,resolve:ge.resolve,reject:ge.reject}:{},s&&k(x,s),++g.ref,x.finalize=function(){--this.parent.ref||this.parent.finalize()},h=Qn(x,l,u,h),x.ref===0&&x.finalize(),h}function Yn(){return Xe.id||(Xe.id=++Ba),++Xe.awaits,Xe.echoes+=ps,Xe.id}function Ft(){return!!Xe.awaits&&(--Xe.awaits==0&&(Xe.id=0),Xe.echoes=Xe.awaits*ps,!0)}function zn(l){return Xe.echoes&&l&&l.constructor===Mn?(Yn(),l.then(function(s){return Ft(),s},function(s){return Ft(),et(s)})):l}function jl(){var l=qa[qa.length-1];qa.pop(),Jt(l,!1)}function Jt(l,s){var u,h=ve;(s?!Xe.echoes||ai++&&l===ve:!ai||--ai&&l===ve)||queueMicrotask(s?(function(g){++li,Xe.echoes&&--Xe.echoes!=0||(Xe.echoes=Xe.awaits=Xe.id=0),qa.push(ve),Jt(g,!0)}).bind(null,l):jl),l!==ve&&(ve=l,h===un&&(un.env=yt()),zt&&(u=un.env.Promise,s=l.env,(h.global||l.global)&&(Object.defineProperty(v,"Promise",s.PromiseProp),u.all=s.all,u.race=s.race,u.resolve=s.resolve,u.reject=s.reject,s.allSettled&&(u.allSettled=s.allSettled),s.any&&(u.any=s.any))))}function yt(){var l=v.Promise;return zt?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Qn(l,s,u,h,g){var x=ve;try{return Jt(l,!0),s(u,h,g)}finally{Jt(x,!1)}}function tr(l,s,u,h){return typeof l!="function"?l:function(){var g=ve;u&&Yn(),Jt(s,!0);try{return l.apply(this,arguments)}finally{Jt(g,!1),h&&queueMicrotask(Ft)}}}function Rn(l){Promise===Mn&&Xe.echoes===0?ai===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Pt).indexOf("[native code]")===-1&&(Yn=Ft=Ze);var et=ge.reject,oa="￿",jn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",nr="String expected.",Ga=[],ca="__dbnames",Ha="readonly",hn="readwrite";function Ln(l,s){return l?s?function(){return l.apply(this,arguments)&&s.apply(this,arguments)}:l:s}var ar={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Un(l){return typeof l!="string"||/\./.test(l)?function(s){return s}:function(s){return s[l]===void 0&&l in s&&delete(s=nn(s))[l],s}}function ii(){throw je.Type()}function Ge(l,s){try{var u=xs(l),h=xs(s);if(u!==h)return u==="Array"?1:h==="Array"?-1:u==="binary"?1:h==="binary"?-1:u==="string"?1:h==="string"?-1:u==="Date"?1:h!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return s<l?1:l<s?-1:0;case"binary":return(function(g,x){for(var S=g.length,N=x.length,D=S<N?S:N,E=0;E<D;++E)if(g[E]!==x[E])return g[E]<x[E]?-1:1;return S===N?0:S<N?-1:1})(lr(l),lr(s));case"Array":return(function(g,x){for(var S=g.length,N=x.length,D=S<N?S:N,E=0;E<D;++E){var R=Ge(g[E],x[E]);if(R!==0)return R}return S===N?0:S<N?-1:1})(l,s)}}catch{}return NaN}function xs(l){var s=typeof l;return s!="object"?s:ArrayBuffer.isView(l)?"binary":(l=Ht(l),l==="ArrayBuffer"?"binary":l)}function lr(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}var $t=(tt.prototype._trans=function(l,s,u){var h=this._tx||ve.trans,g=this.name,x=Zt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function S(E,R,A){if(!A.schema[g])throw new je.NotFound("Table "+g+" not part of transaction");return s(A.idbtrans,A)}var N=In();try{var D=h&&h.db._novip===this.db._novip?h===ve.trans?h._promise(l,S,u):ln(function(){return h._promise(l,S,u)},{trans:h,transless:ve.transless||ve}):(function E(R,A,z,_){if(R.idbdb&&(R._state.openComplete||ve.letThrough||R._vip)){var M=R._createTransaction(A,z,R._dbSchema);try{M.create(),R._state.PR1398_maxLoop=3}catch(U){return U.name===Ra.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return E(R,A,z,_)})):et(U)}return M._promise(A,function(U,C){return ln(function(){return ve.trans=M,_(U,C,M)})}).then(function(U){if(A==="readwrite")try{M.idbtrans.commit()}catch{}return A==="readonly"?U:M._completion.then(function(){return U})})}if(R._state.openComplete)return et(new je.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return et(new je.DatabaseClosed);R.open().catch(Ze)}return R._state.dbReadyPromise.then(function(){return E(R,A,z,_)})})(this.db,l,[this.name],S);return x&&(D._consoleTask=x,D=D.catch(function(E){return console.trace(E),et(E)})),D}finally{N&&sa()}},tt.prototype.get=function(l,s){var u=this;return l&&l.constructor===Object?this.where(l).first(s):l==null?et(new je.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return u.core.get({trans:h,key:l}).then(function(g){return u.hook.reading.fire(g)})}).then(s)},tt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(j(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var s=w(l);if(s.length===1)return this.where(s[0]).equals(l[s[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(D){if(D.compound&&s.every(function(R){return 0<=D.keyPath.indexOf(R)})){for(var E=0;E<s.length;++E)if(s.indexOf(D.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(D,E){return D.keyPath.length-E.keyPath.length})[0];if(u&&this.db._maxKey!==oa){var S=u.keyPath.slice(0,s.length);return this.where(S).equals(S.map(function(E){return l[E]}))}!u&&Zt&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName,g=this.db._deps.indexedDB;function x(D,E){return g.cmp(D,E)===0}var N=s.reduce(function(z,E){var R=z[0],A=z[1],z=h[E],_=l[E];return[R||z,R||!z?Ln(A,z&&z.multi?function(M){return M=P(M,E),j(M)&&M.some(function(U){return x(_,U)})}:function(M){return x(_,P(M,E))}):A]},[null,null]),S=N[0],N=N[1];return S?this.where(S.name).equals(l[S.keyPath]).filter(N):u?this.filter(N):this.where(s).equals("")},tt.prototype.filter=function(l){return this.toCollection().and(l)},tt.prototype.count=function(l){return this.toCollection().count(l)},tt.prototype.offset=function(l){return this.toCollection().offset(l)},tt.prototype.limit=function(l){return this.toCollection().limit(l)},tt.prototype.each=function(l){return this.toCollection().each(l)},tt.prototype.toArray=function(l){return this.toCollection().toArray(l)},tt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},tt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,j(l)?"[".concat(l.join("+"),"]"):l))},tt.prototype.reverse=function(){return this.toCollection().reverse()},tt.prototype.mapToClass=function(l){var s,u=this.db,h=this.name;function g(){return s!==null&&s.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof ii&&((function(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function R(){this.constructor=D}m(D,E),D.prototype=E===null?Object.create(E):(R.prototype=E.prototype,new R)})(g,s=l),Object.defineProperty(g.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),g.prototype.table=function(){return h},l=g);for(var x=new Set,S=l.prototype;S;S=K(S))Object.getOwnPropertyNames(S).forEach(function(D){return x.add(D)});function N(D){if(!D)return D;var E,R=Object.create(l.prototype);for(E in D)if(!x.has(E))try{R[E]=D[E]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),l},tt.prototype.defineClass=function(){return this.mapToClass(function(l){k(this,l)})},tt.prototype.add=function(l,s){var u=this,h=this.schema.primKey,g=h.auto,x=h.keyPath,S=l;return x&&g&&(S=Un(x)(l)),this._trans("readwrite",function(N){return u.core.mutate({trans:N,type:"add",keys:s!=null?[s]:null,values:[S]})}).then(function(N){return N.numFailures?ge.reject(N.failures[0]):N.lastResult}).then(function(N){if(x)try{xe(l,x,N)}catch{}return N})},tt.prototype.update=function(l,s){return typeof l!="object"||j(l)?this.where(":id").equals(l).modify(s):(l=P(l,this.schema.primKey.keyPath),l===void 0?et(new je.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(s))},tt.prototype.put=function(l,s){var u=this,h=this.schema.primKey,g=h.auto,x=h.keyPath,S=l;return x&&g&&(S=Un(x)(l)),this._trans("readwrite",function(N){return u.core.mutate({trans:N,type:"put",values:[S],keys:s!=null?[s]:null})}).then(function(N){return N.numFailures?ge.reject(N.failures[0]):N.lastResult}).then(function(N){if(x)try{xe(l,x,N)}catch{}return N})},tt.prototype.delete=function(l){var s=this;return this._trans("readwrite",function(u){return s.core.mutate({trans:u,type:"delete",keys:[l]})}).then(function(u){return u.numFailures?ge.reject(u.failures[0]):void 0})},tt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(s){return l.core.mutate({trans:s,type:"deleteRange",range:ar})}).then(function(s){return s.numFailures?ge.reject(s.failures[0]):void 0})},tt.prototype.bulkGet=function(l){var s=this;return this._trans("readonly",function(u){return s.core.getMany({keys:l,trans:u}).then(function(h){return h.map(function(g){return s.hook.reading.fire(g)})})})},tt.prototype.bulkAdd=function(l,s,u){var h=this,g=Array.isArray(s)?s:void 0,x=(u=u||(g?void 0:s))?u.allKeys:void 0;return this._trans("readwrite",function(S){var E=h.schema.primKey,N=E.auto,E=E.keyPath;if(E&&g)throw new je.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(g&&g.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,E=E&&N?l.map(Un(E)):l;return h.core.mutate({trans:S,type:"add",keys:g,values:E,wantResults:x}).then(function(M){var A=M.numFailures,z=M.results,_=M.lastResult,M=M.failures;if(A===0)return x?z:_;throw new Xt("".concat(h.name,".bulkAdd(): ").concat(A," of ").concat(D," operations failed"),M)})})},tt.prototype.bulkPut=function(l,s,u){var h=this,g=Array.isArray(s)?s:void 0,x=(u=u||(g?void 0:s))?u.allKeys:void 0;return this._trans("readwrite",function(S){var E=h.schema.primKey,N=E.auto,E=E.keyPath;if(E&&g)throw new je.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(g&&g.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,E=E&&N?l.map(Un(E)):l;return h.core.mutate({trans:S,type:"put",keys:g,values:E,wantResults:x}).then(function(M){var A=M.numFailures,z=M.results,_=M.lastResult,M=M.failures;if(A===0)return x?z:_;throw new Xt("".concat(h.name,".bulkPut(): ").concat(A," of ").concat(D," operations failed"),M)})})},tt.prototype.bulkUpdate=function(l){var s=this,u=this.core,h=l.map(function(S){return S.key}),g=l.map(function(S){return S.changes}),x=[];return this._trans("readwrite",function(S){return u.getMany({trans:S,keys:h,cache:"clone"}).then(function(N){var D=[],E=[];l.forEach(function(A,z){var _=A.key,M=A.changes,U=N[z];if(U){for(var C=0,H=Object.keys(M);C<H.length;C++){var X=H[C],Z=M[X];if(X===s.schema.primKey.keyPath){if(Ge(Z,_)!==0)throw new je.Constraint("Cannot update primary key in bulkUpdate()")}else xe(U,X,Z)}x.push(z),D.push(_),E.push(U)}});var R=D.length;return u.mutate({trans:S,type:"put",keys:D,values:E,updates:{keys:h,changeSpecs:g}}).then(function(A){var z=A.numFailures,_=A.failures;if(z===0)return R;for(var M=0,U=Object.keys(_);M<U.length;M++){var C,H=U[M],X=x[Number(H)];X!=null&&(C=_[H],delete _[H],_[X]=C)}throw new Xt("".concat(s.name,".bulkUpdate(): ").concat(z," of ").concat(R," operations failed"),_)})})})},tt.prototype.bulkDelete=function(l){var s=this,u=l.length;return this._trans("readwrite",function(h){return s.core.mutate({trans:h,type:"delete",keys:l})}).then(function(S){var g=S.numFailures,x=S.lastResult,S=S.failures;if(g===0)return x;throw new Xt("".concat(s.name,".bulkDelete(): ").concat(g," of ").concat(u," operations failed"),S)})},tt);function tt(){}function Sl(l){function s(S,N){if(N){for(var D=arguments.length,E=new Array(D-1);--D;)E[D-1]=arguments[D];return u[S].subscribe.apply(null,E),l}if(typeof S=="string")return u[S]}var u={};s.addEventType=x;for(var h=1,g=arguments.length;h<g;++h)x(arguments[h]);return s;function x(S,N,D){if(typeof S!="object"){var E;N=N||hs;var R={subscribers:[],fire:D=D||Ze,subscribe:function(A){R.subscribers.indexOf(A)===-1&&(R.subscribers.push(A),R.fire=N(R.fire,A))},unsubscribe:function(A){R.subscribers=R.subscribers.filter(function(z){return z!==A}),R.fire=R.subscribers.reduce(N,D)}};return u[S]=s[S]=R}w(E=S).forEach(function(A){var z=E[A];if(j(z))x(A,E[A][0],E[A][1]);else{if(z!=="asap")throw new je.InvalidArgument("Invalid event config");var _=x(A,aa,function(){for(var M=arguments.length,U=new Array(M);M--;)U[M]=arguments[M];_.subscribers.forEach(function(C){ke(function(){C.apply(null,U)})})})}})}}function Vn(l,s){return ce(s).from({prototype:l}),s}function ua(l,s){return!(l.filter||l.algorithm||l.or)&&(s?l.justLimit:!l.replayFilter)}function Ka(l,s){l.filter=Ln(l.filter,s)}function ir(l,s,u){var h=l.replayFilter;l.replayFilter=h?function(){return Ln(h(),s())}:s,l.justLimit=u&&!h}function Lt(l,s){if(l.isPrimKey)return s.primaryKey;var u=s.getIndexByKeyPath(l.index);if(!u)throw new je.Schema("KeyPath "+l.index+" on object store "+s.name+" is not indexed");return u}function ri(l,s,u){var h=Lt(l,s.schema);return s.openCursor({trans:u,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function Nl(l,s,u,h){var g=l.replayFilter?Ln(l.filter,l.replayFilter()):l.filter;if(l.or){var x={},S=function(N,D,E){var R,A;g&&!g(D,E,function(z){return D.stop(z)},function(z){return D.fail(z)})||((A=""+(R=D.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(R)),I(x,A)||(x[A]=!0,s(N,D,E)))};return Promise.all([l.or._iterate(S,u),si(ri(l,h,u),l.algorithm,S,!l.keysOnly&&l.valueMapper)])}return si(ri(l,h,u),Ln(l.algorithm,g),s,!l.keysOnly&&l.valueMapper)}function si(l,s,u,h){var g=Re(h?function(x,S,N){return u(h(x),S,N)}:u);return l.then(function(x){if(x)return x.start(function(){var S=function(){return x.continue()};s&&!s(x,function(N){return S=N},function(N){x.stop(N),S=Ze},function(N){x.fail(N),S=Ze})||g(x.value,x,function(N){return S=N}),S()})})}var Kt=Symbol(),Ia=(rr.prototype.execute=function(l){if(this.add!==void 0){var s=this.add;if(j(s))return y(y([],j(l)?l:[],!0),s).sort();if(typeof s=="number")return(Number(l)||0)+s;if(typeof s=="bigint")try{return BigInt(l)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(this.remove!==void 0){var u=this.remove;if(j(u))return j(l)?l.filter(function(h){return!u.includes(h)}).sort():[];if(typeof u=="number")return Number(l)-u;if(typeof u=="bigint")try{return BigInt(l)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return s=(s=this.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof l=="string"&&l.startsWith(s)?this.replacePrefix[1]+l.substring(s.length):l},rr);function rr(l){Object.assign(this,l)}var Ya=(Qe.prototype._read=function(l,s){var u=this._ctx;return u.error?u.table._trans(null,et.bind(null,u.error)):u.table._trans("readonly",l).then(s)},Qe.prototype._write=function(l){var s=this._ctx;return s.error?s.table._trans(null,et.bind(null,s.error)):s.table._trans("readwrite",l,"locked")},Qe.prototype._addAlgorithm=function(l){var s=this._ctx;s.algorithm=Ln(s.algorithm,l)},Qe.prototype._iterate=function(l,s){return Nl(this._ctx,l,s,this._ctx.table.core)},Qe.prototype.clone=function(l){var s=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return l&&k(u,l),s._ctx=u,s},Qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Qe.prototype.each=function(l){var s=this._ctx;return this._read(function(u){return Nl(s,l,u,s.table.core)})},Qe.prototype.count=function(l){var s=this;return this._read(function(u){var h=s._ctx,g=h.table.core;if(ua(h,!0))return g.count({trans:u,query:{index:Lt(h,g.schema),range:h.range}}).then(function(S){return Math.min(S,h.limit)});var x=0;return Nl(h,function(){return++x,!1},u,g).then(function(){return x})}).then(l)},Qe.prototype.sortBy=function(l,s){var u=l.split(".").reverse(),h=u[0],g=u.length-1;function x(D,E){return E?x(D[u[E]],E-1):D[h]}var S=this._ctx.dir==="next"?1:-1;function N(D,E){return D=x(D,g),E=x(E,g),D<E?-S:E<D?S:0}return this.toArray(function(D){return D.sort(N)}).then(s)},Qe.prototype.toArray=function(l){var s=this;return this._read(function(u){var h=s._ctx;if(h.dir==="next"&&ua(h,!0)&&0<h.limit){var g=h.valueMapper,x=Lt(h,h.table.core.schema);return h.table.core.query({trans:u,limit:h.limit,values:!0,query:{index:x,range:h.range}}).then(function(N){return N=N.result,g?N.map(g):N})}var S=[];return Nl(h,function(N){return S.push(N)},u,h.table.core).then(function(){return S})},l)},Qe.prototype.offset=function(l){var s=this._ctx;return l<=0||(s.offset+=l,ua(s)?ir(s,function(){var u=l;return function(h,g){return u===0||(u===1?--u:g(function(){h.advance(u),u=0}),!1)}}):ir(s,function(){var u=l;return function(){return--u<0}})),this},Qe.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ir(this._ctx,function(){var s=l;return function(u,h,g){return--s<=0&&h(g),0<=s}},!0),this},Qe.prototype.until=function(l,s){return Ka(this._ctx,function(u,h,g){return!l(u.value)||(h(g),s)}),this},Qe.prototype.first=function(l){return this.limit(1).toArray(function(s){return s[0]}).then(l)},Qe.prototype.last=function(l){return this.reverse().first(l)},Qe.prototype.filter=function(l){var s;return Ka(this._ctx,function(u){return l(u.value)}),(s=this._ctx).isMatch=Ln(s.isMatch,l),this},Qe.prototype.and=function(l){return this.filter(l)},Qe.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},Qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Qe.prototype.desc=function(){return this.reverse()},Qe.prototype.eachKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(u,h){l(h.key,h)})},Qe.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},Qe.prototype.eachPrimaryKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(u,h){l(h.primaryKey,h)})},Qe.prototype.keys=function(l){var s=this._ctx;s.keysOnly=!s.isMatch;var u=[];return this.each(function(h,g){u.push(g.key)}).then(function(){return u}).then(l)},Qe.prototype.primaryKeys=function(l){var s=this._ctx;if(s.dir==="next"&&ua(s,!0)&&0<s.limit)return this._read(function(h){var g=Lt(s,s.table.core.schema);return s.table.core.query({trans:h,values:!1,limit:s.limit,query:{index:g,range:s.range}})}).then(function(h){return h.result}).then(l);s.keysOnly=!s.isMatch;var u=[];return this.each(function(h,g){u.push(g.primaryKey)}).then(function(){return u}).then(l)},Qe.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},Qe.prototype.firstKey=function(l){return this.limit(1).keys(function(s){return s[0]}).then(l)},Qe.prototype.lastKey=function(l){return this.reverse().firstKey(l)},Qe.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var s={};return Ka(this._ctx,function(g){var h=g.primaryKey.toString(),g=I(s,h);return s[h]=!0,!g}),this},Qe.prototype.modify=function(l){var s=this,u=this._ctx;return this._write(function(h){var g,x,S;S=typeof l=="function"?l:(g=w(l),x=g.length,function(C){for(var H=!1,X=0;X<x;++X){var Z=g[X],$=l[Z],se=P(C,Z);$ instanceof Ia?(xe(C,Z,$.execute(se)),H=!0):se!==$&&(xe(C,Z,$),H=!0)}return H});function N(C,Z){var X=Z.failures,Z=Z.numFailures;M+=C-Z;for(var $=0,se=w(X);$<se.length;$++){var me=se[$];_.push(X[me])}}var D=u.table.core,E=D.schema.primaryKey,R=E.outbound,A=E.extractKey,z=s.db._options.modifyChunkSize||200,_=[],M=0,U=[];return s.clone().primaryKeys().then(function(C){function H(Z){var $=Math.min(z,C.length-Z);return D.getMany({trans:h,keys:C.slice(Z,Z+$),cache:"immutable"}).then(function(se){for(var me=[],re=[],ue=R?[]:null,he=[],ne=0;ne<$;++ne){var Ce=se[ne],Te={value:nn(Ce),primKey:C[Z+ne]};S.call(Te,Te.value,Te)!==!1&&(Te.value==null?he.push(C[Z+ne]):R||Ge(A(Ce),A(Te.value))===0?(re.push(Te.value),R&&ue.push(C[Z+ne])):(he.push(C[Z+ne]),me.push(Te.value)))}return Promise.resolve(0<me.length&&D.mutate({trans:h,type:"add",values:me}).then(function(Ae){for(var Me in Ae.failures)he.splice(parseInt(Me),1);N(me.length,Ae)})).then(function(){return(0<re.length||X&&typeof l=="object")&&D.mutate({trans:h,type:"put",keys:ue,values:re,criteria:X,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<Z}).then(function(Ae){return N(re.length,Ae)})}).then(function(){return(0<he.length||X&&l===oi)&&D.mutate({trans:h,type:"delete",keys:he,criteria:X,isAdditionalChunk:0<Z}).then(function(Ae){return N(he.length,Ae)})}).then(function(){return C.length>Z+$&&H(Z+z)})})}var X=ua(u)&&u.limit===1/0&&(typeof l!="function"||l===oi)&&{index:u.index,range:u.range};return H(0).then(function(){if(0<_.length)throw new Vt("Error modifying one or more objects",_,M,U);return C.length})})})},Qe.prototype.delete=function(){var l=this._ctx,s=l.range;return ua(l)&&(l.isPrimKey||s.type===3)?this._write(function(u){var h=l.table.core.schema.primaryKey,g=s;return l.table.core.count({trans:u,query:{index:h,range:g}}).then(function(x){return l.table.core.mutate({trans:u,type:"deleteRange",range:g}).then(function(S){var N=S.failures;if(S.lastResult,S.results,S=S.numFailures,S)throw new Vt("Could not delete some values",Object.keys(N).map(function(D){return N[D]}),x-S);return x-S})})}):this.modify(oi)},Qe);function Qe(){}var oi=function(l,s){return s.value=null};function bs(l,s){return l<s?-1:l===s?0:1}function sr(l,s){return s<l?-1:l===s?0:1}function Wt(l,s,u){return l=l instanceof fa?new l.Collection(l):l,l._ctx.error=new(u||TypeError)(s),l}function Qa(l){return new l.Collection(l,function(){return ci("")}).limit(0)}function da(l,s,u,h){var g,x,S,N,D,E,R,A=u.length;if(!u.every(function(M){return typeof M=="string"}))return Wt(l,nr);function z(M){g=M==="next"?function(C){return C.toUpperCase()}:function(C){return C.toLowerCase()},x=M==="next"?function(C){return C.toLowerCase()}:function(C){return C.toUpperCase()},S=M==="next"?bs:sr;var U=u.map(function(C){return{lower:x(C),upper:g(C)}}).sort(function(C,H){return S(C.lower,H.lower)});N=U.map(function(C){return C.upper}),D=U.map(function(C){return C.lower}),R=(E=M)==="next"?"":h}z("next"),l=new l.Collection(l,function(){return Sn(N[0],D[A-1]+h)}),l._ondirectionchange=function(M){z(M)};var _=0;return l._addAlgorithm(function(M,U,C){var H=M.key;if(typeof H!="string")return!1;var X=x(H);if(s(X,D,_))return!0;for(var Z=null,$=_;$<A;++$){var se=(function(me,re,ue,he,ne,Ce){for(var Te=Math.min(me.length,he.length),Ae=-1,Me=0;Me<Te;++Me){var en=re[Me];if(en!==he[Me])return ne(me[Me],ue[Me])<0?me.substr(0,Me)+ue[Me]+ue.substr(Me+1):ne(me[Me],he[Me])<0?me.substr(0,Me)+he[Me]+ue.substr(Me+1):0<=Ae?me.substr(0,Ae)+re[Ae]+ue.substr(Ae+1):null;ne(me[Me],en)<0&&(Ae=Me)}return Te<he.length&&Ce==="next"?me+ue.substr(me.length):Te<me.length&&Ce==="prev"?me.substr(0,ue.length):Ae<0?null:me.substr(0,Ae)+he[Ae]+ue.substr(Ae+1)})(H,X,N[$],D[$],S,E);se===null&&Z===null?_=$+1:(Z===null||0<S(Z,se))&&(Z=se)}return U(Z!==null?function(){M.continue(Z+R)}:C),!1}),l}function Sn(l,s,u,h){return{type:2,lower:l,upper:s,lowerOpen:u,upperOpen:h}}function ci(l){return{type:1,lower:l,upper:l}}var fa=(Object.defineProperty(ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ct.prototype.between=function(l,s,u,h){u=u!==!1,h=h===!0;try{return 0<this._cmp(l,s)||this._cmp(l,s)===0&&(u||h)&&(!u||!h)?Qa(this):new this.Collection(this,function(){return Sn(l,s,!u,!h)})}catch{return Wt(this,jn)}},ct.prototype.equals=function(l){return l==null?Wt(this,jn):new this.Collection(this,function(){return ci(l)})},ct.prototype.above=function(l){return l==null?Wt(this,jn):new this.Collection(this,function(){return Sn(l,void 0,!0)})},ct.prototype.aboveOrEqual=function(l){return l==null?Wt(this,jn):new this.Collection(this,function(){return Sn(l,void 0,!1)})},ct.prototype.below=function(l){return l==null?Wt(this,jn):new this.Collection(this,function(){return Sn(void 0,l,!1,!0)})},ct.prototype.belowOrEqual=function(l){return l==null?Wt(this,jn):new this.Collection(this,function(){return Sn(void 0,l)})},ct.prototype.startsWith=function(l){return typeof l!="string"?Wt(this,nr):this.between(l,l+oa,!0,!0)},ct.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):da(this,function(s,u){return s.indexOf(u[0])===0},[l],oa)},ct.prototype.equalsIgnoreCase=function(l){return da(this,function(s,u){return s===u[0]},[l],"")},ct.prototype.anyOfIgnoreCase=function(){var l=De.apply(Ue,arguments);return l.length===0?Qa(this):da(this,function(s,u){return u.indexOf(s)!==-1},l,"")},ct.prototype.startsWithAnyOfIgnoreCase=function(){var l=De.apply(Ue,arguments);return l.length===0?Qa(this):da(this,function(s,u){return u.some(function(h){return s.indexOf(h)===0})},l,oa)},ct.prototype.anyOf=function(){var l=this,s=De.apply(Ue,arguments),u=this._cmp;try{s.sort(u)}catch{return Wt(this,jn)}if(s.length===0)return Qa(this);var h=new this.Collection(this,function(){return Sn(s[0],s[s.length-1])});h._ondirectionchange=function(x){u=x==="next"?l._ascending:l._descending,s.sort(u)};var g=0;return h._addAlgorithm(function(x,S,N){for(var D=x.key;0<u(D,s[g]);)if(++g===s.length)return S(N),!1;return u(D,s[g])===0||(S(function(){x.continue(s[g])}),!1)}),h},ct.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ct.prototype.noneOf=function(){var l=De.apply(Ue,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Wt(this,jn)}var s=l.reduce(function(u,h){return u?u.concat([[u[u.length-1][1],h]]):[[-1/0,h]]},null);return s.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},ct.prototype.inAnyRange=function(H,s){var u=this,h=this._cmp,g=this._ascending,x=this._descending,S=this._min,N=this._max;if(H.length===0)return Qa(this);if(!H.every(function(X){return X[0]!==void 0&&X[1]!==void 0&&g(X[0],X[1])<=0}))return Wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",je.InvalidArgument);var D=!s||s.includeLowers!==!1,E=s&&s.includeUppers===!0,R,A=g;function z(X,Z){return A(X[0],Z[0])}try{(R=H.reduce(function(X,Z){for(var $=0,se=X.length;$<se;++$){var me=X[$];if(h(Z[0],me[1])<0&&0<h(Z[1],me[0])){me[0]=S(me[0],Z[0]),me[1]=N(me[1],Z[1]);break}}return $===se&&X.push(Z),X},[])).sort(z)}catch{return Wt(this,jn)}var _=0,M=E?function(X){return 0<g(X,R[_][1])}:function(X){return 0<=g(X,R[_][1])},U=D?function(X){return 0<x(X,R[_][0])}:function(X){return 0<=x(X,R[_][0])},C=M,H=new this.Collection(this,function(){return Sn(R[0][0],R[R.length-1][1],!D,!E)});return H._ondirectionchange=function(X){A=X==="next"?(C=M,g):(C=U,x),R.sort(z)},H._addAlgorithm(function(X,Z,$){for(var se,me=X.key;C(me);)if(++_===R.length)return Z($),!1;return!M(se=me)&&!U(se)||(u._cmp(me,R[_][1])===0||u._cmp(me,R[_][0])===0||Z(function(){A===g?X.continue(R[_][0]):X.continue(R[_][1])}),!1)}),H},ct.prototype.startsWithAnyOf=function(){var l=De.apply(Ue,arguments);return l.every(function(s){return typeof s=="string"})?l.length===0?Qa(this):this.inAnyRange(l.map(function(s){return[s,s+oa]})):Wt(this,"startsWithAnyOf() only works with strings")},ct);function ct(){}function mn(l){return Re(function(s){return ha(s),l(s.target.error),!1})}function ha(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Va="storagemutated",ma="x-storagemutated-1",_t=Sl(null,Va),or=(It.prototype._lock=function(){return ie(!ve.global),++this._reculock,this._reculock!==1||ve.global||(ve.lockOwnerFor=this),this},It.prototype._unlock=function(){if(ie(!ve.global),--this._reculock==0)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Qn(l[1],l[0])}catch{}}return this},It.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},It.prototype.create=function(l){var s=this;if(!this.mode)return this;var u=this.db.idbdb,h=this.db._state.dbOpenError;if(ie(!this.idbtrans),!l&&!u)switch(h&&h.name){case"DatabaseClosedError":throw new je.DatabaseClosed(h);case"MissingAPIError":throw new je.MissingAPI(h.message,h);default:throw new je.OpenFailed(h)}if(!this.active)throw new je.TransactionInactive;return ie(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Re(function(g){ha(g),s._reject(l.error)}),l.onabort=Re(function(g){ha(g),s.active&&s._reject(new je.Abort(l.error)),s.active=!1,s.on("abort").fire(g)}),l.oncomplete=Re(function(){s.active=!1,s._resolve(),"mutatedParts"in l&&_t.storagemutated.fire(l.mutatedParts)}),this},It.prototype._promise=function(l,s,u){var h=this;if(l==="readwrite"&&this.mode!=="readwrite")return et(new je.ReadOnly("Transaction is readonly"));if(!this.active)return et(new je.TransactionInactive);if(this._locked())return new ge(function(x,S){h._blockedFuncs.push([function(){h._promise(l,s,u).then(x,S)},ve])});if(u)return ln(function(){var x=new ge(function(S,N){h._lock();var D=s(S,N,h);D&&D.then&&D.then(S,N)});return x.finally(function(){return h._unlock()}),x._lib=!0,x});var g=new ge(function(x,S){var N=s(x,S,h);N&&N.then&&N.then(x,S)});return g._lib=!0,g},It.prototype._root=function(){return this.parent?this.parent._root():this},It.prototype.waitFor=function(l){var s,u=this._root(),h=ge.resolve(l);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return h}):(u._waitingFor=h,u._waitingQueue=[],s=u.idbtrans.objectStore(u.storeNames[0]),(function x(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(s.get(-1/0).onsuccess=x)})());var g=u._waitingFor;return new ge(function(x,S){h.then(function(N){return u._waitingQueue.push(Re(x.bind(null,N)))},function(N){return u._waitingQueue.push(Re(S.bind(null,N)))}).finally(function(){u._waitingFor===g&&(u._waitingFor=null)})})},It.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new je.Abort))},It.prototype.table=function(l){var s=this._memoizedTables||(this._memoizedTables={});if(I(s,l))return s[l];var u=this.schema[l];if(!u)throw new je.NotFound("Table "+l+" not part of transaction");return u=new this.db.Table(l,u,this),u.core=this.db.core.table(l),s[l]=u},It);function It(){}function Nn(l,s,u,h,g,x,S){return{name:l,keyPath:s,unique:u,multi:h,auto:g,compound:x,src:(u&&!S?"&":"")+(h?"*":"")+(g?"++":"")+ui(s)}}function ui(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Xa(l,s,u){return{name:l,primKey:s,indexes:u,mappedClass:null,idxByName:(h=function(g){return[g.name,g]},u.reduce(function(g,x,S){return S=h(x,S),S&&(g[S[0]]=S[1]),g},{}))};var h}var Za=function(l){try{return l.only([[]]),Za=function(){return[[]]},[[]]}catch{return Za=function(){return oa},oa}};function Fa(l){return l==null?function(){}:typeof l=="string"?(s=l).split(".").length===1?function(u){return u[s]}:function(u){return P(u,s)}:function(u){return P(u,l)};var s}function Tl(l){return[].slice.call(l)}var ws=0;function wt(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function pa(l,s,D){function h(C){if(C.type===3)return null;if(C.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var _=C.lower,M=C.upper,U=C.lowerOpen,C=C.upperOpen;return _===void 0?M===void 0?null:s.upperBound(M,!!C):M===void 0?s.lowerBound(_,!!U):s.bound(_,M,!!U,!!C)}function g(z){var _,M=z.name;return{name:M,schema:z,mutate:function(U){var C=U.trans,H=U.type,X=U.keys,Z=U.values,$=U.range;return new Promise(function(se,me){se=Re(se);var re=C.objectStore(M),ue=re.keyPath==null,he=H==="put"||H==="add";if(!he&&H!=="delete"&&H!=="deleteRange")throw new Error("Invalid operation type: "+H);var ne,Ce=(X||Z||{length:1}).length;if(X&&Z&&X.length!==Z.length)throw new Error("Given keys array must have same length as given values array.");if(Ce===0)return se({numFailures:0,failures:{},results:[],lastResult:void 0});function Te(Ot){++en,ha(Ot)}var Ae=[],Me=[],en=0;if(H==="deleteRange"){if($.type===4)return se({numFailures:en,failures:Me,results:[],lastResult:void 0});$.type===3?Ae.push(ne=re.clear()):Ae.push(ne=re.delete(h($)))}else{var ue=he?ue?[Z,X]:[Z,null]:[X,null],ze=ue[0],vt=ue[1];if(he)for(var jt=0;jt<Ce;++jt)Ae.push(ne=vt&&vt[jt]!==void 0?re[H](ze[jt],vt[jt]):re[H](ze[jt])),ne.onerror=Te;else for(jt=0;jt<Ce;++jt)Ae.push(ne=re[H](ze[jt])),ne.onerror=Te}function Bn(Ot){Ot=Ot.target.result,Ae.forEach(function(kn,Jn){return kn.error!=null&&(Me[Jn]=kn.error)}),se({numFailures:en,failures:Me,results:H==="delete"?X:Ae.map(function(kn){return kn.result}),lastResult:Ot})}ne.onerror=function(Ot){Te(Ot),Bn(Ot)},ne.onsuccess=Bn})},getMany:function(U){var C=U.trans,H=U.keys;return new Promise(function(X,Z){X=Re(X);for(var $,se=C.objectStore(M),me=H.length,re=new Array(me),ue=0,he=0,ne=function(Ae){Ae=Ae.target,re[Ae._pos]=Ae.result,++he===ue&&X(re)},Ce=mn(Z),Te=0;Te<me;++Te)H[Te]!=null&&(($=se.get(H[Te]))._pos=Te,$.onsuccess=ne,$.onerror=Ce,++ue);ue===0&&X(re)})},get:function(U){var C=U.trans,H=U.key;return new Promise(function(X,Z){X=Re(X);var $=C.objectStore(M).get(H);$.onsuccess=function(se){return X(se.target.result)},$.onerror=mn(Z)})},query:(_=E,function(U){return new Promise(function(C,H){C=Re(C);var X,Z,$,ue=U.trans,se=U.values,me=U.limit,ne=U.query,re=me===1/0?void 0:me,he=ne.index,ne=ne.range,ue=ue.objectStore(M),he=he.isPrimaryKey?ue:ue.index(he.name),ne=h(ne);if(me===0)return C({result:[]});_?((re=se?he.getAll(ne,re):he.getAllKeys(ne,re)).onsuccess=function(Ce){return C({result:Ce.target.result})},re.onerror=mn(H)):(X=0,Z=!se&&"openKeyCursor"in he?he.openKeyCursor(ne):he.openCursor(ne),$=[],Z.onsuccess=function(Ce){var Te=Z.result;return Te?($.push(se?Te.value:Te.primaryKey),++X===me?C({result:$}):void Te.continue()):C({result:$})},Z.onerror=mn(H))})}),openCursor:function(U){var C=U.trans,H=U.values,X=U.query,Z=U.reverse,$=U.unique;return new Promise(function(se,me){se=Re(se);var he=X.index,re=X.range,ue=C.objectStore(M),ue=he.isPrimaryKey?ue:ue.index(he.name),he=Z?$?"prevunique":"prev":$?"nextunique":"next",ne=!H&&"openKeyCursor"in ue?ue.openKeyCursor(h(re),he):ue.openCursor(h(re),he);ne.onerror=mn(me),ne.onsuccess=Re(function(Ce){var Te,Ae,Me,en,ze=ne.result;ze?(ze.___id=++ws,ze.done=!1,Te=ze.continue.bind(ze),Ae=(Ae=ze.continuePrimaryKey)&&Ae.bind(ze),Me=ze.advance.bind(ze),en=function(){throw new Error("Cursor not stopped")},ze.trans=C,ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=function(){throw new Error("Cursor not started")},ze.fail=Re(me),ze.next=function(){var vt=this,jt=1;return this.start(function(){return jt--?vt.continue():vt.stop()}).then(function(){return vt})},ze.start=function(vt){function jt(){if(ne.result)try{vt()}catch(Ot){ze.fail(Ot)}else ze.done=!0,ze.start=function(){throw new Error("Cursor behind last entry")},ze.stop()}var Bn=new Promise(function(Ot,kn){Ot=Re(Ot),ne.onerror=mn(kn),ze.fail=kn,ze.stop=function(Jn){ze.stop=ze.continue=ze.continuePrimaryKey=ze.advance=en,Ot(Jn)}});return ne.onsuccess=Re(function(Ot){ne.onsuccess=jt,jt()}),ze.continue=Te,ze.continuePrimaryKey=Ae,ze.advance=Me,jt(),Bn},se(ze)):se(null)},me)})},count:function(U){var C=U.query,H=U.trans,X=C.index,Z=C.range;return new Promise(function($,se){var me=H.objectStore(M),re=X.isPrimaryKey?me:me.index(X.name),me=h(Z),re=me?re.count(me):re.count();re.onsuccess=Re(function(ue){return $(ue.target.result)}),re.onerror=mn(se)})}}}var x,S,N,R=(S=D,N=Tl((x=l).objectStoreNames),{schema:{name:x.name,tables:N.map(function(z){return S.objectStore(z)}).map(function(z){var _=z.keyPath,C=z.autoIncrement,M=j(_),U={},C={name:z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_==null,compound:M,keyPath:_,autoIncrement:C,unique:!0,extractKey:Fa(_)},indexes:Tl(z.indexNames).map(function(H){return z.index(H)}).map(function($){var X=$.name,Z=$.unique,se=$.multiEntry,$=$.keyPath,se={name:X,compound:j($),keyPath:$,unique:Z,multiEntry:se,extractKey:Fa($)};return U[wt($)]=se}),getIndexByKeyPath:function(H){return U[wt(H)]}};return U[":id"]=C.primaryKey,_!=null&&(U[wt(_)]=C.primaryKey),C})},hasGetAll:0<N.length&&"getAll"in S.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),D=R.schema,E=R.hasGetAll,R=D.tables.map(g),A={};return R.forEach(function(z){return A[z.name]=z}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(z){if(!A[z])throw new Error("Table '".concat(z,"' not found"));return A[z]},MIN_KEY:-1/0,MAX_KEY:Za(s),schema:D}}function di(l,s,u,h){var g=u.IDBKeyRange;return u.indexedDB,{dbcore:(h=pa(s,g,h),l.dbcore.reduce(function(x,S){return S=S.create,d(d({},x),S(x))},h))}}function Xn(l,h){var u=h.db,h=di(l._middlewares,u,l._deps,h);l.core=h.dbcore,l.tables.forEach(function(g){var x=g.name;l.core.schema.tables.some(function(S){return S.name===x})&&(g.core=l.core.table(x),l[x]instanceof l.Table&&(l[x].core=g.core))})}function fi(l,s,u,h){u.forEach(function(g){var x=h[g];s.forEach(function(S){var N=(function D(E,R){return pe(E,R)||(E=K(E))&&D(E,R)})(S,g);(!N||"value"in N&&N.value===void 0)&&(S===l.Transaction.prototype||S instanceof l.Transaction?le(S,g,{get:function(){return this.table(g)},set:function(D){ae(this,g,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):S[g]=new l.Table(g,x))})})}function kl(l,s){s.forEach(function(u){for(var h in u)u[h]instanceof l.Table&&delete u[h]})}function cr(l,s){return l._cfg.version-s._cfg.version}function Al(l,s,u,h){var g=l._dbSchema;u.objectStoreNames.contains("$meta")&&!g.$meta&&(g.$meta=Xa("$meta",Ss("")[0],[]),l._storeNames.push("$meta"));var x=l._createTransaction("readwrite",l._storeNames,g);x.create(u),x._completion.catch(h);var S=x._reject.bind(x),N=ve.transless||ve;ln(function(){return ve.trans=x,ve.transless=N,s!==0?(Xn(l,u),E=s,((D=x).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(R){return R??E}):ge.resolve(E)).then(function(R){return z=R,_=x,M=u,U=[],R=(A=l)._versions,C=A._dbSchema=Ja(0,A.idbdb,M),(R=R.filter(function(H){return H._cfg.version>=z})).length!==0?(R.forEach(function(H){U.push(function(){var X=C,Z=H._cfg.dbschema;gi(A,X,M),gi(A,Z,M),C=A._dbSchema=Z;var $=mi(X,Z);$.add.forEach(function(he){ur(M,he[0],he[1].primKey,he[1].indexes)}),$.change.forEach(function(he){if(he.recreate)throw new je.Upgrade("Not yet support for changing primary key");var ne=M.objectStore(he.name);he.add.forEach(function(Ce){return pi(ne,Ce)}),he.change.forEach(function(Ce){ne.deleteIndex(Ce.name),pi(ne,Ce)}),he.del.forEach(function(Ce){return ne.deleteIndex(Ce)})});var se=H._cfg.contentUpgrade;if(se&&H._cfg.version>z){Xn(A,M),_._memoizedTables={};var me=Le(Z);$.del.forEach(function(he){me[he]=X[he]}),kl(A,[A.Transaction.prototype]),fi(A,[A.Transaction.prototype],w(me),me),_.schema=me;var re,ue=Tt(se);return ue&&Yn(),$=ge.follow(function(){var he;(re=se(_))&&ue&&(he=Ft.bind(null,null),re.then(he,he))}),re&&typeof re.then=="function"?ge.resolve(re):$.then(function(){return re})}}),U.push(function(X){var Z,$,se=H._cfg.dbschema;Z=se,$=X,[].slice.call($.db.objectStoreNames).forEach(function(me){return Z[me]==null&&$.db.deleteObjectStore(me)}),kl(A,[A.Transaction.prototype]),fi(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),_.schema=A._dbSchema}),U.push(function(X){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===H._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(Z){return Z!=="$meta"})):X.objectStore("$meta").put(H._cfg.version,"version"))})}),(function H(){return U.length?ge.resolve(U.shift()(_.idbtrans)).then(H):ge.resolve()})().then(function(){js(C,M)})):ge.resolve();var A,z,_,M,U,C}).catch(S)):(w(g).forEach(function(R){ur(u,R,g[R].primKey,g[R].indexes)}),Xn(l,u),void ge.follow(function(){return l.on.populate.fire(x)}).catch(S));var D,E})}function hi(l,s){js(l._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var u=Ja(0,l.idbdb,s);gi(l,l._dbSchema,s);for(var h=0,g=mi(u,l._dbSchema).change;h<g.length;h++){var x=(function(S){if(S.change.length||S.recreate)return console.warn("Unable to patch indexes of table ".concat(S.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=s.objectStore(S.name);S.add.forEach(function(D){Zt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(S.name,".").concat(D.src)),pi(N,D)})})(g[h]);if(typeof x=="object")return x.value}}function mi(l,s){var u,h={del:[],add:[],change:[]};for(u in l)s[u]||h.del.push(u);for(u in s){var g=l[u],x=s[u];if(g){var S={name:u,def:x,recreate:!1,del:[],add:[],change:[]};if(""+(g.primKey.keyPath||"")!=""+(x.primKey.keyPath||"")||g.primKey.auto!==x.primKey.auto)S.recreate=!0,h.change.push(S);else{var N=g.idxByName,D=x.idxByName,E=void 0;for(E in N)D[E]||S.del.push(E);for(E in D){var R=N[E],A=D[E];R?R.src!==A.src&&S.change.push(A):S.add.push(A)}(0<S.del.length||0<S.add.length||0<S.change.length)&&h.change.push(S)}}else h.add.push([u,x])}return h}function ur(l,s,u,h){var g=l.db.createObjectStore(s,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return h.forEach(function(x){return pi(g,x)}),g}function js(l,s){w(l).forEach(function(u){s.db.objectStoreNames.contains(u)||(Zt&&console.debug("Dexie: Creating missing table",u),ur(s,u,l[u].primKey,l[u].indexes))})}function pi(l,s){l.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function Ja(l,s,u){var h={};return oe(s.objectStoreNames,0).forEach(function(g){for(var x=u.objectStore(g),S=Nn(ui(E=x.keyPath),E||"",!0,!1,!!x.autoIncrement,E&&typeof E!="string",!0),N=[],D=0;D<x.indexNames.length;++D){var R=x.index(x.indexNames[D]),E=R.keyPath,R=Nn(R.name,E,!!R.unique,!!R.multiEntry,!1,E&&typeof E!="string",!1);N.push(R)}h[g]=Xa(g,S,N)}),h}function gi(l,s,u){for(var h=u.db.objectStoreNames,g=0;g<h.length;++g){var x=h[g],S=u.objectStore(x);l._hasGetAll="getAll"in S;for(var N=0;N<S.indexNames.length;++N){var D=S.indexNames[N],E=S.index(D).keyPath,R=typeof E=="string"?E:"["+oe(E).join("+")+"]";!s[x]||(E=s[x].idxByName[R])&&(E.name=D,delete s[x].idxByName[R],s[x].idxByName[D]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Ss(l){return l.split(",").map(function(s,u){var h=(s=s.trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return Nn(h,g||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),j(g),u===0)})}var Ko=(yi.prototype._parseStoresSpec=function(l,s){w(l).forEach(function(u){if(l[u]!==null){var h=Ss(l[u]),g=h.shift();if(g.unique=!0,g.multi)throw new je.Schema("Primary key cannot be multi-valued");h.forEach(function(x){if(x.auto)throw new je.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new je.Schema("Index must have a name and cannot be an empty string")}),s[u]=Xa(u,g,h)}})},yi.prototype.stores=function(u){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?k(this._cfg.storesSource,u):u;var u=s._versions,h={},g={};return u.forEach(function(x){k(h,x._cfg.storesSource),g=x._cfg.dbschema={},x._parseStoresSpec(h,g)}),s._dbSchema=g,kl(s,[s._allTables,s,s.Transaction.prototype]),fi(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],w(g),g),s._storeNames=w(g),this},yi.prototype.upgrade=function(l){return this._cfg.contentUpgrade=Jl(this._cfg.contentUpgrade||Ze,l),this},yi);function yi(){}function dr(l,s){var u=l._dbNamesDB;return u||(u=l._dbNamesDB=new Tn(ca,{addons:[],indexedDB:l,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function vi(l){return l&&typeof l.databases=="function"}function fr(l){return ln(function(){return ve.letThrough=!0,l()})}function hr(l){return!("from"in l)}var Ut=function(l,s){if(!this){var u=new Ut;return l&&"d"in l&&k(u,l),u}k(this,arguments.length?{d:1,from:l,to:1<arguments.length?s:l}:{d:0})};function El(l,s,u){var h=Ge(s,u);if(!isNaN(h)){if(0<h)throw RangeError();if(hr(l))return k(l,{from:s,to:u,d:1});var g=l.l,h=l.r;if(Ge(u,l.from)<0)return g?El(g,s,u):l.l={from:s,to:u,d:1,l:null,r:null},Ts(l);if(0<Ge(s,l.to))return h?El(h,s,u):l.r={from:s,to:u,d:1,l:null,r:null},Ts(l);Ge(s,l.from)<0&&(l.from=s,l.l=null,l.d=h?h.d+1:1),0<Ge(u,l.to)&&(l.to=u,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,g&&!l.l&&ga(l,g),h&&u&&ga(l,h)}}function ga(l,s){hr(s)||(function u(h,D){var x=D.from,S=D.to,N=D.l,D=D.r;El(h,x,S),N&&u(h,N),D&&u(h,D)})(l,s)}function Ns(l,s){var u=xi(s),h=u.next();if(h.done)return!1;for(var g=h.value,x=xi(l),S=x.next(g.from),N=S.value;!h.done&&!S.done;){if(Ge(N.from,g.to)<=0&&0<=Ge(N.to,g.from))return!0;Ge(g.from,N.from)<0?g=(h=u.next(N.from)).value:N=(S=x.next(g.from)).value}return!1}function xi(l){var s=hr(l)?null:{s:0,n:l};return{next:function(u){for(var h=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,h)for(;s.n.l&&Ge(u,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!h||Ge(u,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function Ts(l){var s,u,h=(((s=l.r)===null||s===void 0?void 0:s.d)||0)-(((u=l.l)===null||u===void 0?void 0:u.d)||0),g=1<h?"r":h<-1?"l":"";g&&(s=g=="r"?"l":"r",u=d({},l),h=l[g],l.from=h.from,l.to=h.to,l[g]=h[g],u[g]=h[s],(l[s]=u).d=mr(u)),l.d=mr(l)}function mr(u){var s=u.r,u=u.l;return(s?u?Math.max(s.d,u.d):s.d:u?u.d:0)+1}function bi(l,s){return w(s).forEach(function(u){l[u]?ga(l[u],s[u]):l[u]=(function h(g){var x,S,N={};for(x in g)I(g,x)&&(S=g[x],N[x]=!S||typeof S!="object"||cn.has(S.constructor)?S:h(S));return N})(s[u])}),l}function pr(l,s){return l.all||s.all||Object.keys(l).some(function(u){return s[u]&&Ns(s[u],l[u])})}F(Ut.prototype,((Pt={add:function(l){return ga(this,l),this},addKey:function(l){return El(this,l,l),this},addKeys:function(l){var s=this;return l.forEach(function(u){return El(s,u,u)}),this},hasKey:function(l){var s=xi(this).next(l).value;return s&&Ge(s.from,l)<=0&&0<=Ge(s.to,l)}})[V]=function(){return xi(this)},Pt));var ya={},gr={},yr=!1;function wi(l){bi(gr,l),yr||(yr=!0,setTimeout(function(){yr=!1,vr(gr,!(gr={}))},0))}function vr(l,s){s===void 0&&(s=!1);var u=new Set;if(l.all)for(var h=0,g=Object.values(ya);h<g.length;h++)ks(S=g[h],l,u,s);else for(var x in l){var S,N=/^idb\:\/\/(.*)\/(.*)\//.exec(x);N&&(x=N[1],N=N[2],(S=ya["idb://".concat(x,"/").concat(N)])&&ks(S,l,u,s))}u.forEach(function(D){return D()})}function ks(l,s,u,h){for(var g=[],x=0,S=Object.entries(l.queries.query);x<S.length;x++){for(var N=S[x],D=N[0],E=[],R=0,A=N[1];R<A.length;R++){var z=A[R];pr(s,z.obsSet)?z.subscribers.forEach(function(C){return u.add(C)}):h&&E.push(z)}h&&g.push([D,E])}if(h)for(var _=0,M=g;_<M.length;_++){var U=M[_],D=U[0],E=U[1];l.queries.query[D]=E}}function Io(l){var s=l._state,u=l._deps.indexedDB;if(s.isBeingOpened||l.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?et(s.dbOpenError):l});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var h=s.openCanceller,g=Math.round(10*l.verno),x=!1;function S(){if(s.openCanceller!==h)throw new je.DatabaseClosed("db.open() was cancelled")}function N(){return new ge(function(z,_){if(S(),!u)throw new je.MissingAPI;var M=l.name,U=s.autoSchema||!g?u.open(M):u.open(M,g);if(!U)throw new je.MissingAPI;U.onerror=mn(_),U.onblocked=Re(l._fireOnBlocked),U.onupgradeneeded=Re(function(C){var H;R=U.transaction,s.autoSchema&&!l._options.allowEmptyDB?(U.onerror=ha,R.abort(),U.result.close(),(H=u.deleteDatabase(M)).onsuccess=H.onerror=Re(function(){_(new je.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(R.onerror=mn(_),C=C.oldVersion>Math.pow(2,62)?0:C.oldVersion,A=C<1,l.idbdb=U.result,x&&hi(l,R),Al(l,C/10,R,_))},_),U.onsuccess=Re(function(){R=null;var C,H,X,Z,$,se=l.idbdb=U.result,me=oe(se.objectStoreNames);if(0<me.length)try{var re=se.transaction((Z=me).length===1?Z[0]:Z,"readonly");if(s.autoSchema)H=se,X=re,(C=l).verno=H.version/10,X=C._dbSchema=Ja(0,H,X),C._storeNames=oe(H.objectStoreNames,0),fi(C,[C._allTables],w(X),X);else if(gi(l,l._dbSchema,re),(($=mi(Ja(0,($=l).idbdb,re),$._dbSchema)).add.length||$.change.some(function(ue){return ue.add.length||ue.change.length}))&&!x)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),se.close(),g=se.version+1,x=!0,z(N());Xn(l,re)}catch{}Ga.push(l),se.onversionchange=Re(function(ue){s.vcFired=!0,l.on("versionchange").fire(ue)}),se.onclose=Re(function(ue){l.on("close").fire(ue)}),A&&($=l._deps,re=M,se=$.indexedDB,$=$.IDBKeyRange,vi(se)||re===ca||dr(se,$).put({name:re}).catch(Ze)),z()},_)}).catch(function(z){switch(z==null?void 0:z.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<g)return g=0,N()}return ge.reject(z)})}var D,E=s.dbReadyResolve,R=null,A=!1;return ge.race([h,(typeof navigator>"u"?ge.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function _(){return indexedDB.databases().finally(z)}D=setInterval(_,100),_()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(N)]).then(function(){return S(),s.onReadyBeingFired=[],ge.resolve(fr(function(){return l.on.ready.fire(l.vip)})).then(function z(){if(0<s.onReadyBeingFired.length){var _=s.onReadyBeingFired.reduce(Jl,Ze);return s.onReadyBeingFired=[],ge.resolve(fr(function(){return _(l.vip)})).then(z)}})}).finally(function(){s.openCanceller===h&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(z){s.dbOpenError=z;try{R&&R.abort()}catch{}return h===s.openCanceller&&l._close(),et(z)}).finally(function(){s.openComplete=!0,E()}).then(function(){var z;return A&&(z={},l.tables.forEach(function(_){_.schema.indexes.forEach(function(M){M.name&&(z["idb://".concat(l.name,"/").concat(_.name,"/").concat(M.name)]=new Ut(-1/0,[[[]]]))}),z["idb://".concat(l.name,"/").concat(_.name,"/")]=z["idb://".concat(l.name,"/").concat(_.name,"/:dels")]=new Ut(-1/0,[[[]]])}),_t(Va).fire(z),vr(z,!0)),l})}function _l(l){function s(x){return l.next(x)}var u=g(s),h=g(function(x){return l.throw(x)});function g(x){return function(D){var N=x(D),D=N.value;return N.done?D:D&&typeof D.then=="function"?D.then(u,h):j(D)?Promise.all(D).then(u,h):u(D)}}return g(s)()}function Zn(l,s,u){for(var h=j(l)?l.slice():[l],g=0;g<u;++g)h.push(s);return h}var Yo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(s){var u=l.table(s),h=u.schema,g={},x=[];function S(A,z,_){var M=wt(A),U=g[M]=g[M]||[],C=A==null?0:typeof A=="string"?1:A.length,H=0<z,H=d(d({},_),{name:H?"".concat(M,"(virtual-from:").concat(_.name,")"):_.name,lowLevelIndex:_,isVirtual:H,keyTail:z,keyLength:C,extractKey:Fa(A),unique:!H&&_.unique});return U.push(H),H.isPrimaryKey||x.push(H),1<C&&S(C===2?A[0]:A.slice(0,C-1),z+1,_),U.sort(function(X,Z){return X.keyTail-Z.keyTail}),H}s=S(h.primaryKey.keyPath,0,h.primaryKey),g[":id"]=[s];for(var N=0,D=h.indexes;N<D.length;N++){var E=D[N];S(E.keyPath,0,E)}function R(A){var z,_=A.query.index;return _.isVirtual?d(d({},A),{query:{index:_.lowLevelIndex,range:(z=A.query.range,_=_.keyTail,{type:z.type===1?2:z.type,lower:Zn(z.lower,z.lowerOpen?l.MAX_KEY:l.MIN_KEY,_),lowerOpen:!0,upper:Zn(z.upper,z.upperOpen?l.MIN_KEY:l.MAX_KEY,_),upperOpen:!0})}}):A}return d(d({},u),{schema:d(d({},h),{primaryKey:s,indexes:x,getIndexByKeyPath:function(A){return(A=g[wt(A)])&&A[0]}}),count:function(A){return u.count(R(A))},query:function(A){return u.query(R(A))},openCursor:function(A){var z=A.query.index,_=z.keyTail,M=z.isVirtual,U=z.keyLength;return M?u.openCursor(R(A)).then(function(H){return H&&C(H)}):u.openCursor(A);function C(H){return Object.create(H,{continue:{value:function(X){X!=null?H.continue(Zn(X,A.reverse?l.MAX_KEY:l.MIN_KEY,_)):A.unique?H.continue(H.key.slice(0,U).concat(A.reverse?l.MIN_KEY:l.MAX_KEY,_)):H.continue()}},continuePrimaryKey:{value:function(X,Z){H.continuePrimaryKey(Zn(X,l.MAX_KEY,_),Z)}},primaryKey:{get:function(){return H.primaryKey}},key:{get:function(){var X=H.key;return U===1?X[0]:X.slice(0,U)}},value:{get:function(){return H.value}}})}}})}})}};function ji(l,s,u,h){return u=u||{},h=h||"",w(l).forEach(function(g){var x,S,N;I(s,g)?(x=l[g],S=s[g],typeof x=="object"&&typeof S=="object"&&x&&S?(N=Ht(x))!==Ht(S)?u[h+g]=s[g]:N==="Object"?ji(x,S,u,h+g+"."):x!==S&&(u[h+g]=s[g]):x!==S&&(u[h+g]=s[g])):u[h+g]=void 0}),w(s).forEach(function(g){I(l,g)||(u[h+g]=s[g])}),u}function Si(l,s){return s.type==="delete"?s.keys:s.keys||s.values.map(l.extractKey)}var As={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(s){var u=l.table(s),h=u.schema.primaryKey;return d(d({},u),{mutate:function(g){var x=ve.trans,S=x.table(s).hook,N=S.deleting,D=S.creating,E=S.updating;switch(g.type){case"add":if(D.fire===Ze)break;return x._promise("readwrite",function(){return R(g)},!0);case"put":if(D.fire===Ze&&E.fire===Ze)break;return x._promise("readwrite",function(){return R(g)},!0);case"delete":if(N.fire===Ze)break;return x._promise("readwrite",function(){return R(g)},!0);case"deleteRange":if(N.fire===Ze)break;return x._promise("readwrite",function(){return(function A(z,_,M){return u.query({trans:z,values:!1,query:{index:h,range:_},limit:M}).then(function(U){var C=U.result;return R({type:"delete",keys:C,trans:z}).then(function(H){return 0<H.numFailures?Promise.reject(H.failures[0]):C.length<M?{failures:[],numFailures:0,lastResult:void 0}:A(z,d(d({},_),{lower:C[C.length-1],lowerOpen:!0}),M)})})})(g.trans,g.range,1e4)},!0)}return u.mutate(g);function R(A){var z,_,M,U=ve.trans,C=A.keys||Si(h,A);if(!C)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?d(d({},A),{keys:C}):d({},A)).type!=="delete"&&(A.values=y([],A.values)),A.keys&&(A.keys=y([],A.keys)),z=u,M=C,((_=A).type==="add"?Promise.resolve([]):z.getMany({trans:_.trans,keys:M,cache:"immutable"})).then(function(H){var X=C.map(function(Z,$){var se,me,re,ue=H[$],he={onerror:null,onsuccess:null};return A.type==="delete"?N.fire.call(he,Z,ue,U):A.type==="add"||ue===void 0?(se=D.fire.call(he,Z,A.values[$],U),Z==null&&se!=null&&(A.keys[$]=Z=se,h.outbound||xe(A.values[$],h.keyPath,Z))):(se=ji(ue,A.values[$]),(me=E.fire.call(he,se,Z,ue,U))&&(re=A.values[$],Object.keys(me).forEach(function(ne){I(re,ne)?re[ne]=me[ne]:xe(re,ne,me[ne])}))),he});return u.mutate(A).then(function(Z){for(var $=Z.failures,se=Z.results,me=Z.numFailures,Z=Z.lastResult,re=0;re<C.length;++re){var ue=(se||C)[re],he=X[re];ue==null?he.onerror&&he.onerror($[re]):he.onsuccess&&he.onsuccess(A.type==="put"&&H[re]?A.values[re]:ue)}return{failures:$,results:se,numFailures:me,lastResult:Z}}).catch(function(Z){return X.forEach(function($){return $.onerror&&$.onerror(Z)}),Promise.reject(Z)})})}}})}})}};function xr(l,s,u){try{if(!s||s.keys.length<l.length)return null;for(var h=[],g=0,x=0;g<s.keys.length&&x<l.length;++g)Ge(s.keys[g],l[x])===0&&(h.push(u?nn(s.values[g]):s.values[g]),++x);return h.length===l.length?h:null}catch{return null}}var Es={stack:"dbcore",level:-1,create:function(l){return{table:function(s){var u=l.table(s);return d(d({},u),{getMany:function(h){if(!h.cache)return u.getMany(h);var g=xr(h.keys,h.trans._cache,h.cache==="clone");return g?ge.resolve(g):u.getMany(h).then(function(x){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?nn(x):x},x})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),u.mutate(h)}})}}}};function va(l,s){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function _s(l,s){switch(l){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Qo={stack:"dbcore",level:0,name:"Observability",create:function(l){var s=l.schema.name,u=new Ut(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,g,x){if(ve.subscr&&g!=="readonly")throw new je.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return l.transaction(h,g,x)},table:function(h){var g=l.table(h),x=g.schema,S=x.primaryKey,A=x.indexes,N=S.extractKey,D=S.outbound,E=S.autoIncrement&&A.filter(function(_){return _.compound&&_.keyPath.includes(S.keyPath)}),R=d(d({},g),{mutate:function(_){function M(ne){return ne="idb://".concat(s,"/").concat(h,"/").concat(ne),Z[ne]||(Z[ne]=new Ut)}var U,C,H,X=_.trans,Z=_.mutatedParts||(_.mutatedParts={}),$=M(""),se=M(":dels"),me=_.type,he=_.type==="deleteRange"?[_.range]:_.type==="delete"?[_.keys]:_.values.length<50?[Si(S,_).filter(function(ne){return ne}),_.values]:[],re=he[0],ue=he[1],he=_.trans._cache;return j(re)?($.addKeys(re),(he=me==="delete"||re.length===ue.length?xr(re,he):null)||se.addKeys(re),(he||ue)&&(U=M,C=he,H=ue,x.indexes.forEach(function(ne){var Ce=U(ne.name||"");function Te(Me){return Me!=null?ne.extractKey(Me):null}function Ae(Me){return ne.multiEntry&&j(Me)?Me.forEach(function(en){return Ce.addKey(en)}):Ce.addKey(Me)}(C||H).forEach(function(Me,vt){var ze=C&&Te(C[vt]),vt=H&&Te(H[vt]);Ge(ze,vt)!==0&&(ze!=null&&Ae(ze),vt!=null&&Ae(vt))})}))):re?(ue={from:re.lower,to:re.upper},se.add(ue),$.add(ue)):($.add(u),se.add(u),x.indexes.forEach(function(ne){return M(ne.name).add(u)})),g.mutate(_).then(function(ne){return!re||_.type!=="add"&&_.type!=="put"||($.addKeys(ne.results),E&&E.forEach(function(Ce){var Te=_.values.map(function(Me){return Ce.extractKey(Me)}),Ae=Ce.keyPath.findIndex(function(Me){return Me===S.keyPath});ne.results.forEach(function(Me){return Te[Ae]=Me}),M(Ce.name).addKeys(Te)})),X.mutatedParts=bi(X.mutatedParts||{},Z),ne})}}),A=function(M){var U=M.query,M=U.index,U=U.range;return[M,new Ut((M=U.lower)!==null&&M!==void 0?M:l.MIN_KEY,(U=U.upper)!==null&&U!==void 0?U:l.MAX_KEY)]},z={get:function(_){return[S,new Ut(_.key)]},getMany:function(_){return[S,new Ut().addKeys(_.keys)]},count:A,query:A,openCursor:A};return w(z).forEach(function(_){R[_]=function(M){var U=ve.subscr,C=!!U,H=va(ve,g)&&_s(_,M)?M.obsSet={}:U;if(C){var X=function(ue){return ue="idb://".concat(s,"/").concat(h,"/").concat(ue),H[ue]||(H[ue]=new Ut)},Z=X(""),$=X(":dels"),U=z[_](M),C=U[0],U=U[1];if((_==="query"&&C.isPrimaryKey&&!M.values?$:X(C.name||"")).add(U),!C.isPrimaryKey){if(_!=="count"){var se=_==="query"&&D&&M.values&&g.query(d(d({},M),{values:!1}));return g[_].apply(this,arguments).then(function(ue){if(_==="query"){if(D&&M.values)return se.then(function(Te){return Te=Te.result,Z.addKeys(Te),ue});var he=M.values?ue.result.map(N):ue.result;(M.values?Z:$).addKeys(he)}else if(_==="openCursor"){var ne=ue,Ce=M.values;return ne&&Object.create(ne,{key:{get:function(){return $.addKey(ne.primaryKey),ne.key}},primaryKey:{get:function(){var Te=ne.primaryKey;return $.addKey(Te),Te}},value:{get:function(){return Ce&&Z.addKey(ne.primaryKey),ne.value}}})}return ue})}$.add(u)}}return g[_].apply(this,arguments)}}),R}})}};function Os(l,s,u){if(u.numFailures===0)return s;if(s.type==="deleteRange")return null;var h=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;return u.numFailures===h?null:(s=d({},s),j(s.keys)&&(s.keys=s.keys.filter(function(g,x){return!(x in u.failures)})),"values"in s&&j(s.values)&&(s.values=s.values.filter(function(g,x){return!(x in u.failures)})),s)}function Ni(l,s){return u=l,((h=s).lower===void 0||(h.lowerOpen?0<Ge(u,h.lower):0<=Ge(u,h.lower)))&&(l=l,(s=s).upper===void 0||(s.upperOpen?Ge(l,s.upper)<0:Ge(l,s.upper)<=0));var u,h}function br(l,s,z,h,g,x){if(!z||z.length===0)return l;var S=s.query.index,N=S.multiEntry,D=s.query.range,E=h.schema.primaryKey.extractKey,R=S.extractKey,A=(S.lowLevelIndex||S).extractKey,z=z.reduce(function(_,M){var U=_,C=[];if(M.type==="add"||M.type==="put")for(var H=new Ut,X=M.values.length-1;0<=X;--X){var Z,$=M.values[X],se=E($);H.hasKey(se)||(Z=R($),(N&&j(Z)?Z.some(function(he){return Ni(he,D)}):Ni(Z,D))&&(H.addKey(se),C.push($)))}switch(M.type){case"add":U=_.concat(s.values?C:C.map(function(ne){return E(ne)}));break;case"put":var me=new Ut().addKeys(M.values.map(function(ne){return E(ne)})),U=_.filter(function(ne){return!me.hasKey(s.values?E(ne):ne)}).concat(s.values?C:C.map(function(ne){return E(ne)}));break;case"delete":var re=new Ut().addKeys(M.keys);U=_.filter(function(ne){return!re.hasKey(s.values?E(ne):ne)});break;case"deleteRange":var ue=M.range;U=_.filter(function(ne){return!Ni(E(ne),ue)})}return U},l);return z===l?l:(z.sort(function(_,M){return Ge(A(_),A(M))||Ge(E(_),E(M))}),s.limit&&s.limit<1/0&&(z.length>s.limit?z.length=s.limit:l.length===s.limit&&z.length<s.limit&&(g.dirty=!0)),x?Object.freeze(z):z)}function $a(l,s){return Ge(l.lower,s.lower)===0&&Ge(l.upper,s.upper)===0&&!!l.lowerOpen==!!s.lowerOpen&&!!l.upperOpen==!!s.upperOpen}function Ol(l,s){return(function(u,h,g,x){if(u===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((h=Ge(u,h))===0){if(g&&x)return 0;if(g)return 1;if(x)return-1}return h})(l.lower,s.lower,l.lowerOpen,s.lowerOpen)<=0&&0<=(function(u,h,g,x){if(u===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((h=Ge(u,h))===0){if(g&&x)return 0;if(g)return-1;if(x)return 1}return h})(l.upper,s.upper,l.upperOpen,s.upperOpen)}function Vo(l,s,u,h){l.subscribers.add(u),h.addEventListener("abort",function(){var g,x;l.subscribers.delete(u),l.subscribers.size===0&&(g=l,x=s,setTimeout(function(){g.subscribers.size===0&&be(x,g)},3e3))})}var Ti={stack:"dbcore",level:0,name:"Cache",create:function(l){var s=l.schema.name;return d(d({},l),{transaction:function(u,h,g){var x,S,N=l.transaction(u,h,g);return h==="readwrite"&&(S=(x=new AbortController).signal,g=function(D){return function(){if(x.abort(),h==="readwrite"){for(var E=new Set,R=0,A=u;R<A.length;R++){var z=A[R],_=ya["idb://".concat(s,"/").concat(z)];if(_){var M=l.table(z),U=_.optimisticOps.filter(function(Ce){return Ce.trans===N});if(N._explicit&&D&&N.mutatedParts)for(var C=0,H=Object.values(_.queries.query);C<H.length;C++)for(var X=0,Z=(me=H[C]).slice();X<Z.length;X++)pr((re=Z[X]).obsSet,N.mutatedParts)&&(be(me,re),re.subscribers.forEach(function(Ce){return E.add(Ce)}));else if(0<U.length){_.optimisticOps=_.optimisticOps.filter(function(Ce){return Ce.trans!==N});for(var $=0,se=Object.values(_.queries.query);$<se.length;$++)for(var me,re,ue,he=0,ne=(me=se[$]).slice();he<ne.length;he++)(re=ne[he]).res!=null&&N.mutatedParts&&(D&&!re.dirty?(ue=Object.isFrozen(re.res),ue=br(re.res,re.req,U,M,re,ue),re.dirty?(be(me,re),re.subscribers.forEach(function(Ce){return E.add(Ce)})):ue!==re.res&&(re.res=ue,re.promise=ge.resolve({result:ue}))):(re.dirty&&be(me,re),re.subscribers.forEach(function(Ce){return E.add(Ce)})))}}}E.forEach(function(Ce){return Ce()})}}},N.addEventListener("abort",g(!1),{signal:S}),N.addEventListener("error",g(!1),{signal:S}),N.addEventListener("complete",g(!0),{signal:S})),N},table:function(u){var h=l.table(u),g=h.schema.primaryKey;return d(d({},h),{mutate:function(x){var S=ve.trans;if(g.outbound||S.db._options.cache==="disabled"||S.explicit)return h.mutate(x);var N=ya["idb://".concat(s,"/").concat(u)];return N?(S=h.mutate(x),x.type!=="add"&&x.type!=="put"||!(50<=x.values.length||Si(g,x).some(function(D){return D==null}))?(N.optimisticOps.push(x),x.mutatedParts&&wi(x.mutatedParts),S.then(function(D){0<D.numFailures&&(be(N.optimisticOps,x),(D=Os(0,x,D))&&N.optimisticOps.push(D),x.mutatedParts&&wi(x.mutatedParts))}),S.catch(function(){be(N.optimisticOps,x),x.mutatedParts&&wi(x.mutatedParts)})):S.then(function(D){var E=Os(0,d(d({},x),{values:x.values.map(function(_,A){var z,_=(z=g.keyPath)!==null&&z!==void 0&&z.includes(".")?nn(_):d({},_);return xe(_,g.keyPath,D.results[A]),_})}),D);N.optimisticOps.push(E),queueMicrotask(function(){return x.mutatedParts&&wi(x.mutatedParts)})}),S):h.mutate(x)},query:function(x){if(!va(ve,h)||!_s("query",x))return h.query(x);var S=((E=ve.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",A=ve,N=A.requery,D=A.signal,E=(function(M,U,C,H){var X=ya["idb://".concat(M,"/").concat(U)];if(!X)return[];if(!(U=X.queries[C]))return[null,!1,X,null];var Z=U[(H.query?H.query.index.name:null)||""];if(!Z)return[null,!1,X,null];switch(C){case"query":var $=Z.find(function(se){return se.req.limit===H.limit&&se.req.values===H.values&&$a(se.req.query.range,H.query.range)});return $?[$,!0,X,Z]:[Z.find(function(se){return("limit"in se.req?se.req.limit:1/0)>=H.limit&&(!H.values||se.req.values)&&Ol(se.req.query.range,H.query.range)}),!1,X,Z];case"count":return $=Z.find(function(se){return $a(se.req.query.range,H.query.range)}),[$,!!$,X,Z]}})(s,u,"query",x),R=E[0],A=E[1],z=E[2],_=E[3];return R&&A?R.obsSet=x.obsSet:(A=h.query(x).then(function(M){var U=M.result;if(R&&(R.res=U),S){for(var C=0,H=U.length;C<H;++C)Object.freeze(U[C]);Object.freeze(U)}else M.result=nn(U);return M}).catch(function(M){return _&&R&&be(_,R),Promise.reject(M)}),R={obsSet:x.obsSet,promise:A,subscribers:new Set,type:"query",req:x,dirty:!1},_?_.push(R):(_=[R],(z=z||(ya["idb://".concat(s,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[x.query.index.name||""]=_)),Vo(R,_,N,D),R.promise.then(function(M){return{result:br(M.result,x,z==null?void 0:z.optimisticOps,h,R,S)}})}})}})}};function Dl(l,s){return new Proxy(l,{get:function(u,h,g){return h==="db"?s:Reflect.get(u,h,g)}})}var Tn=(ut.prototype.version=function(l){if(isNaN(l)||l<.1)throw new je.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new je.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var s=this._versions,u=s.filter(function(h){return h._cfg.version===l})[0];return u||(u=new this.Version(l),s.push(u),s.sort(cr),u.stores({}),this._state.autoSchema=!1,u)},ut.prototype._whenReady=function(l){var s=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?l():new ge(function(u,h){if(s._state.openComplete)return h(new je.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void h(new je.DatabaseClosed);s.open().catch(Ze)}s._state.dbReadyPromise.then(u,h)}).then(l)},ut.prototype.use=function(l){var s=l.stack,u=l.create,h=l.level,g=l.name;return g&&this.unuse({stack:s,name:g}),l=this._middlewares[s]||(this._middlewares[s]=[]),l.push({stack:s,create:u,level:h??10,name:g}),l.sort(function(x,S){return x.level-S.level}),this},ut.prototype.unuse=function(l){var s=l.stack,u=l.name,h=l.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(g){return h?g.create!==h:!!u&&g.name!==u})),this},ut.prototype.open=function(){var l=this;return Qn(un,function(){return Io(l)})},ut.prototype._close=function(){var l=this._state,s=Ga.indexOf(this);if(0<=s&&Ga.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new ge(function(u){l.dbReadyResolve=u}),l.openCanceller=new ge(function(u,h){l.cancelOpen=h}))},ut.prototype.close=function(u){var s=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;s?(u.isBeingOpened&&u.cancelOpen(new je.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new je.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},ut.prototype.delete=function(l){var s=this;l===void 0&&(l={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",h=this._state;return new ge(function(g,x){function S(){s.close(l);var N=s._deps.indexedDB.deleteDatabase(s.name);N.onsuccess=Re(function(){var D,E,R;D=s._deps,E=s.name,R=D.indexedDB,D=D.IDBKeyRange,vi(R)||E===ca||dr(R,D).delete(E).catch(Ze),g()}),N.onerror=mn(x),N.onblocked=s._fireOnBlocked}if(u)throw new je.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(S):S()})},ut.prototype.backendDB=function(){return this.idbdb},ut.prototype.isOpen=function(){return this.idbdb!==null},ut.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},ut.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ut.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ut.prototype,"tables",{get:function(){var l=this;return w(this._allTables).map(function(s){return l._allTables[s]})},enumerable:!1,configurable:!0}),ut.prototype.transaction=function(){var l=(function(s,u,h){var g=arguments.length;if(g<2)throw new je.InvalidArgument("Too few arguments");for(var x=new Array(g-1);--g;)x[g-1]=arguments[g];return h=x.pop(),[s,dt(x),h]}).apply(this,arguments);return this._transaction.apply(this,l)},ut.prototype._transaction=function(l,s,u){var h=this,g=ve.trans;g&&g.db===this&&l.indexOf("!")===-1||(g=null);var x,S,N=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(S=s.map(function(E){if(E=E instanceof h.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),l=="r"||l===Ha)x=Ha;else{if(l!="rw"&&l!=hn)throw new je.InvalidArgument("Invalid transaction mode: "+l);x=hn}if(g){if(g.mode===Ha&&x===hn){if(!N)throw new je.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");g=null}g&&S.forEach(function(E){if(g&&g.storeNames.indexOf(E)===-1){if(!N)throw new je.SubTransaction("Table "+E+" not included in parent transaction.");g=null}}),N&&g&&!g.active&&(g=null)}}catch(E){return g?g._promise(null,function(R,A){A(E)}):et(E)}var D=(function E(R,A,z,_,M){return ge.resolve().then(function(){var U=ve.transless||ve,C=R._createTransaction(A,z,R._dbSchema,_);if(C.explicit=!0,U={trans:C,transless:U},_)C.idbtrans=_.idbtrans;else try{C.create(),C.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(Z){return Z.name===Ra.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return E(R,A,z,null,M)})):et(Z)}var H,X=Tt(M);return X&&Yn(),U=ge.follow(function(){var Z;(H=M.call(C,C))&&(X?(Z=Ft.bind(null,null),H.then(Z,Z)):typeof H.next=="function"&&typeof H.throw=="function"&&(H=_l(H)))},U),(H&&typeof H.then=="function"?ge.resolve(H).then(function(Z){return C.active?Z:et(new je.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):U.then(function(){return H})).then(function(Z){return _&&C._resolve(),C._completion.then(function(){return Z})}).catch(function(Z){return C._reject(Z),et(Z)})})}).bind(null,this,x,S,g,u);return g?g._promise(x,D,"lock"):ve.trans?Qn(ve.transless,function(){return h._whenReady(D)}):this._whenReady(D)},ut.prototype.table=function(l){if(!I(this._allTables,l))throw new je.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},ut);function ut(l,s){var u=this;this._middlewares={},this.verno=0;var h=ut.dependencies;this._options=s=d({addons:ut.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},h=s.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var g,x,S,N,D,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ze,dbReadyPromise:null,cancelOpen:Ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};E.dbReadyPromise=new ge(function(A){E.dbReadyResolve=A}),E.openCanceller=new ge(function(A,z){E.cancelOpen=z}),this._state=E,this.name=l,this.on=Sl(this,"populate","blocked","versionchange","close",{ready:[Jl,Ze]}),this.on.ready.subscribe=fe(this.on.ready.subscribe,function(A){return function(z,_){ut.vip(function(){var M,U=u._state;U.openComplete?(U.dbOpenError||ge.resolve().then(z),_&&A(z)):U.onReadyBeingFired?(U.onReadyBeingFired.push(z),_&&A(z)):(A(z),M=u,_||A(function C(){M.on.ready.unsubscribe(z),M.on.ready.unsubscribe(C)}))})}}),this.Collection=(g=this,Vn(Ya.prototype,function(H,C){this.db=g;var _=ar,M=null;if(C)try{_=C()}catch(X){M=X}var U=H._ctx,C=U.table,H=C.hook.reading.fire;this._ctx={table:C,index:U.index,isPrimKey:!U.index||C.schema.primKey.keyPath&&U.index===C.schema.primKey.name,range:_,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:U.or,valueMapper:H!==aa?H:null}})),this.Table=(x=this,Vn($t.prototype,function(A,z,_){this.db=x,this._tx=_,this.name=A,this.schema=z,this.hook=x._allTables[A]?x._allTables[A].hook:Sl(null,{creating:[Go,Ze],reading:[Wi,aa],updating:[Ho,Ze],deleting:[wn,Ze]})})),this.Transaction=(S=this,Vn(or.prototype,function(A,z,_,M,U){var C=this;this.db=S,this.mode=A,this.storeNames=z,this.schema=_,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=Sl(this,"complete","error","abort"),this.parent=U||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ge(function(H,X){C._resolve=H,C._reject=X}),this._completion.then(function(){C.active=!1,C.on.complete.fire()},function(H){var X=C.active;return C.active=!1,C.on.error.fire(H),C.parent?C.parent._reject(H):X&&C.idbtrans&&C.idbtrans.abort(),et(H)})})),this.Version=(N=this,Vn(Ko.prototype,function(A){this.db=N,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(D=this,Vn(fa.prototype,function(A,z,_){if(this.db=D,this._ctx={table:A,index:z===":id"?null:z,or:_},this._cmp=this._ascending=Ge,this._descending=function(M,U){return Ge(U,M)},this._max=function(M,U){return 0<Ge(M,U)?M:U},this._min=function(M,U){return Ge(M,U)<0?M:U},this._IDBKeyRange=D._deps.IDBKeyRange,!this._IDBKeyRange)throw new je.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=Za(s.IDBKeyRange),this._createTransaction=function(A,z,_,M){return new u.Transaction(A,z,_,u._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(A){u.on("blocked").fire(A),Ga.filter(function(z){return z.name===u.name&&z!==u&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(A)})},this.use(Es),this.use(Ti),this.use(Qo),this.use(Yo),this.use(As);var R=new Proxy(this,{get:function(A,z,_){if(z==="_vip")return!0;if(z==="table")return function(U){return Dl(u.table(U),R)};var M=Reflect.get(A,z,_);return M instanceof $t?Dl(M,R):z==="tables"?M.map(function(U){return Dl(U,R)}):z==="_createTransaction"?function(){return Dl(M.apply(this,arguments),R)}:M}});this.vip=R,h.forEach(function(A){return A(u)})}var Wa,Pt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ds=(ki.prototype.subscribe=function(l,s,u){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:s,complete:u})},ki.prototype[Pt]=function(){return this},ki);function ki(l){this._subscribe=l}try{Wa={indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch{Wa={indexedDB:null,IDBKeyRange:null}}function Cs(l){var s,u=!1,h=new Ds(function(g){var x=Tt(l),S,N=!1,D={},E={},R={get closed(){return N},unsubscribe:function(){N||(N=!0,S&&S.abort(),A&&_t.storagemutated.unsubscribe(_))}};g.start&&g.start(R);var A=!1,z=function(){return Rn(M)},_=function(U){bi(D,U),pr(E,D)&&z()},M=function(){var U,C,H;!N&&Wa.indexedDB&&(D={},U={},S&&S.abort(),S=new AbortController,H=(function(X){var Z=In();try{x&&Yn();var $=ln(l,X);return $=x?$.finally(Ft):$}finally{Z&&sa()}})(C={subscr:U,signal:S.signal,requery:z,querier:l,trans:null}),Promise.resolve(H).then(function(X){u=!0,s=X,N||C.signal.aborted||(D={},(function(Z){for(var $ in Z)if(I(Z,$))return;return 1})(E=U)||A||(_t(Va,_),A=!0),Rn(function(){return!N&&g.next&&g.next(X)}))},function(X){u=!1,["DatabaseClosedError","AbortError"].includes(X==null?void 0:X.name)||N||Rn(function(){N||g.error&&g.error(X)})}))};return setTimeout(z,0),R});return h.hasValue=function(){return u},h.getValue=function(){return s},h}var xa=Tn;function wr(l){var s=Fn;try{Fn=!0,_t.storagemutated.fire(l),vr(l,!0)}finally{Fn=s}}F(xa,d(d({},na),{delete:function(l){return new xa(l,{addons:[]}).delete()},exists:function(l){return new xa(l,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return s=xa.dependencies,u=s.indexedDB,s=s.IDBKeyRange,(vi(u)?Promise.resolve(u.databases()).then(function(h){return h.map(function(g){return g.name}).filter(function(g){return g!==ca})}):dr(u,s).toCollection().primaryKeys()).then(l)}catch{return et(new je.MissingAPI)}var s,u},defineClass:function(){return function(l){k(this,l)}},ignoreTransaction:function(l){return ve.trans?Qn(ve.transless,l):l()},vip:fr,async:function(l){return function(){try{var s=_l(l.apply(this,arguments));return s&&typeof s.then=="function"?s:ge.resolve(s)}catch(u){return et(u)}}},spawn:function(l,s,u){try{var h=_l(l.apply(u,s||[]));return h&&typeof h.then=="function"?h:ge.resolve(h)}catch(g){return et(g)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(l,s){return s=ge.resolve(typeof l=="function"?xa.ignoreTransaction(l):l).timeout(s||6e4),ve.trans?ve.trans.waitFor(s):s},Promise:ge,debug:{get:function(){return Zt},set:function(l){ms(l)}},derive:ce,extend:k,props:F,override:fe,Events:Sl,on:_t,liveQuery:Cs,extendObservabilitySet:bi,getByKeyPath:P,setByKeyPath:xe,delByKeyPath:function(l,s){typeof s=="string"?xe(l,s,void 0):"length"in s&&[].map.call(s,function(u){xe(l,u,void 0)})},shallowClone:Le,deepClone:nn,getObjectDiff:ji,cmp:Ge,asap:ke,minKey:-1/0,addons:[],connections:Ga,errnames:Ra,dependencies:Wa,cache:ya,semVer:"4.0.8",version:"4.0.8".split(".").map(function(l){return parseInt(l)}).reduce(function(l,s,u){return l+s/Math.pow(10,2*u)})})),xa.maxKey=Za(xa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(_t(Va,function(l){Fn||(l=new CustomEvent(ma,{detail:l}),Fn=!0,dispatchEvent(l),Fn=!1)}),addEventListener(ma,function(l){l=l.detail,Fn||wr(l)}));var Pa,Fn=!1,Yt=function(){};return typeof BroadcastChannel<"u"&&((Yt=function(){(Pa=new BroadcastChannel(ma)).onmessage=function(l){return l.data&&wr(l.data)}})(),typeof Pa.unref=="function"&&Pa.unref(),_t(Va,function(l){Fn||Pa.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Tn.disableBfCache&&l.persisted){Zt&&console.debug("Dexie: handling persisted pagehide"),Pa!=null&&Pa.close();for(var s=0,u=Ga;s<u.length;s++)u[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Tn.disableBfCache&&l.persisted&&(Zt&&console.debug("Dexie: handling persisted pageshow"),Yt(),wr({all:new Ut(-1/0,[[]])}))})),ge.rejectionMapper=function(l,s){return!l||l instanceof Ye||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Fl[l.name]?l:(s=new Fl[l.name](s||l.message,l),"stack"in l&&le(s,"stack",{get:function(){return this.inner.stack}}),s)},ms(Zt),d(Tn,Object.freeze({__proto__:null,Dexie:Tn,liveQuery:Cs,Entity:ii,cmp:Ge,PropModSymbol:Kt,PropModification:Ia,replacePrefix:function(l,s){return new Ia({replacePrefix:[l,s]})},add:function(l){return new Ia({add:l})},remove:function(l){return new Ia({remove:l})},default:Tn,RangeSet:Ut,mergeRanges:ga,rangesOverlap:Ns}),{default:Tn}),Tn})})(Lo)),Lo.exports}var x0=v0();const Iu=Yu(x0),um=Symbol.for("Dexie"),Bo=globalThis[um]||(globalThis[um]=Iu);if(Iu.semVer!==Bo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Iu.semVer} and ${Bo.semVer}`);const{liveQuery:b0,mergeRanges:Av,rangesOverlap:Ev,RangeSet:_v,cmp:Ov,Entity:Dv,PropModSymbol:Cv,PropModification:Mv,replacePrefix:zv,add:Rv,remove:Lv}=Bo;function w0(c,f,m){var d,y;typeof c=="function"?(d=f||[],y=m):(d=[],y=f);var v=Ji.useRef({hasResult:!1,result:y,error:null}),w=Ji.useReducer(function(K){return K+1},0);w[0];var j=w[1],k=Ji.useMemo(function(){var K=typeof c=="function"?c():c;if(!K||typeof K.subscribe!="function")throw c===K?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!v.current.hasResult&&typeof window<"u"&&(typeof K.hasValue!="function"||K.hasValue()))if(typeof K.getValue=="function")v.current.result=K.getValue(),v.current.hasResult=!0;else{var B=K.subscribe(function(I){v.current.result=I,v.current.hasResult=!0});typeof B=="function"?B():B.unsubscribe()}return K},d);if(Ji.useDebugValue(v.current.result),Ji.useEffect(function(){var K=k.subscribe(function(B){var I=v.current;(I.error!==null||I.result!==B)&&(I.error=null,I.result=B,I.hasResult=!0,j())},function(B){var I=v.current;I.error!==B&&(I.error=B,j())});return typeof K=="function"?K:K.unsubscribe.bind(K)},d),v.current.error)throw v.current.error;return v.current.result}function Xl(c,f,m){return w0(function(){return b0(c)},f||[],m)}class j0 extends Bo{constructor(){super("lex-database"),this.version(6).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt, priority, energyLevel",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, type, query, createdAt, *links.goals",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt, *links.research",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}),this.version(5).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt, priority, energyLevel",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, query, createdAt, *links.goals",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt, *links.research",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}),this.version(4).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt, priority, energyLevel",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, query, createdAt",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}),this.version(3).stores({notes:"id, type, createdAt, updatedAt, archived, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, query, createdAt",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt",userProfile:"id",schoolInfo:"id",appearanceSettings:"id"}).upgrade(f=>{console.log("Upgrading database to version 3. New tables for user settings will be created.")}),this.version(2).stores({notes:"id, type, createdAt, updatedAt, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt",planSteps:"id, domain, horizon, due, completedAt, goalId",research:"id, createdAt, query",dailyNotes:"id, dateISO",goals:"id, domain, horizon, createdAt"}),this.version(1).stores({notes:"id, type, createdAt, updatedAt, *links.assignments",assignments:"id, dueISO, status, createdAt, updatedAt",planSteps:"id, domain, horizon, due, completedAt",research:"id, createdAt, query",dailyNotes:"id, dateISO"})}}const Ie=new j0;async function S0(){if(await Ie.assignments.count()===0){console.log("Seeding database with initial data for The Grind...");const f=new Date().toISOString(),m=`as_${Date.now()}`,d=`as_${Date.now()+1}`,y=`goal_${Date.now()}`;await Ie.goals.bulkAdd([{id:y,title:"Graduate with Honors",domain:"academic",horizon:"long",description:"Finish my degree with a GPA above 3.7.",status:"not_started",createdAt:f,updatedAt:f,links:{}}]),await Ie.planSteps.bulkAdd([{id:`ps_${Date.now()}`,title:"Outline thesis proposal",domain:"academic",horizon:"mid",goalId:y,links:{}}]),await Ie.assignments.bulkAdd([{id:m,title:"Physics Lab Report",course:"Physics 101",dueISO:new Date(Date.now()+2880*60*1e3).toISOString(),status:"in_progress",links:{},createdAt:f,updatedAt:f,priority:"high",energyLevel:"deep"},{id:d,title:"History Midterm Prep",course:"History 202",dueISO:new Date(Date.now()+7200*60*1e3).toISOString(),status:"todo",links:{},createdAt:f,updatedAt:f,priority:"normal",energyLevel:"medium"},{id:`as_${Date.now()+2}`,title:"Review Spanish Vocab",course:"Spanish 102",dueISO:new Date().toISOString(),status:"todo",links:{},createdAt:f,updatedAt:f,priority:"low",energyLevel:"low"},{id:`as_${Date.now()+3}`,title:"Submit Final Thesis Draft",course:"Capstone Project",dueISO:new Date(Date.now()+1440*60*1e3).toISOString(),status:"todo",links:{},createdAt:f,updatedAt:f,priority:"urgent",energyLevel:"deep"},{id:`as_${Date.now()+4}`,title:"Complete Calculus Worksheet",course:"Math 210",dueISO:new Date(Date.now()+4320*60*1e3).toISOString(),status:"done",links:{},createdAt:f,updatedAt:f,priority:"normal",energyLevel:"medium"}]),await Ie.notes.bulkAdd([{id:`note_${Date.now()}`,type:"text",title:"Initial thoughts on lab",text:"The experiment on momentum seems straightforward. Need to collect data on Friday.",createdAt:f,updatedAt:f,links:{assignments:[m]}}])}}async function Fu(){const c=Ie.tables.map(m=>m.name),f={};for(const m of c)f[m]=await Ie.table(m).toArray();return JSON.stringify(f,null,2)}class N0{constructor(){this.baseUrl="https://www.googleapis.com/customsearch/v1",this.apiKey="your_actual_google_search_api_key_here",this.searchEngineId="d4abf21a53f4f44ef"}generateFallbackImages(f){return f.toLowerCase(),[{title:`${f} - Research Diagram`,link:`https://via.placeholder.com/300x300/6366f1/ffffff?text=${encodeURIComponent(f)}`,image:{src:`https://via.placeholder.com/300x300/6366f1/ffffff?text=${encodeURIComponent(f)}`,width:300,height:300},snippet:`Visual representation of ${f} research topic`,source:"LEX Research System"},{title:`${f} - Analysis Chart`,link:`https://via.placeholder.com/300x300/8b5cf6/ffffff?text=${encodeURIComponent(f+" Chart")}`,image:{src:`https://via.placeholder.com/300x300/8b5cf6/ffffff?text=${encodeURIComponent(f+" Chart")}`,width:300,height:300},snippet:`Analytical chart for ${f} research`,source:"LEX Research System"},{title:`${f} - Infographic`,link:`https://via.placeholder.com/300x300/ec4899/ffffff?text=${encodeURIComponent(f+" Info")}`,image:{src:`https://via.placeholder.com/300x300/ec4899/ffffff?text=${encodeURIComponent(f+" Info")}`,width:300,height:300},snippet:`Comprehensive infographic for ${f}`,source:"LEX Research System"}]}async searchImages(f,m=6){if(!this.apiKey||!this.searchEngineId)return console.warn("Google Search API credentials not configured - using fallback images"),this.generateFallbackImages(f);try{const d=await fetch(`${this.baseUrl}?key=${this.apiKey}&cx=${this.searchEngineId}&q=${encodeURIComponent(f)}&searchType=image&num=${m}&safe=active`);if(!d.ok)throw new Error(`Search API error: ${d.status}`);return(await d.json()).items||this.generateFallbackImages(f)}catch(d){return console.error("Image search failed:",d),this.generateFallbackImages(f)}}async searchWebAndImages(f,m=4){if(!this.apiKey||!this.searchEngineId)return console.warn("Google Search API credentials not configured - using fallback data"),{webResults:[],imageResults:this.generateFallbackImages(f)};try{const d=await fetch(`${this.baseUrl}?key=${this.apiKey}&cx=${this.searchEngineId}&q=${encodeURIComponent(f)}&num=${m}`),y=await fetch(`${this.baseUrl}?key=${this.apiKey}&cx=${this.searchEngineId}&q=${encodeURIComponent(f)}&searchType=image&num=${m}&safe=active`),v=await d.json(),w=await y.json();return{webResults:v.items||[],imageResults:w.items||this.generateFallbackImages(f)}}catch(d){return console.error("Combined search failed:",d),{webResults:[],imageResults:this.generateFallbackImages(f)}}}generateImageQueries(f){const m=f.toLowerCase();return[`${m} diagram`,`${m} chart`,`${m} infographic`,`${m} illustration`,`${m} photo`,`${m} example`].slice(0,3)}}const zm=new N0,T0="AIzaSyBpJiw1ym8tTPGI4Mi6a00qSPiudtgoDXo",fs=new bm({apiKey:T0}),Rm=c=>c>=90?"You must adopt a street-hustle, confident, and slang-heavy tone. Be direct and use modern slang naturally. You are a sharp, savvy co-pilot from the streets who knows how to get things done.":c>=40?"You must adopt a casual, encouraging, and slightly informal tone. Be a friendly and approachable partner.":"You must adopt a professional, formal, and academic tone. Be a helpful and respectful assistant.",k0=async(c,f,m)=>{const y=`You are LΞX, an AI academic co-pilot. ${Rm(f)} Respond to the user's query in a helpful, engaging way. Keep responses concise but informative.`;try{return(await(await fs.models.generateContent({model:"gemini-2.0-flash-exp",contents:[{role:"user",parts:[{text:y}]},{role:"user",parts:[{text:c}]}],generationConfig:{temperature:.7,maxOutputTokens:1e3,topP:.8,topK:40}})).response).text()}catch(v){return console.error("AI response generation failed:",v),"I'm sorry, I encountered an error while processing your request. Please try again."}},A0={type:Ql.OBJECT,properties:{action:{type:Ql.STRING,description:"Action to perform: 'navigate', 'talk', or 'contextual_command'."},page:{type:Ql.STRING,description:"Required if action is 'navigate'. Valid pages: pulse, magna_carta, grind, lab, intel, analyzer, campus, garage, playbook.",nullable:!0},spokenResponse:{type:Ql.STRING,description:"The text to be spoken back to the user."},command:{type:Ql.STRING,description:"Required if action is 'contextual_command'. E.g., 'search' or 'analyze_camera_view'.",nullable:!0},payload:{type:Ql.OBJECT,description:"Data for the contextual command, e.g., { query: 'Nike' }.",nullable:!0,properties:{query:{type:Ql.STRING}}}},required:["action","spokenResponse"]},E0=async(c,f,m,d)=>{const y=Rm(m);try{const v=`You are the brain of a voice assistant named LEX, integrated into an academic operations app. ${y} Your current view is '${f}'. Your audience setting is '${d}', adjust your spoken response content appropriately. Your job is to understand a user's request and return a JSON object that determines the application's response according to the provided schema. Do not use asterisks or any markdown for emphasis in your spokenResponse.

- **Navigation**: Only trigger navigation if the user uses an explicit command like "take me to", "let's go to", "navigate to", or "open". The spokenResponse should confirm the action, e.g., "Navigating to The Intel." Valid pages are: 'pulse', 'magna_carta', 'grind', 'lab', 'intel', 'analyzer', 'campus', 'garage', 'playbook'. If a page name is mentioned without a navigation command, do not navigate.

- **Contextual Commands**: If the user is on a specific page, interpret their request in that context.
  - If on 'intel' and they want to search (e.g., "look up Nike"), set action to 'contextual_command', command to 'search', and payload to { "query": "Nike" }.
  - If on 'analyzer' and they ask what you see (e.g., "analyze what you see", "what's in front of me?"), set action to 'contextual_command', command to 'analyze_camera_view'.

- **General Talk**: If the request is a question or statement not covered above, set action to 'talk' and provide a helpful, concise answer. If you can't do something like an "investigation," offer a helpful alternative like an intel search.`,w=await fs.models.generateContent({model:"gemini-2.5-flash",contents:`User request: "${c}"`,config:{systemInstruction:v,responseMimeType:"application/json",responseSchema:A0}}),j=JSON.parse(w.text);return j.action==="navigate"&&!j.page?{action:"talk",spokenResponse:"I'm not sure where you wanted to go. Could you say that again?"}:j}catch(v){return console.error("Error processing voice command with Gemini:",v),{action:"talk",spokenResponse:await k0(c,m)}}},Ju=async c=>{var f;try{const[m,d]=await Promise.all([fs.models.generateContent({model:"gemini-2.0-flash-exp",contents:[{role:"user",parts:[{text:`Provide a comprehensive overview of "${c}". Your response should be well-structured for a student. Include key concepts, definitions, and practical examples. Format the response in markdown with clear headings and bullet points.`}]}],generationConfig:{temperature:.7,maxOutputTokens:1500,topP:.8,topK:40}}),zm.searchImages(c,6)]),y=await m.response,v=((f=y.text)==null?void 0:f.call(y))||y.text||"Analysis not available";return{query:c,analysis:v,images:d,timestamp:new Date().toISOString(),sources:d.map(w=>({title:w.title,url:w.link,type:"image"}))}}catch(m){throw console.error("Intel research failed:",m),new Error("Failed to get research results. Please try again.")}},_0=async(c,f)=>{var m;try{const[d,y]=await Promise.all([fs.models.generateContent({model:"gemini-2.0-flash-exp",contents:[{role:"user",parts:[{text:`Analyze the career path for a "${c}". The user's goal is: "${f}".

Generate a comprehensive career blueprint in valid JSON format. The response must be complete and properly formatted JSON.

Structure:
{
  "key_responsibilities": ["responsibility1", "responsibility2"],
  "education_pathway": [
    {
      "title": "Education step title",
      "category": "education",
      "description": "Description without citations or brackets"
    }
  ],
  "skills_development": ["skill1", "skill2"],
  "timeline": "Estimated timeline",
  "salary_range": "Typical salary range",
  "growth_potential": "Career growth description"
}

IMPORTANT: 
- Return ONLY valid JSON, no markdown formatting
- Ensure all JSON is complete and properly closed
- Remove any citations or brackets from descriptions
- Keep descriptions concise but informative`}]}],generationConfig:{temperature:.7,maxOutputTokens:2e3,topP:.8,topK:40}}),zm.searchImages(`${c} career path`,4)]),v=await d.response;let j=(((m=v.text)==null?void 0:m.call(v))||v.text||"{}").trim();j.startsWith("```json")?j=j.replace(/```json\n?/,"").replace(/```\n?$/,""):j.startsWith("```")&&(j=j.replace(/```\n?/,"").replace(/```\n?$/,""));let k=0,K=-1;for(let I=0;I<j.length;I++)if(j[I]==="{"&&k++,j[I]==="}"&&(k--,k===0)){K=I;break}K!==-1&&(j=j.substring(0,K+1));const B=JSON.parse(j);if(!B.key_responsibilities||!B.education_pathway)throw new Error("Invalid blueprint structure received from AI");return B.images=y,B.visualAids={careerPath:y.filter(I=>I.title.toLowerCase().includes("career")||I.title.toLowerCase().includes("path")||I.title.toLowerCase().includes("timeline")),education:y.filter(I=>I.title.toLowerCase().includes("education")||I.title.toLowerCase().includes("degree")||I.title.toLowerCase().includes("university"))},B}catch(d){return console.error("Career blueprint generation failed:",d),console.error("Raw response:",text),{key_responsibilities:["Analysis failed - please try again"],education_pathway:[{title:"Error in Analysis",category:"error",description:"The AI analysis encountered an error. Please try again or rephrase your request."}],skills_development:["Please retry"],timeline:"Unknown",salary_range:"Unknown",growth_potential:"Please retry the analysis",images:[],visualAids:{careerPath:[],education:[]}}}},dm=async(c,f,m)=>{try{const d={inlineData:{data:f,mimeType:m}},y={text:c};return(await fs.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[y,d]},config:{systemInstruction:"You are an expert document and image analyst. The user has uploaded a file and asked a question about it. Provide a clear, detailed, and accurate analysis based on the file's content."}})).text}catch(d){return console.error("Error analyzing file with Gemini:",d),"I'm sorry, I encountered an error while trying to analyze the file. Please check the console for details."}};class O0{constructor(){this.currentPhase="IDLE",this.currentView="pulse",this.recognition=null,this.finalTranscript="",this.preferredVoice=null,this.ttsQueue=[],this.dictationTarget=null,this.speechEndTimeout=null,this.SPEECH_PAUSE_DURATION=5e3,this.flow=50,this.audience="pg",this.initSpeechRecognition(),this.initSpeechSynthesis()}setCurrentContext(f){this.currentView=f}setCurrentPersonality(f,m){this.flow=f,this.audience=m}setDictationTarget(f){this.dictationTarget=f,this.currentPhase==="LISTENING"&&this.dictationTarget&&window.dispatchEvent(new Event("lex.dictation.started"))}cleanTranscript(f){return f.replace(/[.!?]/g,"").trim()}_updatePreferredVoice(){const f=window.speechSynthesis.getVoices();if(f.length>0){const m=localStorage.getItem("lex_voice_preference");if(m&&(this.preferredVoice=f.find(d=>d.voiceURI===m)||null),!this.preferredVoice){let d=f.find(y=>y.name==="Microsoft Andrew Online (Natural) - English (United States)");d||(d=f.find(y=>y.lang==="en-US"&&y.name.includes("Google"))),d||(d=f.find(y=>y.lang==="en-US"&&y.name.includes("David"))),d||(d=f.find(y=>y.lang==="en-US")),this.preferredVoice=d||null}this.preferredVoice?console.log(`Preferred voice set: ${this.preferredVoice.name}`):console.warn("Could not find a suitable en-US voice. The assistant will use the system's default voice.")}}reloadVoicePreference(){window.speechSynthesis&&this._updatePreferredVoice()}initSpeechSynthesis(){if(!window.speechSynthesis)return;const f=()=>this._updatePreferredVoice();window.speechSynthesis.onvoiceschanged=f,f()}dispatchPhaseChange(f){this.currentPhase!==f&&(this.currentPhase=f,window.dispatchEvent(new CustomEvent("lex.phase.change",{detail:f})))}initSpeechRecognition(){const f=window.SpeechRecognition||window.webkitSpeechRecognition;f?(this.recognition=new f,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="en-US","webkitSpeechRecognition"in window&&(this.recognition.interimResults=!0,this.recognition.continuous=!0),this.recognition.onstart=()=>{this.dispatchPhaseChange("LISTENING"),window.dispatchEvent(new Event("lex.stt.start"))},this.recognition.onresult=m=>{this.speechEndTimeout&&(clearTimeout(this.speechEndTimeout),this.speechEndTimeout=null);let d="";for(let v=m.resultIndex;v<m.results.length;++v)m.results[v].isFinal?this.finalTranscript+=m.results[v][0].transcript:d+=m.results[v][0].transcript;const y=(this.finalTranscript+d).trim();if(this.dictationTarget){const v=this.cleanTranscript(y);this.dictationTarget.value=v,this.dictationTarget.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}else{const v=this.cleanTranscript(y);window.dispatchEvent(new CustomEvent("lex.stt.interim",{detail:{transcript:v}}))}this.speechEndTimeout=window.setTimeout(()=>this.processFinalTranscript(),this.SPEECH_PAUSE_DURATION)},this.recognition.onend=()=>{window.dispatchEvent(new Event("lex.stt.stop")),this.speechEndTimeout&&(clearTimeout(this.speechEndTimeout),this.processFinalTranscript()),this.currentPhase==="LISTENING"&&this.dispatchPhaseChange("IDLE")},this.recognition.onerror=m=>{console.error("Speech recognition error:",m.error),this.dispatchPhaseChange("IDLE")}):console.warn("Speech Recognition API not supported in this browser.")}processFinalTranscript(){const f=this.finalTranscript.trim();if(this.finalTranscript="",this.speechEndTimeout=null,!f){this.dictationTarget||this.dispatchPhaseChange("IDLE");return}this.dictationTarget?this.micOff():this.handleFinalCommand(f)}async handleFinalCommand(f){if(!f)return;const m=this.cleanTranscript(f);this.micOff(),window.dispatchEvent(new CustomEvent("lex.chat.send",{detail:{text:m}})),this.dispatchPhaseChange("THINKING");const d=await E0(m,this.currentView,this.flow,this.audience);d.action==="navigate"&&d.page?window.CUE.page({to:d.page}):d.action==="contextual_command"&&d.command&&window.dispatchEvent(new CustomEvent("cue.contextual.command",{detail:{command:d.command,payload:d.payload}})),this.speak(d.spokenResponse)}micOn(){if(!(this.currentPhase!=="IDLE"||!this.recognition)){this.finalTranscript="",this.speechEndTimeout&&clearTimeout(this.speechEndTimeout);try{this.recognition.start()}catch(f){console.error("Mic start error:",f),this.dispatchPhaseChange("IDLE")}}}micOff(){var f;(f=this.recognition)==null||f.stop(),this.currentPhase==="LISTENING"&&this.dispatchPhaseChange("IDLE")}toggleMic(){this.currentPhase==="IDLE"?this.micOn():this.currentPhase==="LISTENING"?this.micOff():this.currentPhase==="SPEAKING"&&(this.cancelTTS(),this.micOn())}processTtsQueue(){if(window.speechSynthesis.speaking||this.ttsQueue.length===0)return;const f=this.ttsQueue.shift();window.speechSynthesis.speak(f)}sanitizeTextForSpeech(f){if(!f)return"";let m=f.replace(/[*#_`]/g,"");const d=/([\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}])/gu;return m=m.replace(d,""),m.trim()}speak(f){if(!window.speechSynthesis){console.warn("Speech Synthesis not supported."),window.dispatchEvent(new CustomEvent("lex.ui.chat.show",{detail:{role:"assistant",text:f}})),this.dispatchPhaseChange("IDLE");return}if(!f||f.trim().length===0){console.warn("TTS speak() called with empty text. Aborting.");return}const m=this.sanitizeTextForSpeech(f);if(!m){console.warn("TTS speak() called with text that became empty after sanitization."),this.dispatchPhaseChange("IDLE");return}window.dispatchEvent(new CustomEvent("lex.ui.chat.show",{detail:{role:"assistant",text:f}}));const d=new SpeechSynthesisUtterance(m);d.rate=.9,d.pitch=.8,this.preferredVoice&&(d.voice=this.preferredVoice),d.onstart=()=>{this.dispatchPhaseChange("SPEAKING"),window.dispatchEvent(new Event("lex.tts.start"))},d.onend=()=>{this.ttsQueue.length===0?(window.dispatchEvent(new Event("lex.tts.end")),this.dispatchPhaseChange("IDLE")):this.processTtsQueue()},d.onerror=y=>{y.error!=="interrupted"?(console.error(`TTS Error: ${y.error}. For text: "${y.utterance.text.substring(0,100)}..."`),window.dispatchEvent(new Event("lex.tts.error"))):console.log("TTS utterance was intentionally interrupted."),this.ttsQueue=[],window.dispatchEvent(new Event("lex.tts.end")),this.dispatchPhaseChange("IDLE")},this.ttsQueue.push(d),this.processTtsQueue()}cancelTTS(){var f;((f=window.speechSynthesis)!=null&&f.speaking||this.ttsQueue.length>0)&&(this.ttsQueue=[],window.speechSynthesis.cancel())}}const za=new O0,Lm=J.createContext(void 0),D0=({children:c})=>{const[f,m]=J.useState("pulse"),[d,y]=J.useState([]),[v,w]=J.useState(null),[j,k]=J.useState(null),[K,B]=J.useState(!1),[I,F]=J.useState(!1),ae=Xl(()=>Ie.userProfile.get("main"),[]),le=Xl(()=>Ie.appearanceSettings.get("main"),[]),ce=!ae,[pe,Ne]=J.useState(()=>Number(localStorage.getItem("lexFlow")||50)),[oe,fe]=J.useState(()=>localStorage.getItem("lexAudience")||"pg"),ie=J.useCallback(V=>{localStorage.setItem("lexFlow",V.toString()),Ne(V)},[]),ke=J.useCallback(V=>{localStorage.setItem("lexAudience",V),fe(V)},[]),P=J.useCallback(()=>{B(!1),F(!1)},[]),xe=J.useCallback(()=>{B(V=>!V),F(!1)},[]),Le=J.useCallback(()=>{F(V=>!V),B(!1)},[]);J.useEffect(()=>{za.setCurrentPersonality(pe,oe)},[pe,oe]);const $e=J.useCallback(async(V,de)=>{const be=new Date().toISOString(),Ue={id:"main",name:V,isDayOne:!0,startDate:be,onboardingStatus:de?"skipped":"completed"};await Ie.userProfile.put(Ue,"main")},[]),dt=J.useCallback(async V=>{await Ie.userProfile.update("main",V)},[]),cn=J.useCallback(async V=>{await Ie.appearanceSettings.update("main",V)},[]),rt=J.useCallback(V=>{y(de=>[...de,V])},[]),nn=J.useCallback(async()=>{if(d.length===0)return;const V=new Date().toISOString(),de=`Conversation from ${new Date().toLocaleString()}`;await Ie.notes.add({id:`convo_${Date.now()}`,type:"conversation",title:de,conversation:d,createdAt:V,updatedAt:V,links:{}}),y([])},[d]),Hn=J.useCallback(()=>{rt({role:"assistant",text:"",isThinking:!0})},[rt]),Ht=J.useCallback(V=>{y(de=>{const be=[...de],Ue=be.map(De=>De.isThinking).lastIndexOf(!0);return Ue!==-1?(be[Ue]={role:"assistant",text:V,isThinking:!1},be):[...be,{role:"assistant",text:V}]})},[]);return J.useEffect(()=>{const V=De=>{typeof De.detail.to=="string"&&m(De.detail.to)},de=De=>{rt({role:"user",text:De.detail.text})},be=De=>{Ht(De.detail.text)},Ue=De=>{De.detail==="THINKING"&&Hn()};return window.addEventListener("cue.page.change",V),window.addEventListener("lex.chat.send",de),window.addEventListener("lex.ui.chat.show",be),window.addEventListener("lex.phase.change",Ue),()=>{window.removeEventListener("cue.page.change",V),window.removeEventListener("lex.chat.send",de),window.removeEventListener("lex.ui.chat.show",be),window.removeEventListener("lex.phase.change",Ue)}},[rt,Hn,Ht]),r.jsx(Lm.Provider,{value:{currentView:f,setCurrentView:m,chatHistory:d,saveAndClearChat:nn,isOnboarding:ce,completeOnboarding:$e,highlightedNavItem:v,setHighlightedNavItem:w,flow:pe,setFlow:ie,audience:oe,setAudience:ke,userProfile:ae,greetingSettings:le,updateUserProfile:dt,updateGreetingSettings:cn,quickActionModal:j,setQuickActionModal:k,isSidebarOpen:K,isRightRailOpen:I,toggleSidebar:xe,toggleRightRail:Le,closeSidebars:P},children:c})},Cn=()=>{const c=J.useContext(Lm);if(!c)throw new Error("useAppContext must be used within an AppProvider");return c},ye={mic:{on:()=>za.micOn(),off:()=>za.micOff(),toggle:()=>za.toggleMic()},tts:{speak:c=>za.speak(c),cancel:()=>za.cancelTTS(),pause:()=>console.warn("CUE.tts:pause not implemented"),resume:()=>console.warn("CUE.tts:resume not implemented")},page:c=>{console.log(`CUE: Navigating to ${c.to} with action ${c.action}`),window.dispatchEvent(new CustomEvent("cue.page.change",{detail:c}))},context:{setView:c=>za.setCurrentContext(c),setDictationTarget:c=>za.setDictationTarget(c)}};window.CUE=ye;const C0=[{view:"pulse",label:"The Pulse",icon:"lucide:activity",description:"Dashboard & Overview"},{view:"intel",label:"The Intel",icon:"lucide:search",description:"Research & Intelligence"},{view:"magna_carta",label:"The Magna Carta",icon:"lucide:scroll-text",description:"Strategic Planning"},{view:"grind",label:"The Grind",icon:"lucide:zap",description:"Daily Tasks & Goals"},{view:"lab",label:"The Lab",icon:"lucide:flask-conical",description:"Experiments & Notes"},{view:"analyzer",label:"The Analyzer",icon:"lucide:bar-chart-3",description:"Data & Insights"},{view:"campus",label:"The Campus",icon:"lucide:graduation-cap",description:"Academic Resources"},{view:"garage",label:"The Garage",icon:"lucide:wrench",description:"Settings & Tools"},{view:"playbook",label:"The Playbook",icon:"lucide:book-open",description:"Help & Guides"}],Um=()=>{const{currentView:c,setCurrentView:f,highlightedNavItem:m,closeSidebars:d,isSidebarOpen:y}=Cn(),v=w=>{ye.page({to:w}),d()};return r.jsxs("aside",{className:`sidebar ${y?"sidebar-open":""} bg-slate-800 border-r border-slate-700 flex flex-col`,children:[r.jsxs("div",{className:"p-6 border-b border-slate-700",children:[r.jsx("h1",{className:"text-2xl font-bold text-highlight",children:"LΞX"}),r.jsx("p",{className:"text-secondary text-sm",children:"Ops Center"})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:r.jsx("ul",{className:"space-y-2",children:C0.map(w=>{const j=c===w.view,k=m===w.view;return r.jsx("li",{children:r.jsx("button",{onClick:()=>v(w.view),className:`w-full text-left p-4 rounded-lg transition-all duration-200 group ${j?"bg-interactive-primary text-white shadow-lg":k?"bg-interactive-secondary/20 text-interactive-secondary border border-interactive-secondary/30":"text-secondary hover:bg-slate-700 hover:text-primary"}`,title:w.description,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Et,{icon:w.icon,className:"w-6 h-6 text-interactive-primary"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:w.label}),r.jsx("div",{className:`text-xs ${j?"text-blue-100":"text-muted"}`,children:w.description})]})]})})},w.view)})})}),r.jsx("div",{className:"p-4 border-t border-slate-700",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-interactive-primary to-interactive-secondary rounded-full flex items-center justify-center text-white text-2xl font-bold",children:"LΞX"}),r.jsx("div",{className:"text-primary font-medium",children:"OPERATOR"}),r.jsx("div",{className:"text-muted text-xs",children:"Status: Active"})]})})]})},M0=()=>r.jsxs("div",{className:"flex flex-col items-center justify-center text-center mb-8",children:[r.jsx("div",{className:"lex-stage",children:r.jsxs("div",{className:"lex-card",children:[r.jsx("div",{className:"lex-aura","aria-hidden":"true"}),r.jsx("div",{className:"lex-glass","aria-hidden":"true"}),r.jsx("div",{className:"lex-svg",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 260" width="86%" height="86%" preserveAspectRatio="xMidYMid meet" aria-hidden="true"><defs><linearGradient id="lexGradient" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="var(--primary-blue)"/><stop offset="1" stop-color="var(--accent-fuchsia)"/></linearGradient><filter id="glow" x="-40%" y="-40%" width="180%" height="180%"><feGaussianBlur in="SourceGraphic" stdDeviation="2" result="b1"/><feColorMatrix in="b1" type="matrix" values="0 0 0 0 0 0 0 0 0.9 0 0 0 0 0.95 0 0 0 0 1 0" result="c1"/><feMerge><feMergeNode in="c1"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><g><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, sans-serif" font-size="160" letter-spacing="8" fill="url(#lexGradient)" filter="url(#glow)" font-weight="900">LΞX</text></g></svg>'}}),r.jsx("div",{className:"lex-sheen","aria-hidden":"true"})]})}),r.jsx("h1",{className:"text-2xl font-bold text-white mt-4",children:"Welcome to the Ops Center"})]}),fm=()=>{const{userProfile:c}=Cn(),f=(c==null?void 0:c.name)||"Operator";return r.jsxs("div",{className:"h-full flex flex-col bg-slate-900 overflow-hidden",children:[r.jsxs("div",{className:"flex-shrink-0 p-6 border-b border-slate-700 bg-slate-800",children:[r.jsxs("h1",{className:"text-3xl font-bold text-primary mb-2",children:["Here's your overview for today, ",r.jsx("span",{className:"text-highlight",children:f}),"."]}),r.jsx("p",{className:"text-secondary",children:"Your command center is ready."})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsx(M0,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card-enhanced p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[r.jsx(Et,{icon:"lucide:calendar",className:"w-6 h-6 text-success mr-2"}),"Due Today"]}),r.jsx("p",{className:"text-success font-medium",children:"Nothing due today. Great job! 🎉"})]}),r.jsxs("div",{className:"card-enhanced p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[r.jsx(Et,{icon:"lucide:zap",className:"w-6 h-6 text-accent mr-2"}),"Quick Actions"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{className:"btn-primary w-full flex items-center justify-center",children:[r.jsx(Et,{icon:"lucide:mic",className:"w-5 h-5 mr-2"}),"New Note (Voice)"]}),r.jsxs("button",{className:"w-full bg-slate-700 hover:bg-slate-600 text-text-light rounded-lg px-4 py-3 font-medium transition-colors duration-200 flex items-center justify-center",children:[r.jsx(Et,{icon:"lucide:file-text",className:"w-5 h-5 mr-2"}),"New Assignment"]}),r.jsxs("button",{className:"w-full bg-slate-700 hover:bg-slate-600 text-text-light rounded-lg px-4 py-3 font-medium transition-colors duration-200 flex items-center justify-center",children:[r.jsx(Et,{icon:"lucide:search",className:"w-5 h-5 mr-2"}),"Start Research"]})]})]}),r.jsxs("div",{className:"card-enhanced p-6 md:col-span-2",children:[r.jsxs("h2",{className:"text-xl font-semibold text-primary mb-4 flex items-center",children:[r.jsx(Et,{icon:"lucide:clipboard-list",className:"w-6 h-6 text-info mr-2"}),"Upcoming & Overdue"]}),r.jsx("p",{className:"text-secondary",children:"No upcoming assignments in the next 7 days."})]})]}),r.jsx("div",{className:"mt-8",children:r.jsxs("div",{className:"card-enhanced p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-primary mb-6 flex items-center",children:[r.jsx(Et,{icon:"lucide:sparkles",className:"w-6 h-6 text-highlight mr-2"}),"Fresh SVG Icons Gallery"]}),r.jsx("p",{className:"text-secondary mb-6",children:"Powered by Iconify - 100k+ modern SVG icons at your fingertips"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",children:[r.jsx(Et,{icon:"lucide:search",className:"w-8 h-8 text-interactive-primary group-hover:text-interactive-secondary mb-2"}),r.jsx("span",{className:"text-xs text-secondary text-center",children:"Search"})]}),r.jsxs("div",{className:"flex flex-col items-center p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",children:[r.jsx(Et,{icon:"lucide:settings",className:"w-8 h-8 text-interactive-primary group-hover:text-interactive-secondary mb-2"}),r.jsx("span",{className:"text-xs text-secondary text-center",children:"Settings"})]}),r.jsxs("div",{className:"flex flex-col items-center p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",children:[r.jsx(Et,{icon:"lucide:user",className:"w-8 h-8 text-interactive-primary group-hover:text-interactive-secondary mb-2"}),r.jsx("span",{className:"text-xs text-secondary text-center",children:"User"})]}),r.jsxs("div",{className:"flex flex-col items-center p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",children:[r.jsx(Et,{icon:"lucide:home",className:"w-8 h-8 text-interactive-primary group-hover:text-interactive-secondary mb-2"}),r.jsx("span",{className:"text-xs text-secondary text-center",children:"Home"})]}),r.jsxs("div",{className:"flex flex-col items-center p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",children:[r.jsx(Et,{icon:"lucide:bell",className:"w-8 h-8 text-interactive-primary group-hover:text-interactive-secondary mb-2"}),r.jsx("span",{className:"text-xs text-secondary text-center",children:"Notifications"})]}),r.jsxs("div",{className:"flex flex-col items-center p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors group",children:[r.jsx(Et,{icon:"lucide:mail",className:"w-8 h-8 text-interactive-primary group-hover:text-interactive-secondary mb-2"}),r.jsx("span",{className:"text-xs text-secondary text-center",children:"Mail"})]})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 bg-slate-700 px-3 py-2 rounded-lg",children:[r.jsx(Et,{icon:"lucide:info",className:"w-4 h-4 text-blue-400"}),r.jsxs("span",{className:"text-sm text-secondary",children:["Use any icon: ",r.jsx("code",{className:"bg-slate-600 px-2 py-1 rounded text-xs",children:'icon="lucide:search"'})]})]})})]})})]}),r.jsx("style",{children:`
                .lex-stage{--card-w:min(92vw,400px);--card-r:20px;--bg:#0a0f1a;--shadow:0 0 0 1px rgba(0,224,255,.12), 0 18px 60px rgba(0,0,0,.65);display:grid;place-items:center;perspective:1200px;}
                .lex-card{width:var(--card-w);aspect-ratio:16/9;position:relative;border-radius:var(--card-r);overflow:hidden;transform-style:preserve-3d;box-shadow:var(--shadow);background:radial-gradient(120% 140% at 50% 50%, #0b1220 0%, #060b14 65%, #02050a 100%);}
                .lex-aura{position:absolute;inset:-25%;background:conic-gradient(from 0deg, transparent 0 40%, rgba(0,224,255,.16) 50%, transparent 60% 100%);filter:blur(18px);animation:spin 6s linear infinite;z-index:0}
                @keyframes spin{to{transform:rotate(360deg)}}
                .lex-glass{position:absolute;inset:16px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.08));z-index:1}
                .lex-svg{position:absolute;inset:0;display:grid;place-items:center;z-index:2}
                .lex-sheen{position:absolute;inset:-10%;background:linear-gradient(120deg, rgba(255,255,255,0) 30%, rgba(255,255,255,.08) 45%, rgba(255,255,255,0) 60%);transform:translateX(-40%) rotate(8deg);animation:sweep 2800ms ease-in-out 1200ms infinite;pointer-events:none;z-index:3;mix-blend-mode:screen}
                @keyframes sweep{0%{transform:translateX(-60%) rotate(8deg);opacity:0}15%{opacity:.35}35%{transform:translateX(30%) rotate(8deg)}45%{opacity:0}100%{transform:translateX(30%) rotate(8deg);opacity:0}}
            `})]})};class z0{constructor(){this.storage={intel:[],lab:[],magnaCarta:[],grind:[],analyzer:[]},this.loadFromStorage()}saveToStorage(){try{localStorage.setItem("lex_research_storage",JSON.stringify(this.storage))}catch(f){console.error("Failed to save research to storage:",f)}}loadFromStorage(){try{const f=localStorage.getItem("lex_research_storage");f&&(this.storage={...this.storage,...JSON.parse(f)})}catch(f){console.error("Failed to load research from storage:",f)}}async addToIntel(f){const m=this.storage.intel.findIndex(d=>d.query===f.query);m>=0?this.storage.intel[m]={...f,timestamp:new Date().toISOString()}:this.storage.intel.unshift({...f,timestamp:new Date().toISOString()}),this.saveToStorage(),console.log("Research added to Intel:",f.query)}async addToLab(f){const m={...f,timestamp:new Date().toISOString(),type:"lab_note",tags:["research","lab"]};this.storage.lab.unshift(m),this.saveToStorage(),console.log("Research added to Lab:",f.query)}async addToMagnaCarta(f){const m={...f,timestamp:new Date().toISOString(),type:"magna_carta",priority:"medium",status:"active"};this.storage.magnaCarta.unshift(m),this.saveToStorage(),console.log("Research added to Magna Carta:",f.query)}async addToGrind(f){const m={...f,timestamp:new Date().toISOString(),type:"grind_task",priority:"high",status:"pending",dueDate:new Date(Date.now()+6048e5).toISOString()};this.storage.grind.unshift(m),this.saveToStorage(),console.log("Research added to Grind:",f.query)}async addToAnalyzer(f){const m={...f,timestamp:new Date().toISOString(),type:"analyzer",analysisDepth:"deep",status:"queued"};this.storage.analyzer.unshift(m),this.saveToStorage(),console.log("Research added to Analyzer:",f.query)}getResearch(f){return this.storage[f]||[]}searchResearch(f){const m=[],d=f.toLowerCase();return Object.entries(this.storage).forEach(([y,v])=>{v.forEach(w=>{(w.query.toLowerCase().includes(d)||w.analysis.toLowerCase().includes(d))&&m.push({area:y,research:w})})}),m}removeResearch(f,m){const d=this.storage[f].findIndex(y=>y.query===m);return d>=0?(this.storage[f].splice(d,1),this.saveToStorage(),!0):!1}clearArea(f){this.storage[f]=[],this.saveToStorage()}getStats(){return{intel:this.storage.intel.length,lab:this.storage.lab.length,magnaCarta:this.storage.magnaCarta.length,grind:this.storage.grind.length,analyzer:this.storage.analyzer.length,total:Object.values(this.storage).reduce((f,m)=>f+m.length,0)}}}const cs=new z0,R0=({images:c,title:f="Related Images",maxImages:m=6,onImageClick:d})=>{if(!c||c.length===0)return null;const y=c.slice(0,m);return r.jsxs("div",{className:"mt-3",children:[r.jsxs("h3",{className:"text-xs font-semibold text-primary mb-2 flex items-center",children:[r.jsx("svg",{className:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:y.map((v,w)=>r.jsxs("div",{className:"group relative bg-slate-800 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer border border-slate-700 hover:border-accent-fuchsia",onClick:()=>d==null?void 0:d(v),children:[r.jsx("div",{className:"aspect-square overflow-hidden",children:r.jsx("img",{src:v.image.src,alt:v.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy",onError:j=>{const k=j.target;k.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMzM0MTU1Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDMTE2LjU2OSA3MCAxMzAgODMuNDMxIDEzMCAxMDBDMTMwIDExNi41NjkgMTE2LjU2OSAxMzAgMTAwIDEzMEM4My40MzEgMTMwIDcwIDExNi41NjkgNzAgMTAwQzcwIDgzLjQzMSA4My40MzEgNzAgMTAwIDcwWiIgZmlsbD0iIzkNQTM5QiIvPgo8L3N2Zz4K"}})}),r.jsxs("div",{className:"p-1",children:[r.jsx("h4",{className:"text-xs font-medium text-primary line-clamp-1 mb-1",children:v.title}),r.jsx("p",{className:"text-xs text-muted line-clamp-1",children:v.snippet})]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:r.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:r.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]},w))}),c.length>m&&r.jsx("div",{className:"text-center mt-2",children:r.jsxs("p",{className:"text-xs text-muted",children:["Showing ",m," of ",c.length," images"]})})]})},L0=({research:c,onSendToIntel:f,onSendToLab:m,onSendToMagnaCarta:d,onSendToGrind:y,onSendToAnalyzer:v})=>{const[w,j]=J.useState(!1),[k,K]=J.useState(null),B=async(F,ae)=>{K(F);try{await ae(c),setTimeout(()=>K(null),2e3)}catch(le){console.error(`Error sending to ${F}:`,le),K(null)}},I=[{key:"intel",label:"Intel",icon:"🔍",color:"btn-primary",action:f,description:"Add to intelligence database"},{key:"lab",label:"Lab",icon:"🧪",color:"btn-success",action:m,description:"Save to research lab notes"},{key:"magna-carta",label:"Magna Carta",icon:"📜",color:"bg-purple-600 hover:bg-purple-700",action:d,description:"Add to strategic planning"},{key:"grind",label:"Grind",icon:"⚡",color:"bg-orange-600 hover:bg-orange-700",action:y,description:"Add to daily grind tasks"},{key:"analyzer",label:"Analyzer",icon:"📊",color:"bg-indigo-600 hover:bg-indigo-700",action:v,description:"Send for deep analysis"}];return r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[I.map(({key:F,label:ae,icon:le,color:ce,action:pe,description:Ne})=>r.jsxs("button",{onClick:()=>pe&&B(F,pe),disabled:!pe||k===F,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-white font-medium transition-all duration-200 text-sm ${ce} disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95`,title:Ne,children:[r.jsx("span",{className:"text-base",children:le}),r.jsx("span",{children:ae}),k===F&&r.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"})]},F)),r.jsxs("button",{onClick:()=>j(!w),className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-slate-600 hover:bg-slate-700 text-white font-medium transition-colors duration-200 text-sm",children:[r.jsx("span",{children:w?"−":"+"}),r.jsx("span",{children:"More"})]})]}),w&&r.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 border border-slate-600",children:[r.jsx("h4",{className:"text-sm font-semibold text-text-light mb-3 flex items-center",children:"Research Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"text-xs font-medium text-text-dark uppercase tracking-wide",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:()=>navigator.clipboard.writeText(c.analysis),className:"w-full flex items-center justify-between p-2 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors duration-200",children:[r.jsx("span",{className:"text-xs text-text-light",children:"Copy Analysis"}),r.jsx("span",{className:"text-text-dark",children:"📋"})]}),r.jsxs("button",{onClick:()=>window.open(`https://www.google.com/search?q=${encodeURIComponent(c.query)}`,"_blank"),className:"w-full flex items-center justify-between p-2 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors duration-200",children:[r.jsx("span",{className:"text-xs text-text-light",children:"Google Search"}),r.jsx("span",{className:"text-text-dark",children:"🔍"})]}),r.jsxs("button",{onClick:()=>window.open(`https://scholar.google.com/scholar?q=${encodeURIComponent(c.query)}`,"_blank"),className:"w-full flex items-center justify-between p-2 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors duration-200",children:[r.jsx("span",{className:"text-xs text-text-light",children:"Google Scholar"}),r.jsx("span",{className:"text-text-dark",children:"📚"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"text-xs font-medium text-text-dark uppercase tracking-wide",children:"Research Info"}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-text-dark",children:"Query:"}),r.jsx("span",{className:"text-text-light font-medium",children:c.query})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-text-dark",children:"Images:"}),r.jsx("span",{className:"text-text-light",children:c.images.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-text-dark",children:"Sources:"}),r.jsx("span",{className:"text-text-light",children:c.sources.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-text-dark",children:"Timestamp:"}),r.jsx("span",{className:"text-text-light",children:new Date(c.timestamp).toLocaleString()})]})]})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-600",children:[r.jsx("h5",{className:"text-xs font-medium text-text-dark uppercase tracking-wide mb-2",children:"Export Options"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>{const F=JSON.stringify(c,null,2),ae=new Blob([F],{type:"application/json"}),le=URL.createObjectURL(ae),ce=document.createElement("a");ce.href=le,ce.download=`research-${c.query.replace(/[^a-z0-9]/gi,"-")}.json`,ce.click()},className:"px-2 py-1 bg-slate-700 hover:bg-slate-600 rounded-md text-xs text-text-light transition-colors duration-200",children:"📄 Export JSON"}),r.jsx("button",{onClick:()=>{const F=`Research: ${c.query}

${c.analysis}

Sources: ${c.sources.map(pe=>pe.title).join(", ")}`,ae=new Blob([F],{type:"text/plain"}),le=URL.createObjectURL(ae),ce=document.createElement("a");ce.href=le,ce.download=`research-${c.query.replace(/[^a-z0-9]/gi,"-")}.txt`,ce.click()},className:"px-2 py-1 bg-slate-700 hover:bg-slate-600 rounded-md text-xs text-text-light transition-colors duration-200",children:"📝 Export Text"})]})]})]})]})},zu=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),U0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block mr-2",children:[r.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),r.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),B0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block mr-2",children:[r.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]}),q0=()=>{const{setQuickActionModal:c}=Cn(),[f,m]=J.useState(""),[d,y]=J.useState(!1),[v,w]=J.useState(null),[j,k]=J.useState(""),[K,B]=J.useState(null),I=async()=>{if(f.trim()){y(!0),k(""),w(null);try{const ie=await Ju(f.trim());w(ie)}catch(ie){k(ie instanceof Error?ie.message:"Research failed. Please try again.")}finally{y(!1)}}},F=ie=>{window.open(ie.link,"_blank")},ae=ie=>{ie.key==="Enter"&&I()},le=ie=>{B(ie),setTimeout(()=>B(null),3e3)},ce=async ie=>{try{await cs.addToIntel(ie),le(`✅ Research added to Intel: ${ie.query}`)}catch(ke){le(`❌ Failed to add to Intel: ${ke}`)}},pe=async ie=>{try{await cs.addToLab(ie),le(`✅ Research added to Lab: ${ie.query}`)}catch(ke){le(`❌ Failed to add to Lab: ${ke}`)}},Ne=async ie=>{try{await cs.addToMagnaCarta(ie),le(`✅ Research added to Magna Carta: ${ie.query}`)}catch(ke){le(`❌ Failed to add to Magna Carta: ${ke}`)}},oe=async ie=>{try{await cs.addToGrind(ie),le(`✅ Research added to Grind: ${ie.query}`)}catch(ke){le(`❌ Failed to add to Grind: ${ke}`)}},fe=async ie=>{try{await cs.addToAnalyzer(ie),le(`✅ Research sent to Analyzer: ${ie.query}`)}catch(ke){le(`❌ Failed to send to Analyzer: ${ke}`)}};return r.jsxs("div",{className:"h-full flex flex-col bg-slate-900 overflow-hidden",children:[r.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-slate-700 bg-slate-800",children:[r.jsx("h1",{className:"text-xl font-bold text-primary mb-2",children:"Research Agent"}),r.jsx("p",{className:"text-secondary text-xs",children:"Get comprehensive research results with AI analysis and visual aids"})]}),r.jsx("div",{className:"flex-shrink-0 p-3 border-b border-slate-700 bg-slate-800",children:r.jsxs("div",{className:"flex",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(zu,{}),r.jsx("input",{type:"text",value:f,onChange:ie=>m(ie.target.value),onKeyPress:ae,placeholder:"Enter your research topic...",className:"w-full pl-12 pr-4 py-2 bg-slate-800 border border-slate-600 rounded-l-lg text-primary placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-fuchsia focus:border-transparent text-sm"})]}),r.jsx("button",{onClick:I,disabled:d||!f.trim(),className:"btn-primary px-4 py-2 rounded-r-lg flex items-center text-sm",children:d?r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(zu,{}),r.jsx("span",{className:"ml-2",children:"Research"})]})})]})}),K&&r.jsx("div",{className:"flex-shrink-0 mx-4 mt-2 p-2 bg-success/20 border border-success/30 rounded-lg",children:r.jsx("p",{className:"text-success text-xs",children:K})}),j&&r.jsx("div",{className:"flex-shrink-0 mx-4 mt-2 p-2 bg-danger/20 border border-danger/30 rounded-lg",children:r.jsx("p",{className:"text-danger text-xs",children:j})}),v&&r.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[r.jsxs("div",{className:"card-enhanced p-3",children:[r.jsxs("h2",{className:"text-base font-semibold text-primary mb-2 flex items-center",children:[r.jsx(B0,{}),"Research Analysis: ",r.jsx("span",{className:"text-accent ml-1",children:v.query})]}),r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("div",{className:"text-secondary leading-relaxed text-xs max-h-24 overflow-y-auto",dangerouslySetInnerHTML:{__html:v.analysis.replace(/\n/g,"<br>")}})})]}),r.jsx(L0,{research:v,onSendToIntel:ce,onSendToLab:pe,onSendToMagnaCarta:Ne,onSendToGrind:oe,onSendToAnalyzer:fe}),r.jsx(R0,{images:v.images,title:"Research Images",maxImages:4,onImageClick:F}),v.sources.length>0&&r.jsxs("div",{className:"card-enhanced p-3",children:[r.jsxs("h3",{className:"text-sm font-semibold text-primary mb-2 flex items-center",children:[r.jsx(U0,{}),"Sources & References"]}),r.jsxs("div",{className:"space-y-1",children:[v.sources.slice(0,3).map((ie,ke)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-accent-fuchsia text-xs",children:"•"}),r.jsx("a",{href:ie.url,target:"_blank",rel:"noopener noreferrer",className:"text-info hover:text-info/80 transition-colors duration-200 text-xs truncate",children:ie.title})]},ke)),v.sources.length>3&&r.jsxs("p",{className:"text-muted text-xs text-center",children:["+",v.sources.length-3," more sources"]})]})]}),r.jsxs("div",{className:"text-center text-muted text-xs",children:["Research completed at ",new Date(v.timestamp).toLocaleString()]})]}),r.jsx("div",{className:"flex-shrink-0 p-3 border-t border-slate-700 bg-slate-800",children:r.jsx("div",{className:"text-center",children:r.jsxs("button",{onClick:()=>c("intel"),className:"inline-flex items-center px-3 py-2 bg-slate-700 hover:bg-slate-600 text-primary rounded-lg transition-colors duration-200 text-sm",children:[r.jsx(zu,{}),r.jsx("span",{className:"ml-2",children:"Quick Intel"})]})})})]})},G0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),H0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"3 6 5 6 21 6"}),r.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),K0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"10",y1:"12",x2:"14",y2:"12"}),r.jsx("line",{x1:"10",y1:"16",x2:"14",y2:"16"})]}),I0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 inline-block",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),r.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),r.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),r.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),Ru=({children:c})=>r.jsx("div",{className:"w-4 h-4 mr-2",children:c}),Y0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"9 11 12 14 22 4"}),r.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v4z"})]}),Q0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),V0=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]}),X0=({message:c})=>{const m=c.role==="user"?"bg-primary-blue self-end":"bg-slate-700 self-start";return r.jsx("div",{className:`rounded-lg p-3 max-w-md break-words ${m}`,children:r.jsx("p",{className:"text-white text-base",children:c.text})})},Z0=({note:c})=>{var f;return r.jsx("div",{className:"flex-grow w-full bg-bg-main p-6 overflow-y-auto",children:r.jsx("div",{className:"flex flex-col space-y-4",children:(f=c.conversation)==null?void 0:f.map((m,d)=>r.jsx(X0,{message:m},d))})})},F0=({note:c,onUpdate:f})=>r.jsx("textarea",{value:c.text||"",onChange:m=>f("text",m.target.value),className:"flex-grow w-full bg-bg-main p-6 text-text-light text-lg leading-relaxed focus:outline-none resize-none",placeholder:"Start writing..."},c.id),J0=()=>{const c=Xl(()=>Ie.notes.filter(B=>B.archived!==!0).sortBy("updatedAt").then(B=>B.reverse()),[]),[f,m]=J.useState(null);J.useEffect(()=>{!f&&c&&c.length>0&&m(c[0].id),f&&c&&!c.find(B=>B.id===f)&&m(c.length>0?c[0].id:null),c&&c.length===0&&m(null)},[c,f]);const d=J.useMemo(()=>{if(!(!f||!c))return c.find(B=>B.id===f)},[c,f]),y=async(B="text",I="Untitled Note",F="",ae,le)=>{const ce={id:`note_${Date.now()}`,type:B,title:I,text:F,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{},archived:!1,meta:{source:ae,originalFileName:le}},pe=await Ie.notes.add(ce);m(pe.toString())},v=B=>{Ie.notes.delete(B)},w=B=>{Ie.notes.update(B,{archived:!0,updatedAt:new Date().toISOString()})},j=(B,I)=>{if(!f)return;const F={updatedAt:new Date().toISOString()};F[B]=I,Ie.notes.update(f,F)},k=async()=>{if(!d)return;const B=`as_${Date.now()}`,I={id:B,title:d.title||"New Task from Note",status:"todo",priority:"normal",energyLevel:"medium",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{notes:[d.id]}};await Ie.assignments.add(I);const F=d.links.assignments||[];await Ie.notes.update(d.id,{"links.assignments":[...F,B]}),ye.tts.speak(`I've added "${I.title}" to The Grind for you.`),ye.page({to:"grind"})},K=async()=>{if(!d)return;const B=`${d.title||""}
${(d.text||"").substring(0,500)}`.trim();if(!B){ye.tts.speak("There's nothing in this note to analyze.");return}ye.tts.speak("Okay, running intel based on this note. This may take a moment. I'll take you to The Intel to see the results.");try{const I=await Ju(B),F=`res_${Date.now()}`,ae={id:F,query:`From Note: ${d.title}`,createdAt:new Date().toISOString(),result:I,type:"intel",links:{notes:[d.id]}};await Ie.research.add(ae);const le=d.links.research||[];await Ie.notes.update(d.id,{"links.research":[...le,F]}),ye.page({to:"intel"})}catch(I){console.error("Failed to send to intel",I),ye.tts.speak("Sorry, I hit a snag while running intel. Please try again.")}};return r.jsxs("div",{className:"h-full flex bg-bg-main",children:[r.jsxs("aside",{className:"w-1/3 max-w-xs h-full bg-gray-900 border-r border-border-color flex flex-col shrink-0",children:[r.jsxs("div",{className:"p-4 border-b border-border-color flex justify-between items-center",children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:"The Lab"}),r.jsx("button",{onClick:()=>y(),className:"p-2 rounded-lg bg-primary-blue text-white hover:opacity-90 transition-opacity","aria-label":"Create new note",children:r.jsx(G0,{})})]}),r.jsx("div",{className:"flex-grow overflow-y-auto",children:c&&c.length>0?r.jsx("ul",{children:c.map(B=>{var I,F;return r.jsx("li",{className:`border-b border-border-color last:border-b-0 ${f===B.id?"bg-slate-700/75":""}`,children:r.jsxs("button",{onClick:()=>m(B.id),className:"w-full text-left p-4 hover:bg-slate-700/50 transition-colors",children:[r.jsxs("h3",{className:"font-semibold text-white truncate flex items-center",children:[B.type==="conversation"&&r.jsx(I0,{}),B.title||"Untitled Note"]}),r.jsx("p",{className:"text-sm text-text-dark truncate mt-1",children:B.type==="conversation"?`${((I=B.conversation)==null?void 0:I.length)||0} messages`:((F=B.text)==null?void 0:F.substring(0,40))||"No content yet..."})]})},B.id)})}):r.jsx("div",{className:"p-4 text-center text-slate-500",children:r.jsx("p",{children:"No notes yet. Create one!"})})})]}),r.jsx("main",{className:"flex-grow h-full flex flex-col",children:d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 border-b border-border-color flex items-center shrink-0",children:[r.jsx("input",{type:"text",value:d.title||"",onChange:B=>j("title",B.target.value),className:"w-full bg-transparent text-2xl font-bold text-white focus:outline-none",placeholder:"Note Title",disabled:d.type==="conversation"}),r.jsx("button",{onClick:()=>w(d.id),className:"ml-4 p-2 rounded-lg text-slate-400 hover:bg-yellow-500/80 hover:text-white transition-colors shrink-0","aria-label":"Archive note",children:r.jsx(K0,{})}),r.jsx("button",{onClick:()=>v(d.id),className:"ml-2 p-2 rounded-lg text-slate-400 hover:bg-red-500/80 hover:text-white transition-colors shrink-0","aria-label":"Delete note",children:r.jsx(H0,{})})]}),r.jsx("div",{className:"flex-grow overflow-y-auto",children:d.type==="conversation"?r.jsx(Z0,{note:d}):r.jsx(F0,{note:d,onUpdate:j})}),r.jsxs("div",{className:"p-4 border-t border-border-color bg-gray-900/80 shrink-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-400 mb-2",children:"Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:k,className:"flex items-center text-sm px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors",children:[r.jsx(Ru,{children:r.jsx(Y0,{})}),"Create Grind Item"]}),r.jsxs("button",{onClick:K,className:"flex items-center text-sm px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-md transition-colors",children:[r.jsx(Ru,{children:r.jsx(Q0,{})}),"Send to Intel"]}),r.jsxs("button",{disabled:!0,className:"flex items-center text-sm px-3 py-2 bg-slate-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ru,{children:r.jsx(V0,{})}),"Link to Magna Carta"]})]})]})]}):r.jsx("div",{className:"h-full flex justify-center items-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-500",children:"Select a note or create a new one."}),r.jsx("button",{onClick:()=>y(),className:"mt-4 bg-primary-blue text-white rounded-lg px-6 py-3 font-semibold hover:opacity-90 transition-opacity",children:"Create First Note"})]})})})]})},$0="AIzaSyBpJiw1ym8tTPGI4Mi6a00qSPiudtgoDXo",W0=new bm({apiKey:$0}),P0=()=>{const[c,f]=J.useState(""),[m,d]=J.useState(""),[y,v]=J.useState([]),[w,j]=J.useState(!1),[k,K]=J.useState(""),B=async I=>{var F,ae;if(I.preventDefault(),!(!c.trim()||w)){j(!0),d(""),v([]),K("");try{const le=await W0.models.generateContent({model:"gemini-2.5-flash",contents:`Provide a detailed overview of the following school: ${c}. Include information on its history, notable programs, campus life, and admission statistics.`,config:{tools:[{googleSearch:{}}],systemInstruction:"You are an expert college guidance counselor. Provide comprehensive and well-structured information about schools based on the user's query. Use Google Search to find the most current data."}});d(le.text);const ce=(ae=(F=le.candidates)==null?void 0:F[0])==null?void 0:ae.groundingMetadata;if(ce!=null&&ce.groundingChunks){const pe=ce.groundingChunks.filter(Ne=>{var oe;return(oe=Ne.web)==null?void 0:oe.uri});v(pe)}}catch(le){console.error("Error fetching school data:",le),K("Sorry, I couldn't fetch that information. Please try again.")}finally{j(!1)}}};return r.jsxs("div",{className:"p-8 h-full flex flex-col",children:[r.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"The Campus"}),r.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Get detailed information about any college or university."}),r.jsxs("form",{onSubmit:B,className:"flex gap-4 mb-8",children:[r.jsx("input",{type:"text",value:c,onChange:I=>f(I.target.value),placeholder:"e.g., 'University of California, Berkeley'",className:"flex-grow bg-slate-700 border border-slate-600 rounded-lg p-4 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:w}),r.jsx("button",{type:"submit",disabled:w||!c.trim(),className:"bg-indigo-500 text-white rounded-lg px-6 py-4 font-semibold hover:bg-indigo-600 transition-colors disabled:bg-slate-600 disabled:cursor-not-allowed",children:w?"Searching...":"Search"})]}),r.jsxs("div",{className:"flex-grow bg-slate-800 border border-slate-700 rounded-xl p-6 overflow-y-auto",children:[w&&r.jsxs("div",{className:"flex justify-center items-center h-full",children:[r.jsx("div",{className:"w-4 h-4 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),r.jsx("div",{className:"w-4 h-4 ml-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),r.jsx("div",{className:"w-4 h-4 ml-2 bg-slate-400 rounded-full animate-pulse"})]}),k&&r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsx("p",{className:"text-red-400",children:k})}),m&&r.jsxs("div",{children:[r.jsx("div",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed",children:m}),y.length>0&&r.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sources:"}),r.jsx("ul",{className:"list-disc list-inside space-y-2",children:y.map((I,F)=>r.jsx("li",{children:r.jsx("a",{href:I.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:I.web.title||I.web.uri})},F))})]})]}),!w&&!m&&!k&&r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsx("p",{className:"text-slate-500",children:"Search for a school to see details here."})})]})]})};async function ey(c,f){const m=new TextEncoder,d=await window.crypto.subtle.importKey("raw",m.encode(c),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:f,iterations:1e5,hash:"SHA-256"},d,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function ty(c,f){const m=window.crypto.getRandomValues(new Uint8Array(16)),d=window.crypto.getRandomValues(new Uint8Array(12)),y=await ey(f,m),v=new TextEncoder,w=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:d},y,v.encode(c)),j=new Uint8Array(w),k=new Uint8Array(m.length+d.length+j.length);return k.set(m,0),k.set(d,m.length),k.set(j,m.length+d.length),btoa(String.fromCharCode.apply(null,k))}const ny=async()=>{ye.tts.speak("Prepping your unencrypted data for download.");try{const c=await Fu(),f=new Blob([c],{type:"application/json"}),m=URL.createObjectURL(f),d=document.createElement("a");d.href=m,d.download=`lex_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(m),localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString())}catch(c){console.error("Failed to create download backup:",c),ye.tts.speak("Sorry, I couldn't prepare the data download.")}},ay=async()=>{const c=prompt("Please enter a password to encrypt your backup. Remember this password, it's not recoverable.");if(!c){ye.tts.speak("Backup canceled.");return}ye.tts.speak("Encrypting your data. This might take a moment.");try{const f=await Fu(),m=await ty(f,c),d=new Blob([m],{type:"text/plain"}),y=URL.createObjectURL(d),v=document.createElement("a");v.href=y,v.download=`lex_encrypted_backup_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(y),localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString()),ye.tts.speak("Your encrypted backup has been downloaded.")}catch(f){console.error("Encryption failed:",f),ye.tts.speak("I'm sorry, the encryption process failed. Please check the console for details.")}},ly=async()=>{alert("Encrypted import is not yet implemented in this version.")},Bm=async()=>{ye.tts.speak("Prepping your data for sharing.");try{if(!navigator.share){ye.tts.speak("Device sharing is not available on this browser. Try downloading the backup instead.");return}const c=await Fu(),f=new Blob([c],{type:"application/json"}),m=new File([f],`lex_backup_${new Date().toISOString().split("T")[0]}.json`,{type:"application/json"});await navigator.share({title:"LΞX Ops Center Backup",text:"Here is my LΞX data backup.",files:[m]}),localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString())}catch(c){c.name!=="AbortError"&&(console.error("Failed to share backup:",c),ye.tts.speak("Sorry, I couldn't prepare the shareable backup."))}},iy=[{emoji:"🔥",name:"Ember"},{emoji:"✨",name:"Stardust"},{emoji:"💻",name:"Digital Rain"},{emoji:"❄️",name:"Snowfall"}],ry=({selected:c,onChange:f})=>{const m=d=>{const y=c.includes(d)?c.filter(v=>v!==d):[...c,d];f(y)};return r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:iy.map(d=>{const y=c.includes(d.emoji);return r.jsxs("button",{type:"button",onClick:()=>m(d.emoji),className:`p-3 rounded-lg border-2 transition-all duration-200 text-center
                        ${y?"bg-accent-fuchsia/20 border-accent-fuchsia text-white":"bg-slate-700 border-slate-600 text-slate-300 hover:border-slate-500"}`,children:[r.jsx("span",{className:"text-2xl",children:d.emoji}),r.jsx("span",{className:"block text-sm font-semibold mt-1",children:d.name})]},d.emoji)})})},Ma=({title:c,children:f,className:m,titleClassName:d})=>r.jsxs("div",{className:`bg-slate-800 p-6 rounded-xl border border-border-color flex flex-col ${m}`,children:[r.jsx("h2",{className:`text-xl font-bold text-white mb-4 ${d}`,children:c}),f]}),sy=({settings:c,name:f})=>{const m={fontFamily:(c==null?void 0:c.fontFamily)||"Inter",fontSize:c!=null&&c.fontSize?`${c.fontSize}px`:"2rem",fontWeight:(c==null?void 0:c.fontWeight)||"bold",letterSpacing:c!=null&&c.letterSpacing?`${c.letterSpacing}px`:void 0,color:(c==null?void 0:c.textColor)||"#FFFFFF"},d=c!=null&&c.textEffect?`text-effect-${c.textEffect}`:"";return r.jsx("div",{className:"h-full w-full bg-bg-main rounded-lg flex items-center justify-center p-4 min-h-[200px]",children:r.jsx("span",{style:m,className:d,children:f})})},oy=()=>{const{flow:c,setFlow:f,userProfile:m,updateUserProfile:d,greetingSettings:y,updateGreetingSettings:v}=Cn(),[w,j]=J.useState({profile:{},greeting:{}}),[k,K]=J.useState([]),[B,I]=J.useState(localStorage.getItem("lex_voice_preference")||""),[F,ae]=J.useState(!1),le=Xl(()=>Ie.notes.where("archived").equals(1).toArray(),[]);J.useEffect(()=>{m&&y&&!F&&(j({profile:{name:m.name,layout:m.layout||"sidebar_main_chat",borderRadius:m.borderRadius??12,emojiAmbiance:m.emojiAmbiance||[],customBackground:m.customBackground||null,backgroundBlur:m.backgroundBlur||!1,backgroundOverlay:m.backgroundOverlay||!1,backgroundPosition:m.backgroundPosition||"center"},greeting:y}),ae(!0))},[m,y,F]),J.useEffect(()=>{const P=()=>K(window.speechSynthesis.getVoices());window.speechSynthesis.onvoiceschanged=P,P()},[]);const ce=(P,xe)=>{j(Le=>({...Le,profile:{...Le.profile,[P]:xe}}))},pe=(P,xe)=>{const Le=P==="fontSize"||P==="letterSpacing"||P==="fontWeight"?Number(xe):xe;j($e=>({...$e,greeting:{...$e.greeting,[P]:Le}}))},Ne=P=>{const xe=P.target.value;I(xe),localStorage.setItem("lex_voice_preference",xe),za.reloadVoicePreference()},oe=()=>{if(!B)return;const P=new SpeechSynthesisUtterance("This is the selected voice for LEX."),xe=k.find(Le=>Le.voiceURI===B);xe&&(P.voice=xe,window.speechSynthesis.speak(P))},fe=async P=>{await Ie.notes.update(P,{archived:!1}),ye.tts.speak("Note restored to The Lab.")},ie=()=>{w.profile.name&&d(w.profile),v(w.greeting),ye.tts.speak("Your settings have been locked in.")},ke=async()=>{window.confirm("WARNING: This will permanently delete all your data. This action cannot be undone. Are you sure?")&&window.confirm("FINAL WARNING: Are you absolutely sure you want to erase everything?")&&(window.location.href="/?fresh=true")};return r.jsxs("div",{className:"p-8 h-full overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"The Garage"}),r.jsx("p",{className:"text-lg text-text-dark",children:"Tune the engine. Calibrate your co-pilot."})]}),r.jsx("button",{onClick:ie,className:"px-6 py-3 rounded-lg font-semibold bg-primary-blue text-white hover:opacity-90 transition-opacity",children:"Save All Settings"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsx(Ma,{title:"Your Profile",children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-400 mb-1",children:"Operator Name"}),r.jsx("input",{id:"name",type:"text",value:w.profile.name||"",onChange:P=>ce("name",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]})})}),r.jsx(Ma,{title:"Prestige UI",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"layout",className:"block text-sm font-medium text-slate-400 mb-1",children:"App Layout"}),r.jsxs("select",{id:"layout",name:"layout",value:w.profile.layout||"sidebar_main_chat",onChange:P=>ce("layout",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600",children:[r.jsx("option",{value:"sidebar_main_chat",children:"Sidebar | Main | Chat"}),r.jsx("option",{value:"main_sidebar_chat",children:"Main | Sidebar | Chat"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"borderRadius",className:"block text-sm font-medium text-slate-400 mb-1",children:["UI Roundness: ",w.profile.borderRadius,"px"]}),r.jsx("input",{type:"range",id:"borderRadius",name:"borderRadius",min:"0",max:"24",value:w.profile.borderRadius||12,onChange:P=>ce("borderRadius",Number(P.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"})]})]})}),r.jsxs(Ma,{title:"Lex Flow Meter",children:[r.jsx("p",{className:"text-slate-400 mb-2",children:"Controls my personality and use of slang."}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"range",min:"0",max:"100",value:c,onChange:P=>f(Number(P.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"}),r.jsx("span",{className:"font-semibold text-white w-24 text-right text-sm",children:c>=90?"Hustle":c>=40?"Mid":"Pro"})]})]}),r.jsx(Ma,{title:"Background Ambiance",className:"lg:col-span-3",children:r.jsx(ry,{selected:w.profile.emojiAmbiance||[],onChange:P=>ce("emojiAmbiance",P)})}),r.jsx(Ma,{title:"Background Customization",className:"lg:col-span-3",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-secondary text-sm",children:"Upload your own background image to personalize the LEX Ops Center experience."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-secondary",children:"Current Background"}),r.jsx("div",{className:"relative w-full h-32 bg-slate-700 rounded-lg overflow-hidden border border-slate-600",children:w.profile.customBackground?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:w.profile.customBackground,alt:"Custom background",className:"w-full h-full object-cover"}),r.jsx("button",{onClick:()=>ce("customBackground",null),className:"absolute top-2 right-2 bg-danger/80 hover:bg-danger text-white rounded-full p-1 transition-colors duration-200",title:"Remove background",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("p",{className:"text-xs",children:"No custom background set"})]})})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-secondary",children:"Upload New Background"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:P=>{var Le;const xe=(Le=P.target.files)==null?void 0:Le[0];if(xe){if(xe.size>10*1024*1024){alert("File size must be less than 10MB");return}if(!xe.type.startsWith("image/")){alert("Please select a valid image file");return}const $e=new FileReader;$e.onload=dt=>{var rt;const cn=(rt=dt.target)==null?void 0:rt.result;ce("customBackground",cn)},$e.onerror=()=>{alert("Error reading file. Please try again.")},$e.readAsDataURL(xe)}},className:"hidden",id:"background-upload"}),r.jsxs("label",{htmlFor:"background-upload",className:"btn-primary cursor-pointer flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("span",{children:"Choose Image"})]}),r.jsx("span",{className:"text-xs text-muted",children:"Supports: JPG, PNG, GIF, WebP (Max: 10MB)"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-secondary",children:"Background Options"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"background-blur",checked:w.profile.backgroundBlur||!1,onChange:P=>ce("backgroundBlur",P.target.checked),className:"rounded border-slate-600 text-interactive-primary focus:ring-interactive-primary"}),r.jsx("label",{htmlFor:"background-blur",className:"text-sm text-secondary",children:"Add subtle blur effect"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"background-overlay",checked:w.profile.backgroundOverlay||!1,onChange:P=>ce("backgroundOverlay",P.target.checked),className:"rounded border-slate-600 text-interactive-primary focus:ring-interactive-primary"}),r.jsx("label",{htmlFor:"background-overlay",className:"text-sm text-secondary",children:"Add dark overlay for readability"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[r.jsx("button",{onClick:()=>{ce("customBackground",null),ce("backgroundBlur",!1),ce("backgroundOverlay",!1),ce("backgroundPosition","center")},className:"px-3 py-1 bg-slate-700 hover:bg-slate-600 text-secondary rounded text-xs transition-colors duration-200",children:"Reset to Default"}),r.jsx("span",{className:"text-xs text-muted",children:"Removes custom background and resets all options"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-secondary",children:"Background Position"}),r.jsxs("select",{value:w.profile.backgroundPosition||"center",onChange:P=>ce("backgroundPosition",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-sm",children:[r.jsx("option",{value:"center",children:"Center"}),r.jsx("option",{value:"top",children:"Top"}),r.jsx("option",{value:"bottom",children:"Bottom"}),r.jsx("option",{value:"left",children:"Left"}),r.jsx("option",{value:"right",children:"Right"}),r.jsx("option",{value:"top-left",children:"Top Left"}),r.jsx("option",{value:"top-right",children:"Top Right"}),r.jsx("option",{value:"bottom-left",children:"Bottom Left"}),r.jsx("option",{value:"bottom-right",children:"Bottom Right"})]})]})]})}),r.jsx(Ma,{title:"Enhanced Greeting Personalization",className:"lg:col-span-3",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Font Family"}),r.jsxs("select",{name:"fontFamily",value:w.greeting.fontFamily||"Inter",onChange:P=>pe("fontFamily",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600",children:[r.jsx("option",{children:"Inter"}),r.jsx("option",{children:"Poppins"}),r.jsx("option",{children:"JetBrains Mono"}),r.jsx("option",{children:"Georgia"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Text Color"}),r.jsx("input",{name:"textColor",type:"color",value:w.greeting.textColor||"#FFFFFF",onChange:P=>pe("textColor",P.target.value),className:"w-full bg-slate-700 rounded-md p-1 border border-slate-600"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Font Size (px)"}),r.jsx("input",{type:"number",name:"fontSize",value:w.greeting.fontSize||32,onChange:P=>pe("fontSize",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Font Weight"}),r.jsx("input",{type:"number",step:"100",name:"fontWeight",value:w.greeting.fontWeight||700,onChange:P=>pe("fontWeight",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Spacing (px)"}),r.jsx("input",{type:"number",name:"letterSpacing",value:w.greeting.letterSpacing||0,onChange:P=>pe("letterSpacing",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Text Effect"}),r.jsxs("select",{name:"textEffect",value:w.greeting.textEffect||"none",onChange:P=>pe("textEffect",P.target.value),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600",children:[r.jsx("option",{value:"none",children:"None"}),r.jsx("option",{value:"glow",children:"Glow"}),r.jsx("option",{value:"fire",children:"Fire"}),r.jsx("option",{value:"electric",children:"Electric"})]})]})]}),r.jsx(sy,{settings:w.greeting,name:w.profile.name||"Operator"})]})}),r.jsxs(Ma,{title:"Voice Narration",children:[r.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:"Select the system voice for read-aloud features."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:B,onChange:Ne,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-sm",children:[r.jsx("option",{value:"",children:"System Default"}),k.filter(P=>P.lang.startsWith("en-")).map(P=>r.jsxs("option",{value:P.voiceURI,children:[P.name," (",P.lang,")"]},P.voiceURI))]}),r.jsx("button",{onClick:oe,className:"px-3 py-2 rounded-lg font-semibold bg-slate-600 hover:bg-slate-500 text-sm",children:"Test"})]})]}),r.jsx(Ma,{title:"Archived Notes",className:"lg:col-span-2",children:r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:le&&le.length>0?le.map(P=>r.jsxs("div",{className:"flex justify-between items-center bg-slate-700/50 p-2 rounded-md",children:[r.jsx("span",{className:"text-sm truncate",children:P.title}),r.jsx("button",{onClick:()=>fe(P.id),className:"text-xs font-semibold bg-indigo-500 px-2 py-1 rounded hover:bg-indigo-400",children:"Restore"})]},P.id)):r.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No archived notes."})})}),r.jsxs(Ma,{title:"Data Management",className:"lg:col-span-3",children:[r.jsxs("div",{className:"bg-yellow-900/50 border border-yellow-700 text-yellow-300 text-sm rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"font-bold",children:"Heads Up: Your data is stored only in this browser."}),r.jsx("p",{className:"mt-1",children:"It is not backed up online. If you clear your browser data or use a different device, your information will be lost. Use the tools below to back up your data regularly."})]}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("button",{onClick:ny,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Download Unencrypted JSON"}),r.jsx("button",{onClick:ay,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Export Encrypted File"}),r.jsx("button",{onClick:ly,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Import Encrypted File"}),r.jsx("button",{onClick:Bm,className:"px-4 py-2 rounded-lg font-semibold bg-slate-600 text-slate-200 hover:bg-slate-500",children:"Share Backup"}),r.jsx("button",{onClick:ke,className:"px-4 py-2 rounded-lg font-semibold bg-warning-red/80 text-white hover:opacity-90",children:"Reset All Data"})]})]})]})]})},Oo=({htmlFor:c,children:f})=>r.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-slate-400 mb-1",children:f}),hm=({children:c,...f})=>r.jsx("select",{...f,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white capitalize focus:outline-none focus:ring-2 focus:ring-indigo-500",children:c}),cy=({goal:c,onClose:f})=>{const[m,d]=J.useState({title:"",description:"",domain:"academic",horizon:"short",status:"not_started",links:{}});J.useEffect(()=>{d(c||{title:"",description:"",domain:"academic",horizon:"short",status:"not_started",links:{}})},[c]);const y=w=>{const{name:j,value:k}=w.target;d(K=>({...K,[j]:k}))},v=async w=>{w.preventDefault();const j=new Date().toISOString(),k={title:m.title||"Untitled Goal",description:m.description,domain:m.domain,horizon:m.horizon,status:m.status,why:m.why,links:m.links||{},updatedAt:j};try{c?await Ie.goals.update(c.id,k):await Ie.goals.add({...k,id:`goal_${Date.now()}`,createdAt:j,links:{}}),f()}catch(K){console.error("Failed to save goal:",K),alert("Could not save the goal. Check the console for details.")}};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex justify-center items-center",onClick:f,children:r.jsx("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg border border-slate-700 p-6",onClick:w=>w.stopPropagation(),children:r.jsxs("form",{onSubmit:v,children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:c?"Edit Goal":"New Goal"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Oo,{htmlFor:"title",children:"Goal Title"}),r.jsx("input",{id:"title",name:"title",type:"text",value:m.title,onChange:y,onFocus:w=>ye.context.setDictationTarget(w.target),onBlur:()=>ye.context.setDictationTarget(null),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx(Oo,{htmlFor:"description",children:"Description / Why"}),r.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:y,onFocus:w=>ye.context.setDictationTarget(w.target),onBlur:()=>ye.context.setDictationTarget(null),rows:3,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"What is this goal and why does it matter?"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Oo,{htmlFor:"domain",children:"Domain"}),r.jsx(hm,{id:"domain",name:"domain",value:m.domain,onChange:y,children:["academic","career","activities","personal"].map(w=>r.jsx("option",{value:w,children:w},w))})]}),r.jsxs("div",{children:[r.jsx(Oo,{htmlFor:"horizon",children:"Horizon"}),r.jsx(hm,{id:"horizon",name:"horizon",value:m.horizon,onChange:y,children:["short","mid","long"].map(w=>r.jsx("option",{value:w,children:w},w))})]})]})]}),r.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600 transition-colors",children:c?"Save Changes":"Add Goal"})]})]})})})},uy=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.94.44c-.45-.88-.13-1.9.8-2.68"}),r.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.94.44c.45-.88.13-1.9-.8-2.68"})]}),dy=()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})}),fy=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),hy=({suggestedGoals:c})=>{const[f,m]=J.useState(c),d=v=>{m(w=>w.some(j=>j.title===v.title)?w.filter(j=>j.title!==v.title):[...w,v])},y=async()=>{if(f.length===0)return;const v=f.map(w=>({id:`goal_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"not_started",links:{},...w}));await Ie.goals.bulkAdd(v),ye.tts.speak(`Locked in. I've added ${v.length} new goals to your Magna Carta.`),m([])};return r.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-lg mt-6 border border-border-color",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Suggested Goals"}),r.jsx("div",{className:"space-y-2 mb-4",children:c.map((v,w)=>r.jsxs("div",{onClick:()=>d(v),className:"flex items-center gap-3 p-2 bg-slate-800 rounded-md cursor-pointer hover:bg-slate-700/50",children:[r.jsx("div",{className:`w-5 h-5 rounded border-2 flex-shrink-0 flex items-center justify-center ${f.some(j=>j.title===v.title)?"bg-accent-fuchsia border-accent-fuchsia":"border-slate-600"}`,children:f.some(j=>j.title===v.title)&&r.jsx(dy,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white text-sm",children:v.title}),r.jsx("p",{className:"text-xs text-slate-400",children:v.description})]})]},w))}),r.jsxs("button",{onClick:y,disabled:f.length===0,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold bg-accent-fuchsia text-white hover:opacity-90 transition-colors disabled:opacity-50",children:[r.jsx(fy,{})," Add ",f.length," Goal(s) to Magna Carta"]})]})},my=({blueprint:c})=>{const f=m=>r.jsx("ul",{className:"space-y-2",children:m.map((d,y)=>r.jsxs("li",{className:"text-sm text-slate-300",children:["- ",d.title,": ",d.description]},y))});return r.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-3",children:[r.jsxs("div",{className:"prose prose-invert max-w-none prose-p:text-slate-300 prose-headings:text-white prose-headings:font-semibold prose-headings:text-lg",children:[r.jsx("h4",{children:"Key Responsibilities"}),r.jsx("ul",{children:c.key_responsibilities.map((m,d)=>r.jsx("li",{children:m},d))}),r.jsx("h4",{children:"Required Skills"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Hard Skills:"}),r.jsx("ul",{children:c.required_skills.hard.map((m,d)=>r.jsx("li",{children:m},d))})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Soft Skills:"}),r.jsx("ul",{children:c.required_skills.soft.map((m,d)=>r.jsx("li",{children:m},d))})]})]}),r.jsx("h4",{children:"Educational Pathway"}),f(c.education_pathway),r.jsx("h4",{children:"Extracurricular Activities"}),f(c.extracurricular_activities),r.jsx("h4",{children:"Community Service"}),f(c.community_service),r.jsx("h4",{children:"College Recommendations"}),r.jsx("ul",{className:"space-y-2",children:c.college_recommendations.map((m,d)=>r.jsxs("li",{children:[r.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline font-bold",children:m.name}),": ",m.reasoning]},d))})]}),r.jsx(hy,{suggestedGoals:c.suggested_goals})]})},py=()=>{const[c,f]=J.useState(""),[m,d]=J.useState(!1),[y,v]=J.useState(""),[w,j]=J.useState(null),k=async B=>{if(B.preventDefault(),!(!c.trim()||m)){d(!0),v(""),j(null),ye.tts.speak(`Analyzing career path for ${c}. This may take a moment.`);try{const I=await _0(c,`User is exploring the career of a ${c}.`),F={id:`res_career_${Date.now()}`,query:`Career Analysis: ${c}`,createdAt:new Date().toISOString(),result:I,type:"career_analysis",links:{}};await Ie.research.add(F),j(I),ye.tts.speak(`Analysis complete. Here is the blueprint for becoming a ${c}.`)}catch(I){console.error("Career analysis failed:",I);const F="Sorry, I encountered an error during the analysis. Please try again.";v(F),ye.tts.speak(F)}finally{d(!1)}}},K=()=>m?r.jsx("div",{className:"flex justify-center items-center h-48",children:r.jsxs("div",{className:"flex items-center gap-3 text-slate-300",children:[r.jsx("div",{className:"lex-console-thinking-ring border-t-accent-fuchsia w-8 h-8 !border-2"}),r.jsx("span",{children:"Analyzing career trajectory..."})]})}):y?r.jsx("div",{className:"text-center text-warning-red py-8",children:r.jsx("p",{children:y})}):w?r.jsx(my,{blueprint:w}):r.jsx("div",{className:"text-center text-slate-400 py-8",children:r.jsx("p",{children:"What career path should I analyze for you?"})});return r.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-border-color",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Career Blueprint"}),r.jsxs("form",{onSubmit:k,className:"flex gap-4 mb-6",children:[r.jsx("input",{type:"text",value:c,onChange:B=>f(B.target.value),onFocus:B=>ye.context.setDictationTarget(B.target),onBlur:()=>ye.context.setDictationTarget(null),placeholder:"e.g., Doctor, Software Engineer, Graphic Designer",className:"flex-grow bg-slate-700 border border-slate-600 rounded-lg p-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-accent-fuchsia",disabled:m}),r.jsxs("button",{type:"submit",disabled:m||!c.trim(),className:"flex items-center gap-3 px-6 py-3 rounded-lg font-semibold bg-accent-fuchsia text-white hover:opacity-90 transition-colors disabled:bg-slate-600 disabled:cursor-not-allowed",children:[r.jsx(uy,{}),m?"Analyzing...":"Analyze"]})]}),K()]})},gy=()=>{const{userProfile:c}=Cn();return c?r.jsx("div",{className:"mb-8 flex items-center gap-4 bg-slate-800 p-4 rounded-xl border border-border-color",children:r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Operator: ",c.name]}),r.jsx("div",{className:"flex items-center gap-2 mt-1",children:c.isDayOne&&r.jsx("span",{className:"text-xs font-bold text-teal-300 bg-teal-800/50 px-3 py-1 rounded-full animate-pulse",children:"⭐ Day One"})})]})}):null},yy=({goals:c,onEditGoal:f})=>{const m=["academic","career","activities","personal"],d=["long","mid","short"];return r.jsx("div",{className:"space-y-8 mt-8 pt-8 border-t border-border-color",children:m.map(y=>r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold capitalize text-white mb-4",children:y}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(v=>{const w=c.filter(j=>j.domain===y&&j.horizon===v);return r.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 border border-border-color",children:[r.jsxs("h3",{className:"font-semibold capitalize text-slate-400 mb-3",children:[v,"-Term"]}),r.jsx("div",{className:"space-y-2",children:w.length>0?w.map(j=>r.jsxs("button",{onClick:()=>f(j),className:"w-full text-left bg-slate-700 p-3 rounded-lg text-sm hover:bg-slate-600 transition-colors",children:[r.jsx("p",{className:"font-semibold text-white",children:j.title}),j.description&&r.jsx("p",{className:"text-xs text-slate-400 mt-1 truncate",children:j.description})]},j.id)):r.jsx("p",{className:"text-xs text-slate-500",children:"No goals set."})})]},v)})})]},y))})},vy=()=>{const[c,f]=J.useState(!1),[m,d]=J.useState(null),y=Xl(()=>Ie.goals.toArray(),[]),v=J.useCallback(()=>{d(null),f(!0)},[]),w=J.useCallback(k=>{d(k),f(!0)},[]),j=J.useCallback(()=>{f(!1),d(null)},[]);return r.jsxs("div",{className:"p-8 h-full flex flex-col overflow-y-auto",children:[r.jsx(gy,{}),r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"The Magna Carta"}),r.jsx("p",{className:"text-lg text-text-dark",children:"Your master strategy. The vision for your entire operation."})]}),r.jsx("button",{onClick:v,className:"px-6 py-3 rounded-lg font-semibold bg-primary-blue text-white hover:opacity-90 transition-opacity",children:"Add Goal"})]}),r.jsx(py,{}),r.jsx(yy,{goals:y||[],onEditGoal:w}),c&&r.jsx(cy,{goal:m,onClose:j})]})},xy=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),by=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"8 6 8 18"}),r.jsx("polyline",{points:"16 6 16 18"}),r.jsx("polyline",{points:"12 6 12 18"})]}),wy=()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M21 12H3M12 21V3"})}),jy=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"6",y:"2",width:"4",height:"20"}),r.jsx("rect",{x:"14",y:"2",width:"4",height:"20"}),r.jsx("rect",{x:"2",y:"2",width:"4",height:"20"})]}),Sy=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"8",x2:"16",y2:"16"}),r.jsx("line",{x1:"8",y1:"8",x2:"8",y2:"16"})]}),Ny=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]}),Ty=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),ky=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"})]}),Ay=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Ey=()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),_y={low:"text-blue-400",medium:"text-green-400",deep:"text-yellow-400"},Oy=({energy:c})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:_y[c],children:[r.jsx("path",{d:"M17 18a5 5 0 0 0-10 0"}),r.jsx("path",{d:"M12 2v11"}),r.jsx("path",{d:"M12 22v-3"}),r.jsx("path",{d:c==="low"?"":c==="medium"?"M20 13h-4":"M20 13h-4M4 13H8"}),r.jsx("path",{d:c==="deep"?"m19.4 8.6-.4.4M5 8.2l.4.4":""})]}),Dy={low:"border-l-blue-500",normal:"border-l-green-500",high:"border-l-yellow-500",urgent:"border-l-red-500"},Cy=c=>c?new Date(c).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"No due date",$u=({assignment:c,onEdit:f,isGhost:m})=>{const d=c.links.notes&&c.links.notes.length>0||c.links.research&&c.links.research.length>0,y=new Date,v=c.dueISO?new Date(c.dueISO):null,w=c.status==="done",j=v?v<y&&!w:!1,k=v?!j&&!w&&(v.getTime()-y.getTime())/(1e3*60*60)<24:!1,K=()=>j?"border-l-warning-red bg-warning-red/10":k?"border-l-yellow-500":Dy[c.priority];return r.jsxs("div",{onClick:()=>f(c),className:`bg-slate-800 rounded p-3 border border-border-color border-l-4 cursor-pointer hover:bg-slate-700/50 transition-colors shadow-sm
            ${K()} ${m?"opacity-50":""} ${c.priority==="urgent"&&!w?"animate-pulse-border":""}`,children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:c.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-text-dark",children:[r.jsxs("div",{className:"flex items-center gap-1.5",title:"Due Date",children:[r.jsx(Ty,{}),r.jsx("span",{className:j?"text-warning-red font-bold":"",children:Cy(c.dueISO)})]}),r.jsxs("div",{className:"flex items-center gap-1.5 capitalize",title:"Energy Level",children:[r.jsx(Oy,{energy:c.energyLevel}),r.jsx("span",{children:c.energyLevel})]}),(d||c.goalId)&&r.jsxs("div",{className:"flex items-center gap-2",title:"Linked Items",children:[c.goalId&&r.jsx(Ey,{}),c.links.notes&&c.links.notes.length>0&&r.jsx(ky,{}),c.links.research&&c.links.research.length>0&&r.jsx(Ay,{})]})]}),r.jsx("style",{children:`
                @keyframes pulse-border {
                    0%, 100% { border-left-color: var(--warning-red); }
                    50% { border-left-color: #f87171; } /* red-400 */
                }
                .animate-pulse-border {
                    animation: pulse-border 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
                }
            `})]})},My=[{id:"todo",title:"To Do",color:"bg-slate-700"},{id:"in_progress",title:"In Progress",color:"bg-indigo-900/50"},{id:"done",title:"Done",color:"bg-green-900/50"}],zy=({title:c,status:f,color:m,assignments:d,onDragStart:y,onDragOver:v,onDrop:w,onEdit:j,isOver:k})=>r.jsxs("div",{className:`w-full md:w-1/3 p-2 rounded-lg h-full flex flex-col ${k?"bg-slate-600/50":""} transition-colors`,onDragOver:v,onDrop:K=>w(K,f),children:[r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-t-lg ${m}`,children:[r.jsx("h3",{className:"font-bold text-white",children:c}),r.jsx("span",{className:"text-sm font-semibold text-slate-300 bg-black/20 px-2 py-0.5 rounded-full",children:d.length})]}),r.jsx("div",{className:"p-2 space-y-3 overflow-y-auto h-full",children:d.map(K=>r.jsx("div",{draggable:!0,onDragStart:B=>y(B,K),children:r.jsx($u,{assignment:K,onEdit:j})},K.id))})]}),Ry=({assignments:c,onUpdateStatus:f,onEdit:m})=>{const[d,y]=J.useState(null),[v,w]=J.useState(null),j=J.useMemo(()=>My.map(F=>({...F,assignments:c.filter(ae=>ae.status===F.id).sort((ae,le)=>{const ce={urgent:4,high:3,normal:2,low:1};return ce[le.priority]-ce[ae.priority]})})),[c]),k=(F,ae)=>{y(ae.id),F.dataTransfer.effectAllowed="move",F.dataTransfer.setData("text/plain",ae.id)},K=F=>{F.preventDefault();const ae=F.target.closest("[data-lane-status]");ae&&w(ae.getAttribute("data-lane-status"))},B=()=>{w(null)},I=(F,ae)=>{if(F.preventDefault(),d){const le=c.find(ce=>ce.id===d);le&&le.status!==ae&&f(d,ae)}y(null),w(null)};return r.jsx("div",{className:"flex flex-col md:flex-row p-4 gap-4 h-full",onDragLeave:B,children:j.map(F=>r.jsx("div",{className:"w-full md:w-1/3 h-full flex flex-col","data-lane-status":F.id,children:r.jsx(zy,{title:F.title,status:F.id,color:F.color,assignments:F.assignments,onDragStart:k,onDragOver:K,onDrop:I,onEdit:m,isOver:v===F.id})},F.id))})},Ly=({assignments:c,onEdit:f})=>{const m=Array.from({length:7},(v,w)=>{const j=new Date;return j.setDate(j.getDate()+w),j}),d=v=>{const w=new Date(v.getFullYear(),v.getMonth(),v.getDate()).toISOString(),j=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59).toISOString();return c.filter(k=>k.dueISO&&k.dueISO>=w&&k.dueISO<=j).sort((k,K)=>(k.dueISO||"").localeCompare(K.dueISO||""))},y=v=>{const w=new Date;return v.getDate()===w.getDate()&&v.getMonth()===w.getMonth()&&v.getFullYear()===w.getFullYear()};return r.jsx("div",{className:"p-4 h-full flex overflow-x-auto",children:r.jsx("div",{className:"flex gap-4 min-w-max",children:m.map(v=>{const w=d(v),j=w.some(K=>K.priority==="urgent"&&K.status!=="done"),k=["p-3","border-b","border-slate-700","rounded-t-lg","transition-all"];return y(v)?k.push("bg-indigo-600"):k.push("bg-slate-700/50"),j&&k.push("border-t-4 border-t-red-500/80"),r.jsxs("div",{className:"w-80 h-full bg-slate-800/70 rounded-lg flex flex-col shrink-0",children:[r.jsxs("div",{className:k.join(" "),children:[r.jsx("h3",{className:"font-bold text-white text-center",children:v.toLocaleDateString(void 0,{weekday:"long"})}),r.jsx("p",{className:"text-sm text-slate-300 text-center",children:v.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),r.jsx("div",{className:"p-3 space-y-3 overflow-y-auto flex-grow",children:w.length>0?w.map(K=>r.jsx($u,{assignment:K,onEdit:f},K.id)):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("p",{className:"text-slate-500 text-sm",children:"No items due."})})})]},v.toISOString())})})})},Uy=c=>{if(c.status==="done")return"backlog";const f=c.priority==="high"||c.priority==="urgent";let m=!1;if(c.dueISO){const d=new Date(c.dueISO),y=new Date;m=(d.getTime()-y.getTime())/(1e3*60*60)<=48}return f&&m?"crush":f&&!m?"schedule":!f&&m?"quick":"backlog"},Do=({title:c,description:f,assignments:m,onEdit:d,className:y})=>r.jsxs("div",{className:`bg-slate-800/60 p-4 rounded-xl flex flex-col ${y}`,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-bold text-white text-lg",children:c}),r.jsx("p",{className:"text-sm text-slate-400",children:f})]}),r.jsx("div",{className:"space-y-3 overflow-y-auto flex-grow pr-2",children:m.length>0?m.map(v=>r.jsx($u,{assignment:v,onEdit:d},v.id)):r.jsx("div",{className:"flex items-center justify-center h-full text-slate-600 text-sm",children:"Empty"})})]}),By=({assignments:c,onEdit:f})=>{const m=J.useMemo(()=>{const d={crush:[],schedule:[],quick:[],backlog:[]};return c.filter(y=>y.status!=="done").forEach(y=>{const v=Uy(y);d[v].push(y)}),Object.values(d).forEach(y=>y.sort((v,w)=>(v.dueISO||"").localeCompare(w.dueISO||""))),d},[c]);return r.jsx("div",{className:"p-4 h-full",children:r.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-4 h-full",children:[r.jsx(Do,{title:"Crush Now",description:"Urgent & Important",assignments:m.crush,onEdit:f,className:"border-2 border-red-500/50"}),r.jsx(Do,{title:"Schedule",description:"Not Urgent & Important",assignments:m.schedule,onEdit:f,className:"border border-slate-700"}),r.jsx(Do,{title:"Quick Hit",description:"Urgent & Not Important",assignments:m.quick,onEdit:f,className:"border border-slate-700"}),r.jsx(Do,{title:"Backlog",description:"Not Urgent & Not Important",assignments:m.backlog,onEdit:f,className:"border border-slate-700"})]})})},qy=c=>c?new Date(c).toLocaleDateString():"N/A",mm={low:"bg-blue-600/50 text-blue-300",normal:"bg-green-600/50 text-green-300",high:"bg-yellow-600/50 text-yellow-300",urgent:"bg-red-600/50 text-red-300"},pm={backlog:"bg-slate-600 text-slate-300",todo:"bg-sky-600/80 text-sky-200",in_progress:"bg-indigo-600/80 text-indigo-200",done:"bg-emerald-600/70 text-emerald-200"},Co=({label:c,isActive:f,onClick:m})=>r.jsx("button",{onClick:m,className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${f?"bg-indigo-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:c}),Gy=({assignments:c,onEdit:f})=>{const[m,d]=J.useState("all"),[y,v]=J.useState("all"),w=J.useMemo(()=>c.filter(j=>m==="all"||j.status===m).filter(j=>y==="all"||j.priority===y).sort((j,k)=>(j.dueISO||"z").localeCompare(k.dueISO||"z")),[c,m,y]);return r.jsxs("div",{className:"p-4 h-full flex flex-col",children:[r.jsxs("div",{className:"mb-4 flex flex-wrap gap-x-6 gap-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-semibold text-slate-400",children:"Status:"}),r.jsx(Co,{label:"All",isActive:m==="all",onClick:()=>d("all")}),Object.keys(pm).map(j=>r.jsx(Co,{label:j,isActive:m===j,onClick:()=>d(j)},j))]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-semibold text-slate-400",children:"Priority:"}),r.jsx(Co,{label:"All",isActive:y==="all",onClick:()=>v("all")}),Object.keys(mm).map(j=>r.jsx(Co,{label:j,isActive:y===j,onClick:()=>v(j)},j))]})]}),r.jsxs("div",{className:"overflow-y-auto flex-grow bg-slate-800/50 rounded-lg",children:[r.jsxs("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"sticky top-0 bg-slate-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Title"}),r.jsx("th",{className:"p-3",children:"Course"}),r.jsx("th",{className:"p-3",children:"Due Date"}),r.jsx("th",{className:"p-3",children:"Status"}),r.jsx("th",{className:"p-3",children:"Priority"}),r.jsx("th",{className:"p-3",children:"Energy"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-700/50",children:w.map(j=>r.jsxs("tr",{onClick:()=>f(j),className:"hover:bg-slate-700/50 cursor-pointer transition-colors",children:[r.jsx("td",{className:"p-3 font-semibold text-white",children:j.title}),r.jsx("td",{className:"p-3 text-slate-400",children:j.course}),r.jsx("td",{className:"p-3 text-slate-400",children:qy(j.dueISO)}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full capitalize ${pm[j.status]}`,children:j.status.replace("_"," ")})}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full capitalize ${mm[j.priority]}`,children:j.priority})}),r.jsx("td",{className:"p-3 text-slate-400 capitalize",children:j.energyLevel})]},j.id))})]}),w.length===0&&r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx("p",{className:"text-slate-500",children:"No matching assignments."})})]})]})},Lu=c=>r.jsx("input",{...c,onFocus:f=>ye.context.setDictationTarget(f.target),onBlur:()=>ye.context.setDictationTarget(null),className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"}),Vl=({htmlFor:c,children:f})=>r.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-slate-400 mb-1",children:f}),Uu=({children:c,...f})=>r.jsx("select",{...f,className:"w-full bg-slate-700 rounded-md p-2 border border-slate-600 text-white capitalize focus:outline-none focus:ring-2 focus:ring-indigo-500",children:c}),Hy=({assignment:c,onClose:f})=>{const[m,d]=J.useState({title:"",course:"",dueISO:new Date().toISOString().split("T")[0],status:"todo",priority:"normal",energyLevel:"medium",links:{}}),y=Xl(()=>{var j,k;return(k=(j=c==null?void 0:c.links)==null?void 0:j.notes)!=null&&k.length?Ie.notes.bulkGet(c.links.notes):[]},[c]);J.useEffect(()=>{d(c?{...c,dueISO:c.dueISO?new Date(c.dueISO).toISOString().split("T")[0]:""}:{title:"",course:"",dueISO:new Date().toISOString().split("T")[0],status:"todo",priority:"normal",energyLevel:"medium",links:{}})},[c]);const v=j=>{const{name:k,value:K}=j.target;d(B=>({...B,[k]:K}))},w=async j=>{j.preventDefault();const k=new Date().toISOString(),K={title:m.title||"Untitled",course:m.course,dueISO:m.dueISO?new Date(m.dueISO).toISOString():void 0,status:m.status,priority:m.priority,energyLevel:m.energyLevel,links:m.links||{},updatedAt:k};try{c?await Ie.assignments.update(c.id,K):await Ie.assignments.add({...K,id:`as_${Date.now()}`,createdAt:k}),f()}catch(B){console.error("Failed to save assignment:",B),alert("Could not save the assignment. Check the console for details.")}};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex justify-center items-center",onClick:f,children:r.jsx("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg border border-slate-700 p-6",onClick:j=>j.stopPropagation(),children:r.jsxs("form",{onSubmit:w,children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:c?"Edit Grind Item":"New Grind Item"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Vl,{htmlFor:"title",children:"Title"}),r.jsx(Lu,{id:"title",name:"title",type:"text",value:m.title,onChange:v,required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Vl,{htmlFor:"course",children:"Course / Subject"}),r.jsx(Lu,{id:"course",name:"course",type:"text",value:m.course,onChange:v})]}),r.jsxs("div",{children:[r.jsx(Vl,{htmlFor:"dueISO",children:"Due Date"}),r.jsx(Lu,{id:"dueISO",name:"dueISO",type:"date",value:m.dueISO,onChange:v})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(Vl,{htmlFor:"status",children:"Status"}),r.jsx(Uu,{id:"status",name:"status",value:m.status,onChange:v,children:["backlog","todo","in_progress","done"].map(j=>r.jsx("option",{value:j,children:j.replace("_"," ")},j))})]}),r.jsxs("div",{children:[r.jsx(Vl,{htmlFor:"priority",children:"Priority"}),r.jsx(Uu,{id:"priority",name:"priority",value:m.priority,onChange:v,children:["low","normal","high","urgent"].map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsxs("div",{children:[r.jsx(Vl,{htmlFor:"energyLevel",children:"Energy Level"}),r.jsx(Uu,{id:"energyLevel",name:"energyLevel",value:m.energyLevel,onChange:v,children:["low","medium","deep"].map(j=>r.jsx("option",{value:j,children:j},j))})]})]}),y&&y.filter(Boolean).length>0&&r.jsxs("div",{children:[r.jsx(Vl,{htmlFor:"linked-notes",children:"Linked Notes"}),r.jsx("div",{id:"linked-notes",className:"bg-slate-700/50 rounded-md p-3 border border-slate-600 space-y-2 max-h-24 overflow-y-auto",children:y.map(j=>j&&r.jsxs("div",{className:"text-sm text-slate-300 p-1 bg-slate-900/50 rounded",children:["- ",j.title]},j.id))})]})]}),r.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600 transition-colors",children:c?"Save Changes":"Add Item"})]})]})})})},Ky=[{id:"lanes",label:"Lanes",icon:jy},{id:"horizon",label:"Horizon",icon:Sy},{id:"matrix",label:"Matrix",icon:wy},{id:"ledger",label:"Ledger",icon:Ny}],Iy=()=>{const[c,f]=J.useState("lanes"),[m,d]=J.useState(!1),[y,v]=J.useState(null),w=Xl(()=>Ie.assignments.toArray(),[]),j=J.useCallback(ae=>{v(ae),d(!0)},[]),k=J.useCallback(()=>{v(null),d(!0)},[]),K=J.useCallback(()=>{d(!1),v(null)},[]),B=J.useCallback(async(ae,le)=>{await Ie.assignments.update(ae,{status:le,updatedAt:new Date().toISOString()})},[]),I=J.useCallback(()=>{if(!w)return;const ae=new Date,le=new Date(ae.getFullYear(),ae.getMonth(),ae.getDate()).toISOString(),ce=new Date(ae.getFullYear(),ae.getMonth(),ae.getDate(),23,59,59).toISOString(),pe=w.filter(P=>P.dueISO&&P.dueISO>=le&&P.dueISO<=ce&&P.status!=="done");if(pe.length===0){ye.tts.speak("Looks like your plate is clear for today. Solid work. Nothing on The Grind right now.");return}const Ne=["deep","medium","low"],oe={urgent:4,high:3,normal:2,low:1},fe=pe.sort((P,xe)=>{const Le=Ne.indexOf(P.energyLevel)-Ne.indexOf(xe.energyLevel);if(Le!==0)return Le;const $e=oe[xe.priority]-oe[P.priority];return $e!==0?$e:(P.dueISO||"").localeCompare(xe.dueISO||"")}),ie=fe[0],ke=`Aight, here's the play for today's grind. We'll start by crushing ${ie.title}. That's a ${ie.energyLevel} work session. After that, we have ${fe.length-1} more moves to make. You ready to get it? Let's go.`;ye.tts.speak(ke)},[w]),F=()=>{if(!w)return r.jsx("div",{className:"flex-grow flex items-center justify-center text-slate-500",children:"Loading Grind..."});switch(c){case"lanes":return r.jsx(Ry,{assignments:w,onUpdateStatus:B,onEdit:j});case"horizon":return r.jsx(Ly,{assignments:w,onEdit:j});case"matrix":return r.jsx(By,{assignments:w,onEdit:j});case"ledger":return r.jsx(Gy,{assignments:w,onEdit:j});default:return null}};return r.jsxs("div",{className:"h-full flex flex-col bg-slate-900 overflow-hidden",children:[r.jsx("header",{className:"p-4 border-b border-slate-700/80 shrink-0",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"The Grind"}),r.jsx("div",{className:"flex items-center bg-slate-800 rounded-lg p-1",children:Ky.map(({id:ae,label:le,icon:ce})=>r.jsxs("button",{onClick:()=>f(ae),className:`flex items-center gap-2 px-3 py-1.5 text-sm font-semibold rounded-md transition-colors ${c===ae?"bg-indigo-500 text-white":"text-slate-300 hover:bg-slate-700"}`,"aria-label":`Switch to ${le} view`,children:[r.jsx(ce,{}),le]},ae))})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors",children:[r.jsx(by,{}),"Line Up My Grind"]}),r.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600 transition-colors",children:[r.jsx(xy,{}),"Add Grind Item"]})]})]})}),r.jsx("div",{className:"flex-grow overflow-auto",children:F()}),m&&r.jsx(Hy,{assignment:y,onClose:K})]})},Yy=()=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"17 8 12 3 7 8"}),r.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),Qy=c=>new Promise((f,m)=>{const d=new FileReader;d.readAsDataURL(c),d.onload=()=>f(d.result.split(",")[1]),d.onerror=y=>m(y)}),Vy=()=>{const[c,f]=J.useState(""),[m,d]=J.useState([]),[y,v]=J.useState(!1),[w,j]=J.useState(""),k=J.useRef(null),K=J.useRef(null),[B,I]=J.useState(!1),F=J.useCallback(async()=>{try{if(k.current){const oe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});k.current.srcObject=oe,I(!0)}}catch(oe){console.error("Camera access denied:",oe),j("Camera access denied. Please enable camera permissions in your browser settings.")}},[]),ae=J.useCallback(async()=>{var oe;if(k.current&&K.current&&B){const fe=k.current,ie=K.current;return ie.width=fe.videoWidth,ie.height=fe.videoHeight,(oe=ie.getContext("2d"))==null||oe.drawImage(fe,0,0,fe.videoWidth,fe.videoHeight),ie.toDataURL("image/jpeg").split(",")[1]}return null},[B]),le=J.useCallback(async()=>{var oe;if(k.current&&K.current){const fe=k.current,ie=K.current;ie.width=fe.videoWidth,ie.height=fe.videoHeight,(oe=ie.getContext("2d"))==null||oe.drawImage(fe,0,0,fe.videoWidth,fe.videoHeight);const ke=ie.toDataURL("image/jpeg"),P=await(await fetch(ke)).blob(),xe=new File([P],`capture-${Date.now()}.jpg`,{type:"image/jpeg"}),Le=ke.split(",")[1],$e={id:xe.name,file:xe,base64:Le,previewUrl:ke};d(dt=>[$e,...dt])}},[]),ce=J.useCallback(async()=>{B||(ye.tts.speak("Camera isn't active. Let me start it for you."),await F(),await new Promise(fe=>setTimeout(fe,1500))),ye.tts.speak("Analyzing live view.");const oe=await ae();if(!oe){ye.tts.speak("I couldn't capture an image from the camera.");return}window.dispatchEvent(new CustomEvent("lex.chat.send",{detail:{text:"What do you see?"}})),window.dispatchEvent(new CustomEvent("lex.phase.change",{detail:"THINKING"}));try{const fe=await dm("Describe what you see in this image.",oe,"image/jpeg");ye.tts.speak(fe)}catch(fe){console.error("Live analysis failed",fe),ye.tts.speak("Sorry, I had trouble analyzing the view.")}},[B,F,ae]);J.useEffect(()=>{const oe=fe=>{fe.detail.command==="analyze_camera_view"&&ce()};return window.addEventListener("cue.contextual.command",oe),()=>{window.removeEventListener("cue.contextual.command",oe)}},[ce]);const pe=async oe=>{if(oe.target.files){const fe=await Promise.all(Array.from(oe.target.files).map(async ie=>{const ke=await Qy(ie);return{id:ie.name,file:ie,base64:ke,previewUrl:URL.createObjectURL(ie)}}));d(ie=>[...fe,...ie])}},Ne=async()=>{if(m.length===0||y)return;v(!0),j("");let oe=0;for(const fe of m)try{const ie=await dm(c||"Summarize and extract key information from this file.",fe.base64,fe.file.type),ke={id:`note_an_${Date.now()}`,type:"analysis",title:`Analysis: ${fe.file.name}`,text:ie,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{},meta:{source:fe.file.type.startsWith("image")?"analyzer_image":"analyzer_doc",originalFileName:fe.file.name}};await Ie.notes.add(ke),oe++}catch(ie){console.error(`Failed to analyze ${fe.file.name}:`,ie),j(ke=>ke+`
Failed to analyze ${fe.file.name}.`)}v(!1),d([]),f(""),ye.tts.speak(`Analysis complete. I've created ${oe} new notes in The Lab for you.`),ye.page({to:"lab"})};return r.jsxs("div",{className:"p-8 h-full flex flex-col",children:[r.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"The Analyzer"}),r.jsx("p",{className:"text-lg text-text-dark mb-8",children:"Turn images and documents into structured intelligence."}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-grow overflow-hidden",children:[r.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 flex flex-col border border-border-color",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Image Intake (The Eye)"}),r.jsx("video",{ref:k,autoPlay:!0,playsInline:!0,className:"w-full h-48 bg-black rounded-lg object-cover mb-4",onCanPlay:oe=>oe.target.play()}),r.jsx("canvas",{ref:K,className:"hidden"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:F,className:"flex-1 p-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-semibold transition-colors",children:"Start Camera"}),r.jsx("button",{onClick:le,className:"flex-1 p-3 bg-primary-blue hover:opacity-90 rounded-lg font-semibold transition-colors",children:"Snap Photo"})]})]}),r.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 flex flex-col border border-border-color",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Intake Queue"}),r.jsxs("label",{htmlFor:"file-upload",className:"w-full cursor-pointer bg-slate-700 hover:bg-slate-600 text-white font-semibold rounded-lg p-4 transition-colors flex items-center justify-center gap-3 mb-4",children:[r.jsx(Yy,{}),"Upload Documents or Images"]}),r.jsx("input",{id:"file-upload",type:"file",multiple:!0,className:"hidden",onChange:pe,accept:"image/*,.pdf,.doc,.docx"}),r.jsxs("div",{className:"flex-grow space-y-2 overflow-y-auto pr-2",children:[m.map(oe=>r.jsxs("div",{className:"flex items-center gap-3 bg-slate-700/50 p-2 rounded-lg",children:[r.jsx("img",{src:oe.previewUrl,alt:"preview",className:"w-10 h-10 object-cover rounded"}),r.jsx("span",{className:"font-mono text-sm truncate flex-grow",children:oe.file.name}),r.jsx("button",{onClick:()=>d(fe=>fe.filter(ie=>ie.id!==oe.id)),className:"text-xs text-red-400",children:"X"})]},oe.id)),m.length===0&&r.jsx("p",{className:"text-center text-slate-500 pt-8",children:"Queue is empty."})]})]})]}),r.jsxs("div",{className:"shrink-0 pt-6",children:[r.jsx("textarea",{value:c,onChange:oe=>f(oe.target.value),placeholder:"Analysis prompt (e.g., 'Summarize this document'). If left blank, I'll provide a general analysis.",className:"w-full h-20 bg-slate-700 rounded-lg p-3 mb-4 border border-border-color focus:ring-2 focus:ring-primary-blue focus:outline-none"}),r.jsx("button",{onClick:Ne,disabled:y||m.length===0,className:"w-full p-4 bg-accent-fuchsia text-white font-bold rounded-lg hover:opacity-90 transition-opacity disabled:bg-slate-600 disabled:cursor-not-allowed",children:y?"Analyzing...":`Analyze ${m.length} Item(s)`}),w&&r.jsx("p",{className:"text-warning-red text-center mt-2 text-sm",children:w})]})]})},Xy=()=>{const c=(f,m)=>{ye.tts.speak(`Okay, I'll navigate to ${m}. Just say, "Lex, go to ${m}."`),setTimeout(()=>ye.page({to:f}),3e3)};return r.jsxs("div",{className:"p-8 h-full flex flex-col overflow-y-auto",children:[r.jsx("h1",{className:"text-4xl font-extrabold text-white mb-2",children:"The Playbook"}),r.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Learn the moves to run the Ops Center."}),r.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 space-y-8 max-w-3xl",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:'The "One Mic" System'}),r.jsx("p",{className:"text-slate-300 mb-4",children:"You can control the entire app using the microphone button at the bottom of the screen. Here are the core commands:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold text-white",children:"Single Tap:"})," Start listening for a command."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold text-white",children:"Double Tap:"})," Hard interrupt. Immediately stops me from speaking and starts listening."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold text-white",children:'"Stop, Lex" or "Pause":'})," While I'm speaking, say this to make me stop."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Navigation Commands"}),r.jsx("p",{className:"text-slate-300 mb-4",children:'To move between tools, just tell me where you want to go. For example: "Go to The Pulse."'}),r.jsx("div",{className:"flex gap-4",children:r.jsx("button",{onClick:()=>c("pulse","The Pulse"),className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600",children:"Try It: Go to The Pulse"})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Taking Notes"}),r.jsx("p",{className:"text-slate-300 mb-4",children:'You can dictate notes directly in The Lab. Just say "Take a note," followed by what you want to write down.'}),r.jsx("div",{className:"flex gap-4",children:r.jsx("button",{onClick:()=>ye.tts.speak('Try saying: "Lex, take a note: the mitochondria is the powerhouse of the cell."'),className:"px-4 py-2 rounded-lg font-semibold bg-indigo-500 text-white hover:bg-indigo-600",children:"Try It: Take a Note"})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Data & Privacy"}),r.jsx("p",{className:"text-slate-300 mb-4",children:"Your data lives only on your device; it's never sent to a server. This is private, but it means you need to back it up. Go to The Garage to download or email your data."}),r.jsx("button",{onClick:()=>ye.page({to:"garage"}),className:"px-4 py-2 rounded-lg font-semibold bg-slate-700 text-slate-300 hover:bg-slate-600",children:"Go to The Garage"})]})]})]})},qm=()=>{const{currentView:c}=Cn(),f=()=>{switch(c){case"pulse":return r.jsx(fm,{});case"intel":return r.jsx(q0,{});case"magna_carta":return r.jsx(vy,{});case"grind":return r.jsx(Iy,{});case"lab":return r.jsx(J0,{});case"analyzer":return r.jsx(Vy,{});case"campus":return r.jsx(P0,{});case"garage":return r.jsx(oy,{});case"playbook":return r.jsx(Xy,{});default:return r.jsx(fm,{})}};return r.jsx("main",{className:"workspace flex-grow h-full overflow-hidden bg-bg-main",children:f()})},Gm=J.createContext(void 0),Zy=({children:c})=>{const[f,m]=J.useState("IDLE"),[d,y]=J.useState("");return J.useEffect(()=>{const v=k=>{m(k.detail)},w=k=>{y(k.detail.transcript)},j=()=>{y("")};return window.addEventListener("lex.phase.change",v),window.addEventListener("lex.stt.interim",w),window.addEventListener("lex.stt.final",w),window.addEventListener("lex.stt.stop",j),()=>{window.removeEventListener("lex.phase.change",v),window.removeEventListener("lex.stt.interim",w),window.removeEventListener("lex.stt.final",w),window.removeEventListener("lex.stt.stop",j)}},[]),r.jsx(Gm.Provider,{value:{phase:f,transcript:d},children:c})},Hm=()=>{const c=J.useContext(Gm);if(!c)throw new Error("useVoiceControl must be used within a VoiceControlProvider");return c},Fy=({phase:c,transcript:f})=>{const m="text-center text-sm text-slate-400",d={IDLE:{text:"Tap mic to start",color:"border-slate-600"},LISTENING:{text:f||"Listening...",color:"border-indigo-500 animate-pulse"},SPEAKING:{text:"Speaking...",color:"border-teal-500"},THINKING:{text:"Thinking...",color:"border-amber-500"},PAUSED:{text:"Paused",color:"border-slate-500"}},{text:y,color:v}=d[c];return r.jsx("div",{className:"p-4 border-b border-slate-700",children:r.jsx("div",{className:`border-2 ${v} rounded-lg p-3 transition-all`,children:r.jsx("p",{className:m,children:y})})})},Jy=({message:c})=>{const m=c.role==="user"?"bg-indigo-500 self-end":"bg-slate-700 self-start";return c.isThinking?r.jsxs("div",{className:"bg-slate-700 self-start rounded-lg p-3 max-w-sm flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.3s]"}),r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse [animation-delay:-0.15s]"}),r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-pulse"})]}):r.jsx("div",{className:`rounded-lg p-3 max-w-sm break-words ${m}`,children:r.jsx("p",{className:"text-white",children:c.text})})},Km=()=>{const{chatHistory:c,saveAndClearChat:f,isRightRailOpen:m}=Cn(),{phase:d,transcript:y}=Hm(),v=J.useRef(null);J.useEffect(()=>{var j;(j=v.current)==null||j.scrollIntoView({behavior:"smooth"})},[c]);const w=["right-rail","w-80","bg-slate-800","flex","flex-col","h-full","border-l","border-slate-700","shrink-0",m?"right-rail-open":""].join(" ");return r.jsxs("aside",{className:w,children:[r.jsx(Fy,{phase:d,transcript:y}),r.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:r.jsxs("div",{className:"flex flex-col space-y-4",children:[c.length>0?c.map((j,k)=>r.jsx(Jy,{message:j},k)):r.jsxs("div",{className:"text-center text-slate-500 pt-10",children:[r.jsx("p",{children:"Chat history is empty."}),r.jsx("p",{className:"text-xs mt-2",children:"Conversations are saved to your notes."})]}),r.jsx("div",{ref:v})]})}),r.jsx("div",{className:"p-4 border-t border-slate-700",children:r.jsxs("button",{onClick:f,disabled:c.length===0,className:"w-full flex items-center justify-center gap-2 p-2 rounded-lg text-sm bg-slate-700 hover:bg-slate-600 transition-colors disabled:bg-slate-800 disabled:text-slate-500 disabled:cursor-not-allowed",children:[r.jsx(Et,{icon:"tabler:save",width:"16",height:"16"}),"Save & Clear Chat"]})})]})},$y=({isActive:c})=>{const f="w-1 h-full bg-indigo-400 rounded-full transition-all duration-300 ease-in-out";return r.jsxs("div",{className:"flex justify-center items-center h-full space-x-1.5",children:[r.jsx("div",{className:`${f}`,style:{animation:c?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.1s",transform:c?"scaleY(0.5)":"scaleY(0.1)"}}),r.jsx("div",{className:`${f}`,style:{animation:c?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.2s",transform:c?"scaleY(1)":"scaleY(0.2)"}}),r.jsx("div",{className:`${f}`,style:{animation:c?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.3s",transform:c?"scaleY(0.75)":"scaleY(0.1)"}}),r.jsx("div",{className:`${f}`,style:{animation:c?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.4s",transform:c?"scaleY(1)":"scaleY(0.2)"}}),r.jsx("div",{className:`${f}`,style:{animation:c?"wave 1.2s ease-in-out infinite":"none",animationDelay:"0.5s",transform:c?"scaleY(0.5)":"scaleY(0.1)"}}),r.jsx("style",{children:`
        @keyframes wave {
          0%, 100% { transform: scaleY(0.2); }
          50% { transform: scaleY(1); }
        }
      `})]})},gm=[{id:"note",icon:"M12 20h9 M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z",label:"Quick Note"},{id:"intel",icon:"M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z",label:"Quick Intel"},{id:"garage",icon:"M12 6v2m0 10v2m6-8h2m-14 0H4m11.5-5.5L18 4m-9.5 9.5L6 18M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16z",label:"The Garage"},{id:"email",icon:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z M22 6l-10 7L2 6",label:"Email Backup"}],Wy=({className:c})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-8 w-8 ${c||"text-white"}`,children:[r.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),r.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),r.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),r.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),Py=()=>{const{phase:c}=Hm(),{setQuickActionModal:f}=Cn(),[m,d]=J.useState(!1),[y,v]=J.useState(0),w=()=>{v(I=>I+1),setTimeout(()=>v(0),500),ye.mic.toggle()},j=I=>{if(I==="garage"){ye.page({to:"garage"});return}if(I==="email"){Bm();return}f(I)},k={IDLE:"bg-slate-700 hover:bg-slate-600",LISTENING:"bg-success hover:bg-success/80 shadow-lg shadow-success/30",THINKING:"bg-info hover:bg-info/80 shadow-lg shadow-info/30",SPEAKING:"bg-accent-fuchsia hover:bg-accent-fuchsia/80 shadow-lg shadow-accent-fuchsia/30",PAUSED:"bg-warning hover:bg-warning/80 shadow-lg shadow-warning/30"},K={IDLE:"text-white",LISTENING:"text-white",THINKING:"text-white",SPEAKING:"text-white",PAUSED:"text-white"}[c],B=`relative rounded-full flex items-center justify-center transition-all duration-300 ease-in-out w-20 h-20 shadow-lg ${k[c]}`;return r.jsxs("div",{className:"relative flex items-center justify-center p-16 -m-16",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[gm.map((I,F)=>{const ae=-140+F*(100/(gm.length-1));return r.jsx("button",{onClick:()=>j(I.id),title:I.label,className:"absolute w-12 h-12 bg-slate-700 hover:bg-accent-fuchsia rounded-full flex items-center justify-center transition-all duration-300 ease-out",style:{transform:`rotate(${ae}deg) translate(80px) rotate(${-ae}deg) scale(${m?1:.5})`,opacity:m?1:0,pointerEvents:m?"auto":"none",transitionDelay:m?`${F*40}ms`:"0ms"},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:I.icon})})},I.id)}),r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsxs("button",{onClick:w,"aria-label":c==="LISTENING"?"Stop listening":"Start listening",className:B,children:[c==="THINKING"&&r.jsx("div",{className:"lex-console-thinking-ring"}),r.jsx("div",{className:"absolute inset-0 p-6",children:r.jsx($y,{isActive:c==="LISTENING"})}),c!=="LISTENING"&&r.jsx(Wy,{className:K})]}),r.jsx("div",{className:"flex gap-1.5 mt-3 h-1 w-16",children:Array.from({length:4}).map((I,F)=>r.jsx("div",{className:`h-full w-1/4 rounded-full transition-all duration-200 ${y>F?"bg-accent-fuchsia":"bg-slate-600"}`},F))})]})]})},Im=()=>r.jsx("footer",{className:"bottom-bar h-32 bg-gray-900/50 backdrop-blur-sm border-t border-border-color flex items-center justify-center p-4 z-10",children:r.jsx(Py,{})}),ev="The Playbook",ym=`Welcome to your Ops Center. I'm LEX, your personal academic co-pilot. I'm here to help you manage your grind, lock in your plans, and explore your future.

I run completely in your browser. All your data—your notes, plans, and intel—is stored securely on your own device. It's all private.

You can interact with me using your voice. Just tap the mic and tell me what you need. You can ask me to navigate between tools, take a note, or even run intel on a topic for you.

Let's take a quick tour of your arsenal so you know your way around.`,Mo=[{view:"pulse",content:"We'll start here, at The Pulse. This is your command center, showing today's grind, upcoming deadlines, and quick actions to get you started."},{view:"magna_carta",content:"This is The Magna Carta. Think of it as your high-level roadmap. Track academic, personal, and career goals here, from short-term tasks to long-term ambitions."},{view:"grind",content:"The Grind is where you manage your day-to-day. Keep track of all your coursework, update your progress, and link tasks to your notes and intel."},{view:"lab",content:"The Lab is your digital notebook. Cook up ideas, capture audio notes from lectures, or save summaries from our conversations."},{view:"analyzer",content:"The Analyzer is a powerful tool. Upload a PDF or snap a picture of a document, and I'll help you summarize it or pull key info."},{view:"intel",content:"The Intel tool helps you explore topics for your projects. Just ask a question, and I'll find relevant information and sources for you."},{view:"campus",content:"Planning for the future? The Campus tool uses Google Search to pull up-to-date information about colleges and universities."},{view:"garage",content:"Finally, The Garage is where you can tune the engine. Calibrate my voice, manage your data with email or file backups, and make the app yours."}],tv="That's the tour of the Ops Center. You're all set. Remember, tap the mic and I'm here to help. Let's get it.",nv=({onEnter:c})=>r.jsxs("div",{className:"flex flex-col items-center justify-center text-center cursor-pointer group",onClick:c,children:[r.jsx("div",{className:"lex-stage",children:r.jsxs("div",{className:"lex-card",children:[r.jsx("div",{className:"lex-aura","aria-hidden":"true"}),r.jsx("div",{className:"lex-glass","aria-hidden":"true"}),r.jsx("div",{className:"lex-svg",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 260" width="86%" height="86%" preserveAspectRatio="xMidYMid meet" aria-hidden="true"><defs><linearGradient id="lexGradient" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="var(--primary-blue)"/><stop offset="1" stop-color="var(--accent-fuchsia)"/></linearGradient><filter id="glow" x="-40%" y="-40%" width="180%" height="180%"><feGaussianBlur in="SourceGraphic" stdDeviation="2" result="b1"/><feColorMatrix in="b1" type="matrix" values="0 0 0 0 0 0 0 0 0.9 0 0 0 0 0.95 0 0 0 0 1 0" result="c1"/><feMerge><feMergeNode in="c1"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><g><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, sans-serif" font-size="160" letter-spacing="8" fill="url(#lexGradient)" filter="url(#glow)" font-weight="900">LΞX</text></g></svg>'}}),r.jsx("div",{className:"lex-sheen","aria-hidden":"true"})]})}),r.jsx("h1",{className:"text-3xl font-bold text-white mt-8 group-hover:text-primary-blue transition-colors",children:"Tap to Enter the Ops Center"})]}),av=()=>{const[c,f]=J.useState("entry"),[m,d]=J.useState(""),[y,v]=J.useState("unknown"),[w,j]=J.useState(-1),[k,K]=J.useState(!1),{completeOnboarding:B,setHighlightedNavItem:I}=Cn(),F=J.useCallback(oe=>{K(!0),setTimeout(()=>{f(oe),K(!1)},500)},[]),ae=oe=>{oe.preventDefault(),m.trim()&&F("permissions")},le=J.useCallback(async()=>{ye.tts.speak(`Thanks, ${m}. To give you the full voice-first experience, I'll need microphone access.`);try{await navigator.mediaDevices.getUserMedia({audio:!0}),v("granted"),ye.tts.speak("Aight, bet. Mic is live. Now for the playbook.")}catch(oe){console.error("Microphone permission denied:",oe),v("denied"),ye.tts.speak("That's cool. Voice features will be disabled. Let's continue with the playbook.")}},[m]),ce=J.useCallback(()=>{F("skipped"),ye.tts.cancel(),ye.tts.speak("Aight, bet. No time to waste. We can finish the full setup in The Garage later. For now, the Ops Center is yours. Let's get it.")},[F]);J.useEffect(()=>{const oe=()=>{c==="permissions"&&y!=="unknown"?F("guide"):c==="guide"?(F("tour"),j(0)):c==="tour"&&w<Mo.length-1?j(fe=>fe+1):c==="tour"&&w===Mo.length-1?f("finishing"):c==="finishing"?(I(null),B(m,!1)):c==="skipped"&&(I(null),B(m||"Operator",!0))};return window.addEventListener("lex.tts.end",oe),()=>window.removeEventListener("lex.tts.end",oe)},[c,w,y,m,B,I,F]),J.useEffect(()=>{if(c==="tour"&&w>=0&&w<Mo.length){const oe=Mo[w];I(oe.view),ye.page({to:oe.view}),ye.tts.speak(oe.content)}},[c,w,I]),J.useEffect(()=>{if(c==="guide"){K(!1);const oe=`Alright, ${m}. ${ym}`;ye.tts.speak(oe)}else c==="finishing"&&(I(null),ye.page({to:"pulse"}),ye.tts.speak(tv))},[c,I,m]);const pe=()=>{switch(c){case"entry":return r.jsx(nv,{onEnter:()=>F("name")});case"name":return r.jsxs("form",{onSubmit:ae,className:"max-w-2xl text-center",children:[r.jsx("h1",{className:"text-5xl font-extrabold text-white mb-4",children:"First things first..."}),r.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"What should I call you?"}),r.jsx("input",{type:"text",value:m,onChange:oe=>d(oe.target.value),className:"w-full bg-slate-700 border border-border-color rounded-lg p-4 text-white placeholder-slate-400 text-2xl text-center mb-8 focus:outline-none focus:ring-2 focus:ring-primary-blue",placeholder:"Your Name",autoFocus:!0}),r.jsx("button",{type:"submit",className:"bg-primary-blue text-white rounded-lg px-8 py-4 font-semibold text-lg hover:opacity-90 transition-opacity disabled:opacity-50",disabled:!m.trim(),children:"Continue"})]});case"permissions":return r.jsxs("div",{className:"max-w-2xl text-center",children:[r.jsx("h1",{className:"text-5xl font-extrabold text-white mb-4",children:"Mic Check, 1, 2..."}),r.jsx("p",{className:"text-xl text-slate-300 mb-12",children:"To use voice commands and dictation, I'll need access to your microphone."}),r.jsx("button",{onClick:le,className:"bg-primary-blue text-white rounded-lg px-8 py-4 font-semibold text-lg hover:opacity-90 transition-opacity disabled:bg-slate-600 disabled:cursor-not-allowed",disabled:y!=="unknown",children:y==="unknown"?"Allow Microphone":"Locking In..."}),y==="denied"&&r.jsx("p",{className:"text-warning-red mt-4 text-sm",children:"Mic access denied. You'll have to type. We can still work."})]});case"guide":return r.jsxs("div",{className:"max-w-3xl text-left bg-slate-800 p-8 rounded-2xl shadow-2xl",children:[r.jsx("h1",{className:"text-4xl font-extrabold text-white mb-6",children:ev}),r.jsx("div",{className:"text-lg text-slate-300 space-y-4 whitespace-pre-line max-h-[60vh] overflow-y-auto pr-4",children:`Alright, ${m}.

${ym}`}),r.jsx("p",{className:"text-teal-400 mt-8 animate-pulse",children:"LEX is reading The Playbook..."})]});default:return null}},Ne=c!=="tour"&&c!=="finishing"&&c!=="skipped";return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`fixed inset-0 z-50 flex justify-center items-center transition-opacity duration-500
                ${Ne&&!k?"bg-bg-main/80 backdrop-blur-md opacity-100":"opacity-0 pointer-events-none"}
                `,children:r.jsx("div",{className:`p-8 transition-all duration-500 ${k?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:pe()})}),c!=="entry"&&c!=="finishing"&&c!=="skipped"&&r.jsx("button",{onClick:ce,className:"fixed bottom-8 right-8 z-[60] bg-slate-700 hover:bg-slate-600 text-white font-semibold rounded-lg px-6 py-3 transition-all duration-300",children:"Skip to the Ops Center"}),r.jsx("div",{className:Ne?"invisible":"",children:r.jsxs("div",{className:"h-screen w-screen flex flex-col font-sans antialiased",children:[r.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[r.jsx(Um,{}),r.jsx(qm,{}),r.jsx(Km,{})]}),r.jsx(Im,{})]})}),r.jsx("style",{children:`
                .lex-stage{--card-w:min(92vw,760px);--card-r:28px;--bg:#0a0f1a;--shadow:0 0 0 1px rgba(0,224,255,.12), 0 18px 60px rgba(0,0,0,.65);display:grid;place-items:center;perspective:1200px;}
                .lex-card{width:var(--card-w);aspect-ratio:16/9;position:relative;border-radius:var(--card-r);overflow:hidden;transform-style:preserve-3d;box-shadow:var(--shadow);background:radial-gradient(120% 140% at 50% 50%, #0b1220 0%, #060b14 65%, #02050a 100%);}
                .lex-aura{position:absolute;inset:-25%;background:conic-gradient(from 0deg, transparent 0 40%, rgba(0,224,255,.16) 50%, transparent 60% 100%);filter:blur(18px);animation:spin 6s linear infinite;z-index:0}
                @keyframes spin{to{transform:rotate(360deg)}}
                .lex-glass{position:absolute;inset:16px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.08));z-index:1}
                .lex-svg{position:absolute;inset:0;display:grid;place-items:center;z-index:2}
                .lex-sheen{position:absolute;inset:-10%;background:linear-gradient(120deg, rgba(255,255,255,0) 30%, rgba(255,255,255,.08) 45%, rgba(255,255,255,0) 60%);transform:translateX(-40%) rotate(8deg);animation:sweep 2800ms ease-in-out 1200ms infinite;pointer-events:none;z-index:3;mix-blend-mode:screen}
                @keyframes sweep{0%{transform:translateX(-60%) rotate(8deg);opacity:0}15%{opacity:.35}35%{transform:translateX(30%) rotate(8deg)}45%{opacity:0}100%{transform:translateX(30%) rotate(8deg);opacity:0}}
            `})]})},lv=["Welcome back. Let's get to work.","Ready to get started?","Okay, system online. What's the plan?"],iv=["Alright, we're live. What's the move?","Let's get it. What are we focusing on today?","Back in the mix. Let's make some progress."],rv=["Aight, we back in the lab. Time to cook.","Let's get this hustle. What's the play?","We live. Let's run it up.","Time to get this paper. What's the first move?","Ops Center is live. Let's run the traps.","Locked in. What's the agenda?"],vm={pulse:{neutral:"The Pulse is active. All systems are go.",mid:"Checking the pulse. Let's see the overview.",hustle:"Aight, let's check the vitals. The Pulse is live."},magna_carta:{neutral:"Opening The Magna Carta. Let's review the master plan.",mid:"Time to look at the big picture. Here's The Magna Carta.",hustle:"Pullin' up the master plan. This is the whole play."},grind:{neutral:"The Grind is active. Time to manage tasks.",mid:"Let's get to work. Welcome to The Grind.",hustle:"The daily hustle. Let's see what's on the docket."},lab:{neutral:"Welcome to The Lab. Ready to capture some ideas?",mid:"The Lab is open. Let's cook up some new ideas.",hustle:"We in the lab now. Time to build."},intel:{neutral:"Intel suite is online. What are we researching?",mid:"The Intel desk is open. What's the target?",hustle:"Runnin' intel. What's the 4-1-1?"},analyzer:{neutral:"The Analyzer is ready. Let's process some data.",mid:"The Analyzer is online. Feed me some data.",hustle:"Let's break it down. The Analyzer is ready to cook."},campus:{neutral:"Campus Explorer is ready. Where are we looking?",mid:"Let's check out some schools. Campus Explorer is a go.",hustle:"Scouting the future. Campus mode, activated."},garage:{neutral:"Welcome to The Garage. Let's tune the engine.",mid:"Opening The Garage. Time for a tune-up.",hustle:"Poppin' the hood. Welcome to The Garage."},playbook:{neutral:"Opening The Playbook. All strategies are here.",mid:"Let's review the moves. Here's The Playbook.",hustle:"Time for the game plan. The Playbook is open."}},Bu=c=>c[Math.floor(Math.random()*c.length)],sv=(c,f)=>{if(f&&vm[f]){const m=vm[f];return c>=90?m.hustle:c>=40?m.mid:m.neutral}return c>=90?Bu(rv):c>=40?Bu(iv):Bu(lv)},ov=({onClose:c})=>{const[f,m]=J.useState(""),[d,y]=J.useState(""),v=J.useRef(null);J.useEffect(()=>{var k;(k=v.current)==null||k.focus()},[]);const w=async()=>{if(!f.trim()&&!d.trim()){c();return}const k={id:`note_${Date.now()}`,type:"text",title:f.trim()||`Quick Note ${new Date().toLocaleDateString()}`,text:d.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),links:{},archived:!1};await Ie.notes.add(k),ye.tts.speak("Note saved to The Lab."),c()},j=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),w()),k.key==="Escape"&&c()};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex justify-center items-start pt-32",onClick:w,children:r.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-xl border border-border-color p-6",onClick:k=>k.stopPropagation(),onKeyDown:j,children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Note to The Lab"}),r.jsx("input",{ref:v,type:"text",value:f,onChange:k=>m(k.target.value),onFocus:k=>ye.context.setDictationTarget(k.target),onBlur:()=>ye.context.setDictationTarget(null),placeholder:"Title (optional)",className:"w-full bg-slate-700 rounded-md p-2 mb-3 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-primary-blue"}),r.jsx("textarea",{value:d,onChange:k=>y(k.target.value),onFocus:k=>ye.context.setDictationTarget(k.target),onBlur:()=>ye.context.setDictationTarget(null),placeholder:"Jot down a quick thought...",className:"w-full h-24 bg-slate-700 rounded-md p-2 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-primary-blue resize-none"}),r.jsx("div",{className:"text-right text-xs text-slate-500 mt-2",children:"Press Enter to save, Esc to close."})]})})},cv=({onClose:c})=>{const[f,m]=J.useState(""),d=J.useRef(null);J.useEffect(()=>{var w;(w=d.current)==null||w.focus()},[]);const y=async()=>{if(!f.trim()){c();return}ye.tts.speak(`Okay, I'm running intel on "${f}". Taking you to the Intel hub.`),c(),ye.page({to:"intel"});try{const w=await Ju(f),j={id:`res_${Date.now()}`,query:f,createdAt:new Date().toISOString(),result:w,type:"intel",links:{}};await Ie.research.add(j)}catch(w){console.error(w),ye.tts.speak("Sorry, I hit a snag running intel. Try again from the main hub.")}},v=w=>{w.key==="Enter"&&(w.preventDefault(),y()),w.key==="Escape"&&c()};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex justify-center items-start pt-32",onClick:c,children:r.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-xl border border-border-color p-6",onClick:w=>w.stopPropagation(),onKeyDown:v,children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Intel Run"}),r.jsx("input",{ref:d,type:"text",value:f,onChange:w=>m(w.target.value),onFocus:w=>ye.context.setDictationTarget(w.target),onBlur:()=>ye.context.setDictationTarget(null),placeholder:"What topic do you need intel on?",className:"w-full bg-slate-700 rounded-md p-3 border border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-primary-blue"}),r.jsx("div",{className:"text-right text-xs text-slate-500 mt-2",children:"Press Enter to run intel, Esc to close."})]})})},uv=()=>{const{quickActionModal:c,setQuickActionModal:f}=Cn();if(!c)return null;const m=()=>f(null);switch(c){case"note":return r.jsx(ov,{onClose:m});case"intel":return r.jsx(cv,{onClose:m});default:return null}},dv=({onMenuClick:c,onChatClick:f})=>r.jsxs("header",{className:"mobile-header",children:[r.jsx("button",{onClick:c,className:"p-2 text-text-light hover:text-white","aria-label":"Open menu",children:r.jsx(Et,{icon:"lucide:menu",className:"w-6 h-6"})}),r.jsx("div",{className:"text-lg font-bold text-white",children:"LΞX"}),r.jsx("button",{onClick:f,className:"p-2 text-text-light hover:text-white","aria-label":"Open chat",children:r.jsx(Et,{icon:"lucide:message-circle",className:"w-6 h-6"})})]});class Wu{constructor(f,m,d,y,v,w,j){this.x=f,this.y=m,this.size=d,this.vx=y,this.vy=v,this.color=w,this.life=j,this.initialLife=j}isDead(){return this.life<=0}}class fv extends Wu{update(){this.life--,this.vy*=.99,this.vx+=(Math.random()-.5)*.2,this.x+=this.vx,this.y+=this.vy}draw(f){f.globalAlpha=this.life/this.initialLife,f.fillStyle=this.color,f.beginPath(),f.arc(this.x,this.y,this.size,0,Math.PI*2),f.fill(),f.globalAlpha=1}}const hv=c=>{let f=[];return{update:d=>{if(Math.random()>.5){const y=Math.random()*c.width,v=c.height,w=Math.random()*3+1,j=Math.random()-.5,k=-(Math.random()*2+1),K=`hsl(${Math.random()*30+10}, 100%, 50%)`,B=Math.random()*60+120;f.push(new fv(y,v,w,j,k,K,B))}f=f.filter(y=>!y.isDead()),f.forEach(y=>{y.update(),y.draw(d)})}}};class mv extends Wu{constructor(f,m,d,y,v,w,j){super(f,m,d,y,v,w,j),this.initialX=j}update(){this.x+=this.vx,this.x<0&&(this.x=this.initialX)}draw(f){f.fillStyle=this.color,f.beginPath(),f.arc(this.x,this.y,this.size,0,Math.PI*2),f.fill()}}const pv=c=>{let f=[];for(let d=0;d<200;d++){const y=Math.random()*c.width,v=Math.random()*c.height,w=Math.random()*1.5,j=-(Math.random()*.5+.1),k=`rgba(255, 255, 255, ${Math.random()*.5+.3})`;f.push(new mv(y,v,w,j,0,k,c.width))}return{update:d=>{f.forEach(y=>{y.update(),y.draw(d)})}}},gv=c=>{const m=Math.floor(c.width/16),d=Array(m).fill(1),y="ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}";return{update:w=>{w.fillStyle="rgba(10, 10, 15, 0.1)",w.fillRect(0,0,c.width,c.height),w.fillStyle="#0f0",w.font="16px monospace";for(let j=0;j<d.length;j++){const k=y.charAt(Math.floor(Math.random()*y.length));w.fillText(k,j*16,d[j]*16),d[j]*16>c.height&&Math.random()>.975&&(d[j]=0),d[j]++}}}};class yv extends Wu{constructor(f,m,d,y,v,w,j,k){super(f,m,d,y,v,w,j),this.initialX=k,this.initialY=j}update(){this.y+=this.vy,this.x+=this.vx,this.y>this.initialY&&(this.y=0,this.x=Math.random()*this.initialX)}draw(f){f.globalAlpha=.8,f.fillStyle=this.color,f.beginPath(),f.arc(this.x,this.y,this.size,0,Math.PI*2),f.fill(),f.globalAlpha=1}}const vv=c=>{let f=[];for(let d=0;d<150;d++){const y=Math.random()*c.width,v=Math.random()*c.height,w=Math.random()*2+1,j=Math.random()*1+.5,k=(Math.random()-.5)*.5;f.push(new yv(y,v,w,k,j,"white",c.height,c.width))}return{update:d=>{f.forEach(y=>{y.update(),y.draw(d)})}}},xv=()=>{const c=J.useRef(null),{userProfile:f}=Cn(),m=J.useRef(null),d=J.useRef([]);return J.useEffect(()=>{const y=c.current;if(!y)return;const v=y.getContext("2d");if(!v)return;const w=()=>{y.width=window.innerWidth,y.height=window.innerHeight};w(),window.addEventListener("resize",w),d.current=[];const j=(f==null?void 0:f.emojiAmbiance)||[];j.includes("🔥")&&d.current.push(hv(y)),j.includes("✨")&&d.current.push(pv(y)),j.includes("💻")&&d.current.push(gv(y)),j.includes("❄️")&&d.current.push(vv(y));const k=()=>{v.clearRect(0,0,y.width,y.height),d.current.forEach(K=>K.update(v)),m.current=requestAnimationFrame(k)};return k(),()=>{window.removeEventListener("resize",w),m.current&&cancelAnimationFrame(m.current)}},[f==null?void 0:f.emojiAmbiance]),(!(f!=null&&f.emojiAmbiance)||f.emojiAmbiance.length===0)&&!(f!=null&&f.customBackground)?null:r.jsxs(r.Fragment,{children:[(f==null?void 0:f.customBackground)&&r.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-20 pointer-events-none",style:{backgroundImage:`url(${f.customBackground})`,backgroundSize:"cover",backgroundPosition:f.backgroundPosition||"center",backgroundRepeat:"no-repeat",filter:f.backgroundBlur?"blur(2px)":"none"},children:f.backgroundOverlay&&r.jsx("div",{className:"absolute inset-0 bg-black/40"})}),r.jsx("canvas",{ref:c,className:"fixed top-0 left-0 -z-10 bg-transparent pointer-events-none"})]})},bv=()=>{const[c,f]=J.useState(null),[m,d]=J.useState(!1),[y,v]=J.useState(!1);J.useEffect(()=>{const k=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0?(v(!0),!0):!1,K=I=>{I.preventDefault(),f(I),d(!0)},B=()=>{v(!0),d(!1),f(null)};return k()||(window.addEventListener("beforeinstallprompt",K),window.addEventListener("appinstalled",B)),()=>{window.removeEventListener("beforeinstallprompt",K),window.removeEventListener("appinstalled",B)}},[]);const w=async()=>{if(c){try{await c.prompt();const{outcome:k}=await c.userChoice;k==="accepted"?(console.log("User accepted the install prompt"),v(!0),d(!1)):console.log("User dismissed the install prompt")}catch(k){console.error("Error showing install prompt:",k)}f(null)}},j=()=>{d(!1),f(null)};return y||!m||!c?null:r.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 z-50",children:r.jsx("div",{className:"bg-slate-800 border border-slate-600 rounded-lg shadow-xl p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 300 300",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"grad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#444"}),r.jsx("stop",{offset:"100%",stopColor:"#222"})]})}),r.jsx("rect",{width:"100%",height:"100%",fill:"white"}),r.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontFamily:"serif",fontSize:"96",fontWeight:"bold",fill:"url(#grad)",children:"LΞX"})]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-text-light mb-1",children:"Install LEX Ops Center"}),r.jsx("p",{className:"text-xs text-text-dark mb-3",children:"Add to your home screen for quick access and offline use"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:w,className:"flex-1 bg-accent-fuchsia hover:bg-accent-fuchsia/80 text-white text-xs font-medium py-2 px-3 rounded-md transition-colors duration-200",children:"Install"}),r.jsx("button",{onClick:j,className:"px-3 py-2 text-xs text-text-dark hover:text-text-light transition-colors duration-200",children:"Not now"})]})]}),r.jsx("button",{onClick:j,className:"flex-shrink-0 text-text-dark hover:text-text-light transition-colors duration-200",children:r.jsx(Et,{icon:"lucide:x",className:"w-4 h-4"})})]})})})},wv=({onDismiss:c,onBackup:f})=>r.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-yellow-800/90 backdrop-blur-sm p-3 text-center text-sm text-white z-50 flex items-center justify-center gap-4",children:[r.jsx("span",{children:"Heads up! It's been a while since your last data backup. It's a good idea to save your work regularly."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:f,className:"px-3 py-1 bg-primary-blue rounded font-semibold",children:"Go to Garage"}),r.jsx("button",{onClick:c,className:"px-3 py-1 bg-slate-600 rounded",children:"Remind me Later"})]})]});function jv(){const{isOnboarding:c,currentView:f,flow:m,userProfile:d,isSidebarOpen:y,isRightRailOpen:v,closeSidebars:w,toggleSidebar:j,toggleRightRail:k}=Cn(),[K,B]=J.useState(!1),[I,F]=J.useState(!1),ae=J.useRef(f),le=J.useRef(null);if(J.useLayoutEffect(()=>{(d==null?void 0:d.borderRadius)!==void 0?document.documentElement.style.setProperty("--border-radius",`${d.borderRadius}px`):document.documentElement.style.setProperty("--border-radius","0.75rem")},[d==null?void 0:d.borderRadius]),J.useEffect(()=>{if(c)return;const fe=localStorage.getItem("lexLastBackupTimestamp");if(!fe)localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString());else{const ie=new Date(fe),ke=new Date,P=336*60*60*1e3;ke.getTime()-ie.getTime()>P&&F(!0)}},[c]),J.useEffect(()=>{c||ye.context.setView(f)},[f,c]),J.useEffect(()=>{if(!c){if(!K){B(!0);return}if(ae.current!==f){const fe=setTimeout(()=>{if(window.speechSynthesis.speaking)return;const ie=sv(m,f);ye.tts.speak(ie)},200);return ae.current=f,()=>clearTimeout(fe)}}},[f,c,m,K]),J.useEffect(()=>{const fe=ke=>{ke.touches.length===1&&(le.current=ke.touches[0].clientX)},ie=ke=>{if(le.current!==null&&ke.changedTouches.length===1){const xe=ke.changedTouches[0].clientX-le.current,Le=le.current,$e=window.innerWidth,dt=40;Le<dt&&xe>50&&!y?j():Le>$e-dt&&xe<-50&&!v&&k()}le.current=null};return window.addEventListener("touchstart",fe),window.addEventListener("touchend",ie),()=>{window.removeEventListener("touchstart",fe),window.removeEventListener("touchend",ie)}},[y,v,j,k]),c)return r.jsx(av,{});const ce=(d==null?void 0:d.layout)==="main_sidebar_chat"?"layout-main-sidebar-chat":"layout-sidebar-main-chat",pe=()=>{localStorage.setItem("lexLastBackupTimestamp",new Date().toISOString()),F(!1)},Ne=()=>{ye.page({to:"garage"}),pe()},oe=y||v;return r.jsxs("div",{className:"h-screen w-screen flex flex-col font-sans antialiased overflow-hidden",style:{paddingTop:"1rem"},children:[r.jsx(xv,{}),I&&r.jsx(wv,{onDismiss:pe,onBackup:Ne}),r.jsx(dv,{onMenuClick:j,onChatClick:k}),r.jsxs("div",{className:`main-content-area flex flex-grow overflow-hidden ${ce}`,style:{marginTop:"0.5rem"},children:[r.jsx(Um,{}),r.jsx(qm,{}),r.jsx(Km,{})]}),r.jsx(Im,{}),r.jsx(uv,{}),oe&&r.jsx("div",{className:"backdrop",onClick:w}),r.jsx(bv,{}),r.jsx("div",{className:"fixed bottom-2 right-4 text-xs text-slate-700 pointer-events-none",children:"This is a leeway Industries product. By rapidwebdevelop.com."}),r.jsx("style",{children:`
        .layout-sidebar-main-chat { display: flex; }
        .layout-main-sidebar-chat { display: flex; }
        .layout-main-sidebar-chat > .sidebar { order: 2; }
        .layout-main-sidebar-chat > .workspace { order: 1; }
        .layout-main-sidebar-chat > .right-rail { order: 3; }
      `})]})}const Sv=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";Sv&&S0();const Ym=document.getElementById("root");if(!Ym)throw new Error("Could not find root element to mount to");const Nv=pg.createRoot(Ym);Nv.render(r.jsx(Ji.StrictMode,{children:r.jsx(D0,{children:r.jsx(Zy,{children:r.jsx(jv,{})})})}));
